(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1201:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"linux安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux安装"}},[s._v("#")]),s._v(" Linux安装")]),s._v(" "),e("h2",{attrs:{id:"_1、linux安装-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、linux安装-docker"}},[s._v("#")]),s._v(" 1、linux安装 Docker")]),s._v(" "),e("blockquote",[e("p",[s._v("Docker 安装文档：https://docs.docker.com/install/linux/docker-ce/centos/")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("卸载系统之前的docker")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo yum remove docker \\\ndocker-client \\\ndocker-client-latest \\\ndocker-common \\\ndocker-latest \\\ndocker-latest-logrotate \\\ndocker-logrotate \\\ndocker-engine\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("安装Docker-CE")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("安装必须的依赖")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo yum install -y yum-utils \\\ndevice-mapper-persistent-data \\\nlvm2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("设置docker repo 的yum 位置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo yum-config-manager \\\n--add-repo \\\nhttps://download.docker.com/linux/centos/docker-ce.repo\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("安装docker，以及docker-cli")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo yum install docker-ce docker-ce-cli containerd.io\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])]),s._v(" "),e("li",[e("p",[s._v("启动docker")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo systemctl start docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[s._v("查看docker版本")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker -v\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查看docker 镜像列表")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker images\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])])]),s._v(" "),e("li",[e("p",[s._v("设置开机自启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo systemctl enable docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("测试docker 常用命令，注意切换到root 用户下")]),s._v(" "),e("blockquote",[e("p",[s._v("https://docs.docker.com/engine/reference/commandline/docker/")])])]),s._v(" "),e("li",[e("p",[s._v("配置docker 镜像加速")]),s._v(" "),e("blockquote",[e("p",[s._v("阿里云，容器镜像服务\n针对Docker 客户端版本大于1.10.0 的用户\n您可以通过修改daemon 配置文件/etc/docker/daemon.json 来使用加速器")])])])]),s._v(" "),e("h3",{attrs:{id:"常见错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见错误"}},[s._v("#")]),s._v(" 常见错误：")]),s._v(" "),e("h3",{attrs:{id:"_1、镜像名重复或已存在"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、镜像名重复或已存在"}},[s._v("#")]),s._v(" 1、镜像名重复或已存在")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('docker: Error response from daemon: Conflict. The container name "/mysql" is already in use by container "9f52d88a12eadbfb81707191fe2c2090f5dcfbd1f6a7461d97e32ad947c2feab". You have to remove (or rename) that container to be able to reuse that name.\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("解法方法：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("先查看镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker ps -a\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('[root@xiaobear ~]# docker ps -a\nCONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS                     PORTS     NAMES\n9f52d88a12ea   mysql     "docker-entrypoint.s…"   7 minutes ago   Exited (1) 7 minutes ago             mysql\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("移除"),e("code",[s._v("CONTAINER ID")]),s._v("名")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker rm 9f52d88a12ea\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("再创建新的容器")])])]),s._v(" "),e("h2",{attrs:{id:"_2、linux安装jdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、linux安装jdk"}},[s._v("#")]),s._v(" 2、linux安装jdk")]),s._v(" "),e("p",[s._v("1、先去官网下载好对应的linux版本的压缩包，https://www.oracle.com/java/technologies/downloads/#java8")]),s._v(" "),e("p",[s._v("2、将压缩包通过ftp进行上传至服务器")]),s._v(" "),e("p",[s._v("3、进入目录，进行解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /压缩包目录\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v("  -zxvf  jdk-8u131-linux-x64.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("4、进入环境变量文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("5、增加环境变量")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("//JAVA_HOME"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("解压后的jdk路径"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("改成自己的"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/java/jdk1.8.0_181\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("6、配置文件生效")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("7、查看是否安装成功")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("java -version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_3、linux安装-nacos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、linux安装-nacos"}},[s._v("#")]),s._v(" 3、linux安装 Nacos")]),s._v(" "),e("p",[s._v("1、从官网地址下载最新安装包：https://github.com/alibaba/nacos/releases")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("nacos-server-2.0.3.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("2、查看官方安装教程：https://nacos.io/zh-cn/docs/quick-start.html")]),s._v(" "),e("p",[s._v("3、解压nacos")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zvxf nacos-server-2.0.3.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("4、更改配置")]),s._v(" "),e("div",{staticClass:"language-properties line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("server.port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("8848")]),s._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#*************** Network Related Configurations ***************#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### If prefer hostname over ip for Nacos server addresses in cluster.conf:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nacos.inetutils.prefer-hostname-over-ip=false")]),s._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### Specify local server's IP:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nacos.inetutils.ip-address=")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#*************** Config Module Related Configurations ***************#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### If use MySQL as datasource:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("spring.datasource.platform")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mysql")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### Count of DB:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.num")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### Connect URL of DB:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.url.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("jdbc:mysql://127.0.0.1:3306/ry-config?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.user")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("root")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.password")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("123456")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### Connection pool configuration: hikariCP")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.pool.config.connectionTimeout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("30000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.pool.config.validationTimeout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("10000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.pool.config.maximumPoolSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("20")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("db.pool.config.minimumIdle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("p",[s._v("5、启动命令(standalone代表着单机模式运行，非集群模式)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd nacos/bin\nsh startup.sh -m standalone\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("6、关闭服务器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sh shutdown.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("备注：")]),s._v(" "),e("p",[s._v("2.0以上版本记得多开放端口")]),s._v(" "),e("p",[s._v("Nacos2.0版本相比1.X新增了gRPC的通信方式，因此需要增加2个端口。新增端口是在配置的主端口(server.port)基础上，进行一定偏移量自动生成。")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[s._v("端口")]),s._v(" "),e("th",{staticStyle:{"text-align":"left"}},[s._v("与主端口的偏移量")]),s._v(" "),e("th",{staticStyle:{"text-align":"left"}},[s._v("描述")])])]),s._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("9848")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("1000")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("客户端gRPC请求服务端端口，用于客户端向服务端发起连接和请求")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("9849")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("1001")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("服务端gRPC请求服务端端口，用于服务间同步等")])])])]),s._v(" "),e("h2",{attrs:{id:"_4、linux安装-maven"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、linux安装-maven"}},[s._v("#")]),s._v(" 4、linux安装 maven")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("去官网下载对应的版本：https://maven.apache.org/download.cgi")]),s._v(" "),e("p",[e("img",{attrs:{src:t(391),alt:"image-20211225130501534"}})])]),s._v(" "),e("li",[e("p",[s._v("将下载好的 maven压缩文件置于指定的目录下：cd /root/tools/")])]),s._v(" "),e("li",[e("p",[s._v("解压")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zvxf apache-maven-3.8.4-bin.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("配置环境变量，vi /etc/profile")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加配置")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAVEN_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root/tools/apache-maven-3.8.4\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MAVEN_HOME")]),s._v("/bin:"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("重载配置文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查看是否安装成功")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mvn -v\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("配置settings，找到maven的安装路径下的conf/settings.xml文件")]),s._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--配置仓库地址--\x3e")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("localRepository")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("/root/tools/apache-maven-3.8.4/repo"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("localRepository")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--配置镜像仓库地址--\x3e")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mirror")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("alimaven"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("id")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("aliyun maven"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n       "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("url")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("http://maven.aliyun.com/nexus/content/groups/public/"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("url")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mirrorOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("central"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("mirrorOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("mirror")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("查看是否配置成功，执行命令，是否从镜像仓库下载")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mvn help:system\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"_5、linux安装nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、linux安装nginx"}},[s._v("#")]),s._v(" 5、linux安装Nginx")]),s._v(" "),e("h3",{attrs:{id:"_1、yum安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、yum安装"}},[s._v("#")]),s._v(" 1、yum安装")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("安装命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 nginx")]),s._v("\nyum remove nginx  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载 nginx")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("配置文件路径，/etc/nginx目录下")])]),s._v(" "),e("li",[e("p",[s._v("配置nginx")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" nginx "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开机启动 ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx start "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 nginx 服务")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx stop "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止 nginx 服务")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx restart "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 nginx 服务")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx reload "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新加载配置，一般是在修改过 nginx 配置文件时使用。")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"_6、linux安装mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、linux安装mysql"}},[s._v("#")]),s._v(" 6、linux安装MySQL")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("检测系统是否自带安装 MySQL")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rpm -qa | grep mysql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("卸载")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rpm -e mysql　　// 普通删除模式\nrpm -e --nodeps mysql　　// 强力删除模式，如果使用上面命令删除时，提示有依赖的其它文件，则用该命令可以对其进行强力删除\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"_7、linux安装rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7、linux安装rabbitmq"}},[s._v("#")]),s._v(" 7、Linux安装RabbitMQ")]),s._v(" "),e("blockquote",[e("p",[s._v("我使用的Linux搭建，搭建流程可参考官网：https://www.rabbitmq.com/install-rpm.html")]),s._v(" "),e("p",[s._v("查看系统版本号，Rabbitmq 对 Erlang 有版本要求，不能使用太旧的Erlang版本：https://www.rabbitmq.com/which-erlang.html")]),s._v(" "),e("p",[s._v("Erlang下载地址：https://github.com/rabbitmq/erlang-rpm/releases")])]),s._v(" "),e("h4",{attrs:{id:"_1、下载rpm包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、下载rpm包"}},[s._v("#")]),s._v(" 1、下载rpm包")]),s._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[s._v("erlang-23.3.4.8-1.el7.x86_64.rpm")])]),s._v(" "),e("li",[e("p",[s._v("rabbitmq-server-3.10.5-1.el8.noarch.rpm")])])])]),s._v(" "),e("h4",{attrs:{id:"_2、上传至服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、上传至服务器"}},[s._v("#")]),s._v(" 2、上传至服务器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建存放目录")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /usr/rabbitmq\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"_3、安装文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装文件"}},[s._v("#")]),s._v(" 3、安装文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xiaobear rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -Uvih erlang-25.0.2-1.el8.x86_64.rpm ")]),s._v("\n警告：erlang-25.0.2-1.el8.x86_64.rpm: 头V4 RSA/SHA256 Signature, 密钥 ID cc4bbe5b: NOKEY\n错误：依赖检测失败：\n\tlibcrypto.so.1.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 被 erlang-25.0.2-1.el8.x86_64 需要\n\tlibcrypto.so.1.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OPENSSL_1_1_0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 被 erlang-25.0.2-1.el8.x86_64 需要\n\tlibcrypto.so.1.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OPENSSL_1_1_1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 被 erlang-25.0.2-1.el8.x86_64 需要\n\tlibstdc++.so.6"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CXXABI_1.3.9"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 被 erlang-25.0.2-1.el8.x86_64 需要\n\tlibtinfo.so.6"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 被 erlang-25.0.2-1.el8.x86_64 需要\n\tlibz.so.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ZLIB_1.2.7.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("64bit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 被 erlang-25.0.2-1.el8.x86_64 需要\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("PS：这是因为下载版本的问题，el8下载的是8的版本，改回下载7的就可以了")]),s._v(" "),e("p",[s._v("我下载的版本："),e("a",{attrs:{href:"https://github.com/rabbitmq/erlang-rpm/releases/download/v23.3.4.8/erlang-23.3.4.8-1.el7.x86_64.rpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("erlang-23.3.4.8-1.el7.x86_64.rpm"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xiaobear rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -Uivh erlang-23.3.4.8-1.el7.x86_64.rpm ")]),s._v("\n警告：erlang-23.3.4.8-1.el7.x86_64.rpm: 头V4 RSA/SHA256 Signature, 密钥 ID cc4bbe5b: NOKEY\n准备中"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("################################# [100%]")]),s._v("\n正在升级/安装"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":erlang-23.3.4.8-1.el7            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("################################# [100%]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xiaobear rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum install socat -y")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("查看版本")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试")]),s._v("\nerl -version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("code",[s._v("rabbitmq")]),s._v("在安装过程中需要依赖"),e("code",[s._v("socat")]),s._v("这个插件，需要先安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xiaobear rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -ivh rabbitmq-server-3.10.5-1.el8.noarch.rpm ")]),s._v("\n警告：rabbitmq-server-3.10.5-1.el8.noarch.rpm: 头V4 RSA/SHA512 Signature, 密钥 ID 6026dfca: NOKEY\n准备中"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("################################# [100%]")]),s._v("\n正在升级/安装"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":rabbitmq-server-3.10.5-1.el8     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("################################# [100%]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@xiaobear rabbitmq"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h4",{attrs:{id:"_4、常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、常用命令"}},[s._v("#")]),s._v(" 4、常用命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开机启动 chkconfig rabbitmq-server on会转发到下面命令")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq-server.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动服务")]),s._v("\nsystemctl start rabbitmq-server\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看服务状态，running表示启动成功")]),s._v("\nsystemctl status rabbitmq-server.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开机自启动")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq-server\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止服务")]),s._v("\nsystemctl stop rabbitmq-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h4",{attrs:{id:"_5、安装web管理插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、安装web管理插件"}},[s._v("#")]),s._v(" 5、安装Web管理插件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("rabbitmq-plugins "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq_management\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装完成后，重启服务")]),s._v("\nsystemctl restart rabbitmq-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"_6、访问web页面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、访问web页面"}},[s._v("#")]),s._v(" 6、访问web页面")]),s._v(" "),e("p",[s._v("访问地址：服务器 IP+端口号（默认15672）,若没有反应，请开放端口，执行下面命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 防火墙开放15672端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v("/tcp --permanent\nfirewall-cmd --reload\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("注意：")]),s._v(" "),e("ul",[e("li",[s._v("在对应服务器（阿里云，腾讯云等）的安全组中开放"),e("code",[s._v("15672")]),s._v("端口（rabbitmq默认端口号），5672端口后续程序需要使用也要开放")]),s._v(" "),e("li",[s._v("rabbitmq有一个默认账号和密码都是："),e("code",[s._v("guest")]),s._v("默认情况只能在 localhost本计下访问，所以需要添加一个远程登录的用户")])]),s._v(" "),e("h4",{attrs:{id:"_7、添加用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7、添加用户"}},[s._v("#")]),s._v(" 7、添加用户")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("创建账号")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("rabbitmqctl add_user admin admin123\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("分配角色")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("rabbitmqctl set_user_tags admin administrator\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("用户操作权限分四种级别：")]),s._v(" "),e("ol",[e("li",[s._v("administrator：可以登录控制台、查看所有信息、可以对 rabbitmq进行管理")]),s._v(" "),e("li",[s._v("monitoring：监控者 登录控制台，查看所有信息")]),s._v(" "),e("li",[s._v("policymaker：策略制定者 登录控制台，指定策略")]),s._v(" "),e("li",[s._v("managment 普通管理员 登录控制台")])])]),s._v(" "),e("li",[e("p",[s._v("设置权限")]),s._v(" "),e("blockquote",[e("p",[s._v("set_permissions [-p "),e("vhostpath",[s._v("] "),e("user",[e("conf",[e("write",[e("read")],1)],1)],1)],1)],1),s._v(" "),e("p",[s._v("用户 user_admin 具有/vhost1 这个 virtual host 中所有资源的配置、写、读权限当前用户和角色")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("rabbitmqctl set_permissions -p "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),s._v(" admin "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("再次访问登录，即可成功")])])]),s._v(" "),e("h4",{attrs:{id:"_8、重置命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8、重置命令"}},[s._v("#")]),s._v(" 8、重置命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#关闭应用的命令")]),s._v("\nrabbitmqctl stop_app\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#清除的命令")]),s._v("\nrabbitmqctl reset\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重新启动命令")]),s._v("\nrabbitmqctl start_app\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h4",{attrs:{id:"_9、其他命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9、其他命令"}},[s._v("#")]),s._v(" 9、其他命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加账号、密码")]),s._v("\nrabbitmqctl add_user\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置账号为管理员")]),s._v("\nrabbitmqctl set_user_tags 账号 administrator\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改账号密码")]),s._v("\nrabbitmqctl change_password Username Newpassword\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看用户清单")]),s._v("\nrabbitmqctl list_users\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加账号查看资源的权限")]),s._v("\nrabbitmqctl set_permissions -p / 用户名 "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('".*"')]),s._v('".*'),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v('.*"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports},391:function(s,a,t){s.exports=t.p+"assets/img/image-20211225130501534.4ac22f1f.png"}}]);