<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1ã€ä»€ä¹ˆæ˜¯Spring Bootï¼Ÿ | å°ç†Šå­¦Java</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="./xiaobear.ico">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c1b38aee20eeeb56adb65146a17e0b47";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
        </script>
    <meta name="description" content="æ”¾å¼ƒå¾ˆå®¹æ˜“ï¼Œä½†åšæŒä¸€å®šå¾ˆé…·ï¼">
    <meta name="baidu-site-verification" content="code-FVmKyJMz00">
    <meta name="360-site-verification" content="b9b356af59f019380844a85d5b887d22">
    
    <link rel="preload" href="/assets/css/0.styles.0472eac5.css" as="style"><link rel="preload" href="/assets/js/app.d2dddad7.js" as="script"><link rel="preload" href="/assets/js/8.bb74f850.js" as="script"><link rel="preload" href="/assets/js/70.86daeb61.js" as="script"><link rel="prefetch" href="/assets/js/10.219a0fce.js"><link rel="prefetch" href="/assets/js/11.a587923a.js"><link rel="prefetch" href="/assets/js/12.5ff775ea.js"><link rel="prefetch" href="/assets/js/13.ca3e18f2.js"><link rel="prefetch" href="/assets/js/14.f4380bc6.js"><link rel="prefetch" href="/assets/js/15.30bda40a.js"><link rel="prefetch" href="/assets/js/16.860bc5c0.js"><link rel="prefetch" href="/assets/js/17.c86cddfd.js"><link rel="prefetch" href="/assets/js/18.49946826.js"><link rel="prefetch" href="/assets/js/19.c3c5b8d9.js"><link rel="prefetch" href="/assets/js/2.79b322eb.js"><link rel="prefetch" href="/assets/js/20.61738236.js"><link rel="prefetch" href="/assets/js/21.70782ca1.js"><link rel="prefetch" href="/assets/js/22.552c82e2.js"><link rel="prefetch" href="/assets/js/23.16eb9402.js"><link rel="prefetch" href="/assets/js/24.10ce9dc3.js"><link rel="prefetch" href="/assets/js/25.f6f546ef.js"><link rel="prefetch" href="/assets/js/26.5f10ccde.js"><link rel="prefetch" href="/assets/js/27.086324e4.js"><link rel="prefetch" href="/assets/js/28.4e1803e5.js"><link rel="prefetch" href="/assets/js/29.718dd53c.js"><link rel="prefetch" href="/assets/js/3.339d98f6.js"><link rel="prefetch" href="/assets/js/30.1dd6b1a9.js"><link rel="prefetch" href="/assets/js/31.80422899.js"><link rel="prefetch" href="/assets/js/32.d15db6e7.js"><link rel="prefetch" href="/assets/js/33.469fa6a3.js"><link rel="prefetch" href="/assets/js/34.eb4900e6.js"><link rel="prefetch" href="/assets/js/35.f680a291.js"><link rel="prefetch" href="/assets/js/36.beabbef4.js"><link rel="prefetch" href="/assets/js/37.d4ae7870.js"><link rel="prefetch" href="/assets/js/38.96a28379.js"><link rel="prefetch" href="/assets/js/39.4634fefc.js"><link rel="prefetch" href="/assets/js/4.2d08b85b.js"><link rel="prefetch" href="/assets/js/40.031da63e.js"><link rel="prefetch" href="/assets/js/41.0823004c.js"><link rel="prefetch" href="/assets/js/42.deca57ab.js"><link rel="prefetch" href="/assets/js/43.6037cbf0.js"><link rel="prefetch" href="/assets/js/44.5d2c7d63.js"><link rel="prefetch" href="/assets/js/45.dc1ed3af.js"><link rel="prefetch" href="/assets/js/46.220f3c70.js"><link rel="prefetch" href="/assets/js/47.2c9baac9.js"><link rel="prefetch" href="/assets/js/48.ac3de682.js"><link rel="prefetch" href="/assets/js/49.b5f73a3e.js"><link rel="prefetch" href="/assets/js/5.b2fae7e5.js"><link rel="prefetch" href="/assets/js/50.19115328.js"><link rel="prefetch" href="/assets/js/51.a5f5110f.js"><link rel="prefetch" href="/assets/js/52.3e9d0105.js"><link rel="prefetch" href="/assets/js/53.049754c2.js"><link rel="prefetch" href="/assets/js/54.fe280c9f.js"><link rel="prefetch" href="/assets/js/55.3ba26bdb.js"><link rel="prefetch" href="/assets/js/56.41c8ac44.js"><link rel="prefetch" href="/assets/js/57.d30a53d7.js"><link rel="prefetch" href="/assets/js/58.fabe5c4e.js"><link rel="prefetch" href="/assets/js/59.12420309.js"><link rel="prefetch" href="/assets/js/6.6bbcc6f8.js"><link rel="prefetch" href="/assets/js/60.f01e214b.js"><link rel="prefetch" href="/assets/js/61.8a29520d.js"><link rel="prefetch" href="/assets/js/62.1dddcf53.js"><link rel="prefetch" href="/assets/js/63.a1b45863.js"><link rel="prefetch" href="/assets/js/64.896fdd2b.js"><link rel="prefetch" href="/assets/js/65.e409e199.js"><link rel="prefetch" href="/assets/js/66.5f345f6a.js"><link rel="prefetch" href="/assets/js/67.47b8d9a9.js"><link rel="prefetch" href="/assets/js/68.ed34f72b.js"><link rel="prefetch" href="/assets/js/69.f527fb29.js"><link rel="prefetch" href="/assets/js/7.fd213df8.js"><link rel="prefetch" href="/assets/js/71.a8158a03.js"><link rel="prefetch" href="/assets/js/72.226a54da.js"><link rel="prefetch" href="/assets/js/73.afa02b94.js"><link rel="prefetch" href="/assets/js/74.16f331fc.js"><link rel="prefetch" href="/assets/js/75.3428500c.js"><link rel="prefetch" href="/assets/js/76.5b02e2ef.js"><link rel="prefetch" href="/assets/js/77.3ebd8344.js"><link rel="prefetch" href="/assets/js/78.3df17e1e.js"><link rel="prefetch" href="/assets/js/79.c52fb2ed.js"><link rel="prefetch" href="/assets/js/9.e736e701.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0472eac5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å°ç†Šå­¦Java</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  ğŸ é¦–é¡µ
</a></div><div class="nav-item"><a href="/brush/" class="nav-link">
  ğŸ“ç ä¸åœé¢˜
</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">
  ğŸ’¸é¢è¯•ä¸“æ 
</a></div><div class="nav-item"><a href="/install/" class="nav-link">
  ğŸ“–å®‰è£…æ•™ç¨‹
</a></div><div class="nav-item"><a href="/notes/" class="nav-link">
  ğŸ““å­¦ä¹ ç¬”è®°
</a></div><div class="nav-item"><a href="/architecture/" class="nav-link">
  ğŸ› æ¶æ„è®¾è®¡
</a></div><div class="nav-item"><a href="/about/me.html" class="nav-link">
  ğŸ‘¨â€å…³äº
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  ğŸ é¦–é¡µ
</a></div><div class="nav-item"><a href="/brush/" class="nav-link">
  ğŸ“ç ä¸åœé¢˜
</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">
  ğŸ’¸é¢è¯•ä¸“æ 
</a></div><div class="nav-item"><a href="/install/" class="nav-link">
  ğŸ“–å®‰è£…æ•™ç¨‹
</a></div><div class="nav-item"><a href="/notes/" class="nav-link">
  ğŸ““å­¦ä¹ ç¬”è®°
</a></div><div class="nav-item"><a href="/architecture/" class="nav-link">
  ğŸ› æ¶æ„è®¾è®¡
</a></div><div class="nav-item"><a href="/about/me.html" class="nav-link">
  ğŸ‘¨â€å…³äº
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaåŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/javaBasics/overview.html" class="sidebar-link">Javaæ¦‚è¿°</a></li><li><a href="/interview/javaBasics/objectOriented.html" class="sidebar-link">Javaé¢å‘å¯¹è±¡</a></li><li><a href="/interview/javaBasics/javaSE.html" class="sidebar-link">JavaSE</a></li><li><a href="/interview/javaBasics/typeOfData.html" class="sidebar-link">Javaæ•°æ®ç±»å‹</a></li><li><a href="/interview/javaBasics/exception.html" class="sidebar-link">Javaå¼‚å¸¸</a></li><li><a href="/interview/javaBasics/collection.html" class="sidebar-link">Javaé›†åˆ</a></li><li><a href="/interview/javaBasics/multithreading.html" class="sidebar-link">Javaå¤šçº¿ç¨‹</a></li><li><a href="/interview/javaBasics/io.html" class="sidebar-link">Java IO</a></li><li><a href="/interview/javaBasics/innerClass.html" class="sidebar-link">Javaå†…éƒ¨ç±»</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javaé«˜çº§</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/javaHighLevel/reflection.html" class="sidebar-link">Javaåå°„</a></li><li><a href="/interview/javaHighLevel/jvm.html" class="sidebar-link">JVM</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>è®¡ç®—æœºåŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/computer/network.html" class="sidebar-link">è®¡ç®—æœºç½‘ç»œ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ•°æ®åº“</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/database/redis.html" class="sidebar-link">Redis</a></li><li><a href="/interview/database/MySQL.html" class="sidebar-link">MySQL</a></li><li><a href="/interview/database/MySQLTopics.html" class="sidebar-link">MySQLä¸“é¢˜</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Javaæ¡†æ¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/framework/Spring.html" class="sidebar-link">Spring</a></li><li><a href="/interview/framework/Spring MVC.html" class="sidebar-link">Spring MVC</a></li><li><a href="/interview/framework/Mybatis.html" class="sidebar-link">Mybatis</a></li><li><a href="/interview/framework/Spring Boot.html" class="active sidebar-link">Spring Boot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_1ã€ä»€ä¹ˆæ˜¯spring-boot" class="sidebar-link">1ã€ä»€ä¹ˆæ˜¯Spring Bootï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_2ã€spring-bootæœ‰å“ªäº›ä¼˜ç‚¹" class="sidebar-link">2ã€Spring Bootæœ‰å“ªäº›ä¼˜ç‚¹ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_3ã€spring-bootæ ¸å¿ƒæ³¨è§£æ˜¯å“ªä¸ª-ç”±å“ªå‡ ä¸ªç»„æˆå‘¢" class="sidebar-link">3ã€Spring Bootæ ¸å¿ƒæ³¨è§£æ˜¯å“ªä¸ªï¼Œç”±å“ªå‡ ä¸ªç»„æˆå‘¢ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_4ã€spring-booté…ç½®æ–‡ä»¶åŠ è½½ä½ç½®" class="sidebar-link">4ã€Spring Booté…ç½®æ–‡ä»¶åŠ è½½ä½ç½®</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_5ã€spring-bootå¤–éƒ¨é…ç½®åŠ è½½é¡ºåº" class="sidebar-link">5ã€Spring Bootå¤–éƒ¨é…ç½®åŠ è½½é¡ºåº</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_6ã€springbootäº‹ç‰©çš„ä½¿ç”¨" class="sidebar-link">6ã€SpringBootäº‹ç‰©çš„ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_7ã€asyncå¼‚æ­¥è°ƒç”¨æ–¹æ³•" class="sidebar-link">7ã€Asyncå¼‚æ­¥è°ƒç”¨æ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_8ã€-spring-boot-ä¸­å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜" class="sidebar-link">8ã€ Spring Boot ä¸­å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_9ã€spring-boot-ä¸­çš„ç›‘è§†å™¨æ˜¯ä»€ä¹ˆ" class="sidebar-link">9ã€Spring Boot ä¸­çš„ç›‘è§†å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_10ã€å¦‚ä½•åœ¨-spring-boot-ä¸­ç¦ç”¨-actuator-ç«¯ç‚¹å®‰å…¨æ€§" class="sidebar-link">10ã€å¦‚ä½•åœ¨ Spring Boot ä¸­ç¦ç”¨ Actuator ç«¯ç‚¹å®‰å…¨æ€§ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_11ã€å¦‚ä½•å®ç°-spring-boot-åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§" class="sidebar-link">11ã€å¦‚ä½•å®ç° Spring Boot åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_12ã€ä»€ä¹ˆæ˜¯-spring-profiles" class="sidebar-link">12ã€ä»€ä¹ˆæ˜¯ Spring Profilesï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_13ã€å¦‚ä½•ä½¿ç”¨-spring-boot-å®ç°å¼‚å¸¸å¤„ç†" class="sidebar-link">13ã€å¦‚ä½•ä½¿ç”¨ Spring Boot å®ç°å¼‚å¸¸å¤„ç†ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_14ã€controlleradvice-å’Œ-restcontrolleradvice-æœ‰ä»€ä¹ˆåŒºåˆ«" class="sidebar-link">14ã€ControllerAdvice å’Œ RestControllerAdvice æœ‰ä»€ä¹ˆåŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_15ã€-å¦‚ä½•åœ¨-spring-boot-å¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç " class="sidebar-link">15ã€ å¦‚ä½•åœ¨ Spring Boot å¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_16ã€spring-bootæ€ä¹ˆç¦ç”¨å¾ªç¯ä¾èµ–" class="sidebar-link">16ã€Spring Bootæ€ä¹ˆç¦ç”¨å¾ªç¯ä¾èµ–ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_17ã€spring-bootè‡ªåŠ¨é…ç½®çš„åŸç†" class="sidebar-link">17ã€Spring Bootè‡ªåŠ¨é…ç½®çš„åŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#springbootapplication-configuration-enableautoconfiguration-componentscan" class="sidebar-link">@SpringBootApplication=@Configuration+@EnableAutoConfiguration+@ComponentScan</a></li></ul></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#configuration" class="sidebar-link">@Configuration</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#enableautoconfiguration" class="sidebar-link">@EnableAutoConfiguration</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#componentscan" class="sidebar-link">@ComponentScan</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#è‡ªåŠ¨é…ç½®å¹•åè‹±é›„-springfactoriesloader" class="sidebar-link">è‡ªåŠ¨é…ç½®å¹•åè‹±é›„ï¼šSpringFactoriesLoader</a></li><li class="sidebar-sub-header"><a href="/interview/framework/Spring Boot.html#_18ã€spring-bootæ’é™¤æŸäº›è‡ªåŠ¨é…ç½®" class="sidebar-link">18ã€Spring Bootæ’é™¤æŸäº›è‡ªåŠ¨é…ç½®ï¼Ÿ</a></li></ul></li><li><a href="/interview/framework/Spring Cloud.html" class="sidebar-link">Spring Cloud</a></li><li><a href="/interview/framework/Spring Cloud Alibaba.html" class="sidebar-link">Spring Cloud Alibaba</a></li><li><a href="/interview/framework/RabbitMQ.html" class="sidebar-link">RabbitMQ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>åº•å±‚æºç </span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/sourceCode/ArrayList.html" class="sidebar-link">ArrayListæ‰©å®¹æœºåˆ¶</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1ã€ä»€ä¹ˆæ˜¯spring-boot"><a href="#_1ã€ä»€ä¹ˆæ˜¯spring-boot" class="header-anchor">#</a> 1ã€ä»€ä¹ˆæ˜¯Spring Bootï¼Ÿ</h2> <blockquote><ul><li><p>å®ƒä½¿ç”¨**â€œä¹ æƒ¯ä¼˜äºé…ç½®â€**ï¼ˆé¡¹ç›®ä¸­å­˜åœ¨å¤§é‡çš„é…ç½®ï¼Œæ­¤å¤–è¿˜å†…ç½®äº†ä¸€ä¸ªä¹ æƒ¯æ€§çš„é…ç½®ï¼Œè®©ä½ æ— éœ€æ‰‹åŠ¨é…ç½®ï¼‰çš„ç†å¿µè®©ä½ çš„é¡¹ç›®å¿«é€Ÿè¿è¡Œèµ·æ¥ã€‚</p></li> <li><p>Spring Bootæ•´åˆäº†æ‰€æœ‰æ¡†æ¶</p></li> <li><p>ç®€åŒ–Springåº”ç”¨å¼€å‘çš„ä¸€ä¸ªæ¡†æ¶</p></li></ul></blockquote> <h2 id="_2ã€spring-bootæœ‰å“ªäº›ä¼˜ç‚¹"><a href="#_2ã€spring-bootæœ‰å“ªäº›ä¼˜ç‚¹" class="header-anchor">#</a> 2ã€Spring Bootæœ‰å“ªäº›ä¼˜ç‚¹ï¼Ÿ</h2> <blockquote><ul><li>åˆ›å»ºç‹¬ç«‹çš„Springåº”ç”¨ç¨‹åº</li> <li>ç›´æ¥åµŒå…¥Tomcatï¼ŒJettyæˆ–Undertowï¼ˆæ— éœ€éƒ¨ç½²WARæ–‡ä»¶ï¼‰</li> <li>æä¾›â€œåˆå§‹â€çš„POMæ–‡ä»¶å†…å®¹ï¼Œä»¥ç®€åŒ–Mavené…ç½®</li> <li>å°½å¯èƒ½è‡ªåŠ¨é…ç½®Spring</li> <li>æä¾›ç”Ÿäº§å°±ç»ªçš„åŠŸèƒ½ï¼Œå¦‚æŒ‡æ ‡ï¼Œå¥åº·æ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®</li> <li>ç»å¯¹æ— ä»£ç ç”Ÿæˆï¼Œä¹Ÿä¸éœ€è¦XMLé…ç½®</li></ul></blockquote> <h2 id="_3ã€spring-bootæ ¸å¿ƒæ³¨è§£æ˜¯å“ªä¸ª-ç”±å“ªå‡ ä¸ªç»„æˆå‘¢"><a href="#_3ã€spring-bootæ ¸å¿ƒæ³¨è§£æ˜¯å“ªä¸ª-ç”±å“ªå‡ ä¸ªç»„æˆå‘¢" class="header-anchor">#</a> 3ã€Spring Bootæ ¸å¿ƒæ³¨è§£æ˜¯å“ªä¸ªï¼Œç”±å“ªå‡ ä¸ªç»„æˆå‘¢ï¼Ÿ</h2> <blockquote><p>å¯åŠ¨ç±»æ³¨è§£<code>@SpringBootApplication = @Configuration + @EnableAutoConfiguration + @ComponentScan</code></p> <ul><li>@Configurationï¼šæ ‡æ˜è¯¥ç±»ä½¿ç”¨SpringåŸºäºJavaçš„é…ç½®</li> <li>@EnableAutoConfigurationï¼šå¯åŠ¨è‡ªåŠ¨é…ç½®åŠŸèƒ½ã€‚</li> <li>@ComponentScanï¼šå¯ç”¨ç»„ä»¶æ‰«æï¼Œè¿™æ ·ä½ å†™çš„Webæ§åˆ¶å™¨ç±»å’Œå…¶ä»–ç»„ä»¶æ‰èƒ½è¢«è‡ªåŠ¨å‘ç°å¹¶æ³¨å†Œä¸ºSpringåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡é‡Œçš„Beanã€‚</li></ul></blockquote> <h2 id="_4ã€spring-booté…ç½®æ–‡ä»¶åŠ è½½ä½ç½®"><a href="#_4ã€spring-booté…ç½®æ–‡ä»¶åŠ è½½ä½ç½®" class="header-anchor">#</a> 4ã€Spring Booté…ç½®æ–‡ä»¶åŠ è½½ä½ç½®</h2> <blockquote><p>springboot å¯åŠ¨ä¼šæ‰«æä»¥ä¸‹ä½ç½®çš„application.propertiesæˆ–è€…application.ymlæ–‡ä»¶ä½œä¸ºSpring bootçš„é»˜è®¤é…ç½®æ–‡ä»¶</p> <ul><li><p>â€“file:./config/</p></li> <li><p>â€“file:./</p></li> <li><p>â€“classpath:/config/</p></li> <li><p>â€“classpath:/<strong>ï¼ˆé»˜è®¤ï¼‰</strong></p></li></ul> <p>ä¼˜å…ˆçº§**==ç”±é«˜åˆ°ä½==<strong>ï¼Œé«˜ä¼˜å…ˆçº§çš„é…ç½®ä¼š</strong>è¦†ç›–**ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼›</p> <p>SpringBootä¼šä»è¿™å››ä¸ªä½ç½®å…¨éƒ¨åŠ è½½ä¸»é…ç½®æ–‡ä»¶ï¼›<strong>==äº’è¡¥é…ç½®==</strong>ï¼›</p></blockquote> <h2 id="_5ã€spring-bootå¤–éƒ¨é…ç½®åŠ è½½é¡ºåº"><a href="#_5ã€spring-bootå¤–éƒ¨é…ç½®åŠ è½½é¡ºåº" class="header-anchor">#</a> 5ã€Spring Bootå¤–éƒ¨é…ç½®åŠ è½½é¡ºåº</h2> <blockquote><p>==SpringBootä¹Ÿå¯ä»¥ä»ä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®ï¼› ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼›é«˜ä¼˜å…ˆçº§çš„é…ç½®è¦†ç›–ä½ä¼˜å…ˆçº§çš„é…ç½®ï¼Œæ‰€æœ‰çš„é…ç½®ä¼šå½¢æˆäº’è¡¥é…ç½®==</p> <ol><li>å‘½ä»¤è¡Œå‚æ•° ï¼šæ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šè¿›è¡ŒæŒ‡å®š
java -jar spring-boot-02-config-02-0.0.1-SNAPSHOT.jar --server.port=8087 --server.context-path=/abc
å¤šä¸ªé…ç½®ç”¨ç©ºæ ¼åˆ†å¼€ï¼› --é…ç½®é¡¹=å€¼</li> <li>æ¥è‡ªjava:comp/envçš„JNDIå±æ€§</li> <li>Javaç³»ç»Ÿå±æ€§ï¼ˆSystem.getProperties()ï¼‰</li> <li>æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡</li> <li>RandomValuePropertySourceé…ç½®çš„random.*å±æ€§å€¼ï¼›ç”±jaråŒ…å¤–å‘jaråŒ…å†…è¿›è¡Œå¯»æ‰¾ï¼›ä¼˜å…ˆåŠ è½½å¸¦profile</li> <li>jaråŒ…å¤–éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶</li> <li>jaråŒ…å†…éƒ¨çš„application-{profile}.propertiesæˆ–application.yml(å¸¦spring.profile)é…ç½®æ–‡ä»¶ï¼Œå†æ¥åŠ è½½ä¸å¸¦profile</li> <li>jaråŒ…å¤–éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶</li> <li>jaråŒ…å†…éƒ¨çš„application.propertiesæˆ–application.yml(ä¸å¸¦spring.profile)é…ç½®æ–‡ä»¶</li> <li>@Configurationæ³¨è§£ç±»ä¸Šçš„@PropertySource</li> <li>é€šè¿‡<code>SpringApplication.setDefaultProperties</code>æŒ‡å®šçš„é»˜è®¤å±æ€§ï¼›æ‰€æœ‰æ”¯æŒçš„é…ç½®åŠ è½½æ¥æºï¼›å‚è€ƒå®˜æ–¹æ–‡æ¡£</li></ol></blockquote> <h2 id="_6ã€springbootäº‹ç‰©çš„ä½¿ç”¨"><a href="#_6ã€springbootäº‹ç‰©çš„ä½¿ç”¨" class="header-anchor">#</a> 6ã€SpringBootäº‹ç‰©çš„ä½¿ç”¨</h2> <blockquote><p>SpringBootçš„äº‹ç‰©å¾ˆç®€å•ï¼Œé¦–å…ˆä½¿ç”¨æ³¨è§£EnableTransactionManagementå¼€å¯äº‹ç‰©ä¹‹åï¼Œç„¶ååœ¨Serviceæ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£Transactionalä¾¿å¯ã€‚</p></blockquote> <h2 id="_7ã€asyncå¼‚æ­¥è°ƒç”¨æ–¹æ³•"><a href="#_7ã€asyncå¼‚æ­¥è°ƒç”¨æ–¹æ³•" class="header-anchor">#</a> 7ã€Asyncå¼‚æ­¥è°ƒç”¨æ–¹æ³•</h2> <blockquote><p>åœ¨<code>SpringBoot</code>ä¸­ä½¿ç”¨å¼‚æ­¥è°ƒç”¨æ˜¯å¾ˆç®€å•çš„ï¼Œåªéœ€è¦åœ¨æ–¹æ³•ä¸Šä½¿ç”¨<code>@Async</code>æ³¨è§£å³å¯å®ç°æ–¹æ³•çš„å¼‚æ­¥è°ƒç”¨ã€‚ æ³¨æ„ï¼šéœ€è¦åœ¨å¯åŠ¨ç±»åŠ å…¥<code>@EnableAsync</code>ä½¿å¼‚æ­¥è°ƒç”¨<code>@Async</code>æ³¨è§£ç”Ÿæ•ˆã€‚</p></blockquote> <h2 id="_8ã€-spring-boot-ä¸­å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜"><a href="#_8ã€-spring-boot-ä¸­å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜" class="header-anchor">#</a> 8ã€ Spring Boot ä¸­å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResourcesConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * è·¨åŸŸé…ç½®
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">CorsFilter</span> <span class="token function">corsFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">UrlBasedCorsConfigurationSource</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CorsConfiguration</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CorsConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        config<span class="token punctuation">.</span><span class="token function">setAllowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®è®¿é—®æºåœ°å€</span>
        config<span class="token punctuation">.</span><span class="token function">addAllowedOrigin</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®è®¿é—®æºè¯·æ±‚å¤´</span>
        config<span class="token punctuation">.</span><span class="token function">addAllowedHeader</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®è®¿é—®æºè¯·æ±‚æ–¹æ³•</span>
        config<span class="token punctuation">.</span><span class="token function">addAllowedMethod</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å¯¹æ¥å£é…ç½®è·¨åŸŸè®¾ç½®</span>
        source<span class="token punctuation">.</span><span class="token function">registerCorsConfiguration</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">,</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CorsFilter</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_9ã€spring-boot-ä¸­çš„ç›‘è§†å™¨æ˜¯ä»€ä¹ˆ"><a href="#_9ã€spring-boot-ä¸­çš„ç›‘è§†å™¨æ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> 9ã€Spring Boot ä¸­çš„ç›‘è§†å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2> <blockquote><p>Spring boot actuator æ˜¯ spring å¯åŠ¨æ¡†æ¶ä¸­çš„é‡è¦åŠŸèƒ½ä¹‹ä¸€ã€‚Spring boot ç›‘è§†å™¨å¯å¸®åŠ©æ‚¨è®¿é—®ç”Ÿäº§ç¯å¢ƒä¸­æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºçš„å½“å‰çŠ¶æ€ã€‚æœ‰å‡ ä¸ªæŒ‡æ ‡å¿…é¡»åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œæ£€æŸ¥å’Œç›‘æ§ã€‚å³ä½¿ä¸€äº›å¤–éƒ¨åº”ç”¨ç¨‹åºå¯èƒ½æ­£åœ¨ä½¿ç”¨è¿™äº›æœåŠ¡æ¥å‘ç›¸å…³äººå‘˜è§¦å‘è­¦æŠ¥æ¶ˆæ¯ã€‚ç›‘è§†å™¨æ¨¡å—å…¬å¼€äº†ä¸€ç»„å¯ç›´æ¥ä½œä¸º HTTP URL è®¿é—®çš„ REST ç«¯ç‚¹æ¥æ£€æŸ¥çŠ¶æ€ã€‚</p></blockquote> <h2 id="_10ã€å¦‚ä½•åœ¨-spring-boot-ä¸­ç¦ç”¨-actuator-ç«¯ç‚¹å®‰å…¨æ€§"><a href="#_10ã€å¦‚ä½•åœ¨-spring-boot-ä¸­ç¦ç”¨-actuator-ç«¯ç‚¹å®‰å…¨æ€§" class="header-anchor">#</a> 10ã€å¦‚ä½•åœ¨ Spring Boot ä¸­ç¦ç”¨ Actuator ç«¯ç‚¹å®‰å…¨æ€§ï¼Ÿ</h2> <blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ•æ„Ÿçš„ HTTP ç«¯ç‚¹éƒ½æ˜¯å®‰å…¨çš„ï¼Œåªæœ‰å…·æœ‰ ACTUATOR è§’è‰²çš„ç”¨æˆ·æ‰èƒ½è®¿é—®å®ƒä»¬ã€‚å®‰å…¨æ€§æ˜¯ä½¿ç”¨æ ‡å‡†çš„ HttpServletRequest.isUserInRole æ–¹æ³•å®æ–½çš„ã€‚</p> <p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>management.security.enabled = false</code>æ¥ç¦ç”¨å®‰å…¨æ€§ã€‚åªæœ‰åœ¨æ‰§è¡Œæœºæ„ç«¯ç‚¹åœ¨é˜²ç«å¢™åè®¿é—®æ—¶ï¼Œæ‰å»ºè®®ç¦ç”¨å®‰å…¨æ€§ã€‚</p></blockquote> <h2 id="_11ã€å¦‚ä½•å®ç°-spring-boot-åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§"><a href="#_11ã€å¦‚ä½•å®ç°-spring-boot-åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§" class="header-anchor">#</a> 11ã€å¦‚ä½•å®ç° Spring Boot åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ï¼Ÿ</h2> <blockquote><p>ä¸ºäº†å®ç° Spring Boot çš„å®‰å…¨æ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨ spring-boot-starter-security ä¾èµ–é¡¹ï¼Œå¹¶ä¸”å¿…é¡»æ·»åŠ å®‰å…¨é…ç½®ã€‚å®ƒåªéœ€è¦å¾ˆå°‘çš„ä»£ç ã€‚é…ç½®ç±»å°†å¿…é¡»æ‰©å±• WebSecurityConfigurerAdapter å¹¶è¦†ç›–å…¶æ–¹æ³•ã€‚</p></blockquote> <h2 id="_12ã€ä»€ä¹ˆæ˜¯-spring-profiles"><a href="#_12ã€ä»€ä¹ˆæ˜¯-spring-profiles" class="header-anchor">#</a> 12ã€ä»€ä¹ˆæ˜¯ Spring Profilesï¼Ÿ</h2> <blockquote><p>Spring Profiles å…è®¸ç”¨æˆ·æ ¹æ®é…ç½®æ–‡ä»¶ï¼ˆdevï¼Œtestï¼Œprod ç­‰ï¼‰æ¥æ³¨å†Œ beanã€‚å› æ­¤ï¼Œå½“åº”ç”¨ç¨‹åºåœ¨å¼€å‘ä¸­è¿è¡Œæ—¶ï¼Œåªæœ‰æŸäº› bean å¯ä»¥åŠ è½½ï¼Œè€Œåœ¨ PRODUCTION ä¸­ï¼ŒæŸäº›å…¶ä»– bean å¯ä»¥åŠ è½½ã€‚å‡è®¾æˆ‘ä»¬çš„è¦æ±‚æ˜¯ Swagger æ–‡æ¡£ä»…é€‚ç”¨äº QA ç¯å¢ƒï¼Œå¹¶ä¸”ç¦ç”¨æ‰€æœ‰å…¶ä»–æ–‡æ¡£ã€‚è¿™å¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶æ¥å®Œæˆã€‚Spring Boot ä½¿å¾—ä½¿ç”¨é…ç½®æ–‡ä»¶éå¸¸ç®€å•ã€‚</p></blockquote> <h2 id="_13ã€å¦‚ä½•ä½¿ç”¨-spring-boot-å®ç°å¼‚å¸¸å¤„ç†"><a href="#_13ã€å¦‚ä½•ä½¿ç”¨-spring-boot-å®ç°å¼‚å¸¸å¤„ç†" class="header-anchor">#</a> 13ã€å¦‚ä½•ä½¿ç”¨ Spring Boot å®ç°å¼‚å¸¸å¤„ç†ï¼Ÿ</h2> <blockquote><p>Spring æä¾›äº†ä¸€ç§ä½¿ç”¨ ControllerAdvice å¤„ç†å¼‚å¸¸çš„éå¸¸æœ‰ç”¨çš„æ–¹æ³•ã€‚ æˆ‘ä»¬é€šè¿‡å®ç°ä¸€ä¸ª<code>@ControlerAdvice</code> ç±»ï¼Œæ¥å¤„ç†æ§åˆ¶å™¨ç±»æŠ›å‡ºçš„æ‰€æœ‰å¼‚å¸¸ã€‚</p></blockquote> <h2 id="_14ã€controlleradvice-å’Œ-restcontrolleradvice-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#_14ã€controlleradvice-å’Œ-restcontrolleradvice-æœ‰ä»€ä¹ˆåŒºåˆ«" class="header-anchor">#</a> 14ã€ControllerAdvice å’Œ RestControllerAdvice æœ‰ä»€ä¹ˆåŒºåˆ«</h2> <blockquote><p>åŒºåˆ«å°±å¥½æ¯”ï¼šControllerå’ŒRestControllerä¸€æ ·</p> <p>RestControllerAdvice = RequestMapping + ControllerAdvice</p></blockquote> <h2 id="_15ã€-å¦‚ä½•åœ¨-spring-boot-å¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç "><a href="#_15ã€-å¦‚ä½•åœ¨-spring-boot-å¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç " class="header-anchor">#</a> 15ã€ å¦‚ä½•åœ¨ Spring Boot å¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç ï¼Ÿ</h2> <blockquote><p>å¯ä»¥å®ç°æ¥å£ ApplicationRunner æˆ–è€… CommandLineRunnerï¼Œè¿™ä¸¤ä¸ªæ¥å£å®ç°æ–¹å¼ä¸€æ ·ï¼Œå®ƒä»¬éƒ½åªæä¾›äº†ä¸€ä¸ª run æ–¹æ³•</p></blockquote> <h2 id="_16ã€spring-bootæ€ä¹ˆç¦ç”¨å¾ªç¯ä¾èµ–"><a href="#_16ã€spring-bootæ€ä¹ˆç¦ç”¨å¾ªç¯ä¾èµ–" class="header-anchor">#</a> 16ã€Spring Bootæ€ä¹ˆç¦ç”¨å¾ªç¯ä¾èµ–ï¼Ÿ</h2> <blockquote><ol><li><p>ç›´æ¥å…è®¸å¾ªç¯ä¾èµ–ï¼Œåœ¨Spring Booté…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œé»˜è®¤ä¸ºfalse</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">main</span><span class="token punctuation">:</span>
    <span class="token key atrule">allow-circular-references</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><strong>ä½¿ç”¨æ–¹æ³•çš„è¿”å›å€¼è·å–å®ä¾‹å¯¹è±¡ï¼Œæ›¿æ¢é€šè¿‡æˆå‘˜å˜é‡æ³¨å…¥å®ä¾‹å¯¹è±¡</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">IAService</span> <span class="token function">getStaffService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">SpringUtils</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">IBService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol></blockquote> <h2 id="_17ã€spring-bootè‡ªåŠ¨é…ç½®çš„åŸç†"><a href="#_17ã€spring-bootè‡ªåŠ¨é…ç½®çš„åŸç†" class="header-anchor">#</a> 17ã€Spring Bootè‡ªåŠ¨é…ç½®çš„åŸç†</h2> <blockquote><h3 id="springbootapplication-configuration-enableautoconfiguration-componentscan"><a href="#springbootapplication-configuration-enableautoconfiguration-componentscan" class="header-anchor">#</a> @SpringBootApplication=@Configuration+@EnableAutoConfiguration+@ComponentScan</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// æ³¨è§£çš„é€‚ç”¨èŒƒå›´ï¼Œå…¶ä¸­TYPEç”¨äºæè¿°ç±»ã€æ¥å£ï¼ˆåŒ…æ‹¬åŒ…æ³¨è§£ç±»å‹ï¼‰æˆ–enumå£°æ˜</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span><span class="token comment">// æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¿ç•™åˆ°classæ–‡ä»¶ä¸­ï¼ˆä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸï¼‰</span>
<span class="token annotation punctuation">@Documented</span>                       <span class="token comment">// è¡¨æ˜è¿™ä¸ªæ³¨è§£åº”è¯¥è¢«javadocè®°å½•</span>
<span class="token annotation punctuation">@Inherited</span>                        <span class="token comment">// å­ç±»å¯ä»¥ç»§æ‰¿è¯¥æ³¨è§£</span>
<span class="token annotation punctuation">@SpringBootConfiguration</span>          <span class="token comment">// ç»§æ‰¿äº†Configurationï¼Œè¡¨ç¤ºå½“å‰æ˜¯æ³¨è§£ç±»</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span>          <span class="token comment">// å¼€å¯springbootçš„æ³¨è§£åŠŸèƒ½ï¼Œspringbootçš„å››å¤§ç¥å™¨ä¹‹ä¸€ï¼Œå…¶å€ŸåŠ©@importçš„å¸®åŠ©</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span> <span class="token comment">// æ‰«æè·¯å¾„è®¾ç½®</span>
    excludeFilters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>
    type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span>
    classes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">TypeExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>
    type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span>
    classes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">AutoConfigurationExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">SpringBootApplication</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> @Configuration</h2> <p>æ ‡æ˜è¯¥ç±»ä½¿ç”¨SpringåŸºäºJavaçš„é…ç½®ã€‚è™½ç„¶æœ¬ä¹¦ä¸ä¼šå†™å¤ªå¤šé…ç½®ï¼Œä½†æˆ‘ä»¬ä¼šæ›´å€¾å‘äºä½¿ç”¨åŸºäºJavaè€Œä¸æ˜¯XMLçš„é…ç½®ã€‚</p> <h2 id="enableautoconfiguration"><a href="#enableautoconfiguration" class="header-anchor">#</a> @EnableAutoConfiguration</h2> <p>Spring Boot çš„@EnableAutoConfiguration ï¼š è¿™ä¸ªä¸èµ·çœ¼çš„å°æ³¨è§£ä¹Ÿå¯ä»¥ç§°ä¸º@Abracadabra(å’’è¯­)ï¼Œå°±æ˜¯è¿™ä¸€</p> <p>è¡Œé…ç½®å¼€å¯äº†Spring Bootè‡ªåŠ¨é…ç½®ã€‚<strong>ç®€å•æ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯ï¼Œå€ŸåŠ©@Importçš„æ”¯æŒï¼Œå°†æ‰€æœ‰ç¬¦åˆè‡ªåŠ¨é…ç½®æ¡ä»¶çš„beanå®šä¹‰åŠ è½½åˆ°IoCå®¹å™¨ã€‚</strong></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Inherited</span>
<span class="token annotation punctuation">@AutoConfigurationPackage</span>      <span class="token comment">//è‡ªåŠ¨é…ç½®åŒ…</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">AutoConfigurationImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">//å¯¼å…¥è‡ªåŠ¨é…ç½®çš„ç»„ä»¶</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">EnableAutoConfiguration</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> ENABLED_OVERRIDE_PROPERTY <span class="token operator">=</span> <span class="token string">&quot;spring.boot.enableautoconfiguration&quot;</span><span class="token punctuation">;</span>

    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">exclude</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">excludeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="componentscan"><a href="#componentscan" class="header-anchor">#</a> @ComponentScan</h2> <p>Springçš„@ComponentScanï¼šå¯ç”¨ç»„ä»¶æ‰«æï¼Œè¿™æ ·ä½ å†™çš„Webæ§åˆ¶å™¨ç±»å’Œå…¶ä»–ç»„ä»¶æ‰èƒ½è¢«è‡ªåŠ¨å‘ç°å¹¶æ³¨å†Œä¸ºSpringåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡é‡Œçš„Beanã€‚æœ¬ç« ç¨åä¼šå†™ä¸€ä¸ªç®€å•çš„Spring MVCæ§åˆ¶å™¨ï¼Œä½¿ç”¨@Controllerè¿›è¡Œæ³¨è§£ï¼Œè¿™æ ·ç»„ä»¶æ‰«ææ‰èƒ½æ‰¾åˆ°å®ƒã€‚</p> <h2 id="è‡ªåŠ¨é…ç½®å¹•åè‹±é›„-springfactoriesloader"><a href="#è‡ªåŠ¨é…ç½®å¹•åè‹±é›„-springfactoriesloader" class="header-anchor">#</a> è‡ªåŠ¨é…ç½®å¹•åè‹±é›„ï¼šSpringFactoriesLoader</h2> <p>å€ŸåŠ©äºSpringæ¡†æ¶åŸæœ‰çš„ä¸€ä¸ªå·¥å…·ç±»ï¼š<strong>SpringFactoriesLoader</strong>çš„æ”¯æŒï¼Œ@EnableAutoConfigurationå¯ä»¥æ™ºèƒ½çš„è‡ªåŠ¨é…ç½®åŠŸæ•ˆæ‰å¾—ä»¥å¤§åŠŸå‘Šæˆï¼</p> <p>SpringFactoriesLoaderå±äºSpringæ¡†æ¶ç§æœ‰çš„ä¸€ç§æ‰©å±•æ–¹æ¡ˆï¼Œå…¶ä¸»è¦åŠŸèƒ½å°±æ˜¯ä»æŒ‡å®šçš„é…ç½®æ–‡ä»¶META-INF/spring.factoriesåŠ è½½é…ç½®ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">SpringFactoriesLoader</span> <span class="token punctuation">{</span>
<span class="token comment">//...</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">loadFactories</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> factoryClass<span class="token punctuation">,</span> <span class="token class-name">ClassLoader</span>
classLoader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">loadFactoryNames</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> factoryClass<span class="token punctuation">,</span> <span class="token class-name">ClassLoader</span>
classLoader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></blockquote> <h2 id="_18ã€spring-bootæ’é™¤æŸäº›è‡ªåŠ¨é…ç½®"><a href="#_18ã€spring-bootæ’é™¤æŸäº›è‡ªåŠ¨é…ç½®" class="header-anchor">#</a> 18ã€Spring Bootæ’é™¤æŸäº›è‡ªåŠ¨é…ç½®ï¼Ÿ</h2> <blockquote><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€äº›è‡ªåŠ¨é…ç½®å¯èƒ½æ˜¯æˆ‘ä»¬ä¸éœ€è¦çš„ï¼Œéœ€è¦æ’é™¤ï¼Œæœ€å¸¸è§çš„å°±æ˜¯<code>DataSourceAutoConfiguration.class</code></p> <ul><li><p>ä½¿ç”¨ <code>@SpringBootApplication</code> æ³¨è§£çš„æ—¶å€™ï¼Œä½¿ç”¨ exclude å±æ€§è¿›è¡Œæ’é™¤æŒ‡å®šçš„ç±»</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span><span class="token punctuation">(</span>exclude <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">DataSourceAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MailSenderAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>å•ç‹¬ä½¿ç”¨ <code>@EnableAutoConfiguration</code> æ³¨è§£çš„æ—¶å€™</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span>
<span class="token punctuation">(</span>exclude <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">DataSourceAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MailSenderAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>ä½¿ç”¨ Spring Cloud å’Œ <code>@SpringCloudApplication</code> æ³¨è§£çš„æ—¶å€™</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span>
<span class="token punctuation">(</span>exclude <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">DataSourceAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MailSenderAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringCloudApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ’é™¤</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># å†™æ³•ä¸€</span>
<span class="token key attr-name">spring.autoconfigure.exclude</span><span class="token punctuation">=</span><span class="token value attr-value">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration</span>
<span class="token comment"># å†™æ³•äºŒ</span>
<span class="token key attr-name">spring.autoconfigure.exclude[0]</span><span class="token punctuation">=</span><span class="token value attr-value">org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</span>
<span class="token key attr-name">spring.autoconfigure.exclude[1]</span><span class="token punctuation">=</span><span class="token value attr-value">org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>     
  <span class="token key atrule">autoconfigure</span><span class="token punctuation">:</span>
    <span class="token key atrule">exclude</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
      <span class="token punctuation">-</span> org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022-9-24</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/interview/framework/Mybatis.html" class="prev">
        Mybatis
      </a></span> <span class="next"><a href="/interview/framework/Spring Cloud.html">
        Spring Cloud
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><div id="goTop" class="hide-cat" data-v-bf92849a></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.d2dddad7.js" defer></script><script src="/assets/js/8.bb74f850.js" defer></script><script src="/assets/js/70.86daeb61.js" defer></script>
  </body>
</html>
