<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1、Elasticsearch概述 | 小熊学Java</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c1b38aee20eeeb56adb65146a17e0b47";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
        </script>
    <meta name="description" content="你的未来时刻会因为的你努力而改变">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="baidu-site-verification" content="code-FVmKyJMz00">
    <meta name="360-site-verification" content="b9b356af59f019380844a85d5b887d22">
    
    <link rel="preload" href="/assets/css/0.styles.89ba1847.css" as="style"><link rel="preload" href="/assets/js/app.48299006.js" as="script"><link rel="preload" href="/assets/js/12.cbdaff3b.js" as="script"><link rel="preload" href="/assets/js/1.7e3fec5c.js" as="script"><link rel="preload" href="/assets/js/10.be42bf3a.js" as="script"><link rel="prefetch" href="/assets/js/11.da9e8c8d.js"><link rel="prefetch" href="/assets/js/13.3759d7da.js"><link rel="prefetch" href="/assets/js/14.4f4d2042.js"><link rel="prefetch" href="/assets/js/15.0e91b7b0.js"><link rel="prefetch" href="/assets/js/16.64df9d02.js"><link rel="prefetch" href="/assets/js/17.bde07b68.js"><link rel="prefetch" href="/assets/js/18.85abe3d7.js"><link rel="prefetch" href="/assets/js/19.7bc12ae6.js"><link rel="prefetch" href="/assets/js/20.2ea049c6.js"><link rel="prefetch" href="/assets/js/21.8bf53e5d.js"><link rel="prefetch" href="/assets/js/22.8a5ec398.js"><link rel="prefetch" href="/assets/js/23.c99ee18e.js"><link rel="prefetch" href="/assets/js/24.4574d4cb.js"><link rel="prefetch" href="/assets/js/25.92f93b7e.js"><link rel="prefetch" href="/assets/js/26.1043c1da.js"><link rel="prefetch" href="/assets/js/27.30cbf52e.js"><link rel="prefetch" href="/assets/js/28.eb07a312.js"><link rel="prefetch" href="/assets/js/29.389dfa41.js"><link rel="prefetch" href="/assets/js/3.b26f6fa9.js"><link rel="prefetch" href="/assets/js/30.06297503.js"><link rel="prefetch" href="/assets/js/31.481e06a1.js"><link rel="prefetch" href="/assets/js/32.f2d87ea5.js"><link rel="prefetch" href="/assets/js/33.4ded943a.js"><link rel="prefetch" href="/assets/js/34.031ca105.js"><link rel="prefetch" href="/assets/js/35.ffee8f1f.js"><link rel="prefetch" href="/assets/js/36.81078e27.js"><link rel="prefetch" href="/assets/js/37.3eedbd78.js"><link rel="prefetch" href="/assets/js/38.2f541113.js"><link rel="prefetch" href="/assets/js/39.2a80e8c9.js"><link rel="prefetch" href="/assets/js/4.e68968c0.js"><link rel="prefetch" href="/assets/js/40.4f38e116.js"><link rel="prefetch" href="/assets/js/41.69366fcd.js"><link rel="prefetch" href="/assets/js/42.debef985.js"><link rel="prefetch" href="/assets/js/43.efbce2c1.js"><link rel="prefetch" href="/assets/js/44.a5d0e200.js"><link rel="prefetch" href="/assets/js/45.66f0a69c.js"><link rel="prefetch" href="/assets/js/46.3f46e606.js"><link rel="prefetch" href="/assets/js/47.5676f286.js"><link rel="prefetch" href="/assets/js/48.90493659.js"><link rel="prefetch" href="/assets/js/49.43f410e7.js"><link rel="prefetch" href="/assets/js/5.f7e59518.js"><link rel="prefetch" href="/assets/js/50.720590bb.js"><link rel="prefetch" href="/assets/js/51.22f391ed.js"><link rel="prefetch" href="/assets/js/52.963e218a.js"><link rel="prefetch" href="/assets/js/53.0bb79f98.js"><link rel="prefetch" href="/assets/js/54.8a667f79.js"><link rel="prefetch" href="/assets/js/55.08f25572.js"><link rel="prefetch" href="/assets/js/56.2a17ae6c.js"><link rel="prefetch" href="/assets/js/57.4be3e065.js"><link rel="prefetch" href="/assets/js/58.1c227712.js"><link rel="prefetch" href="/assets/js/59.3f9144c8.js"><link rel="prefetch" href="/assets/js/6.5451f48b.js"><link rel="prefetch" href="/assets/js/60.27ef3506.js"><link rel="prefetch" href="/assets/js/61.93add536.js"><link rel="prefetch" href="/assets/js/62.76a5f607.js"><link rel="prefetch" href="/assets/js/63.8df3329a.js"><link rel="prefetch" href="/assets/js/64.06572dd7.js"><link rel="prefetch" href="/assets/js/65.43d48dd5.js"><link rel="prefetch" href="/assets/js/66.64585608.js"><link rel="prefetch" href="/assets/js/67.02b2be28.js"><link rel="prefetch" href="/assets/js/68.c366128a.js"><link rel="prefetch" href="/assets/js/69.d1018fb9.js"><link rel="prefetch" href="/assets/js/7.a8ed63bd.js"><link rel="prefetch" href="/assets/js/70.3b492ca8.js"><link rel="prefetch" href="/assets/js/71.bf273f98.js"><link rel="prefetch" href="/assets/js/72.3fad5458.js"><link rel="prefetch" href="/assets/js/73.d19c8232.js"><link rel="prefetch" href="/assets/js/74.8df3cd7f.js"><link rel="prefetch" href="/assets/js/75.5b389dda.js"><link rel="prefetch" href="/assets/js/76.96f20001.js"><link rel="prefetch" href="/assets/js/77.e94d4468.js"><link rel="prefetch" href="/assets/js/78.12f7e982.js"><link rel="prefetch" href="/assets/js/79.9b4ee2e8.js"><link rel="prefetch" href="/assets/js/8.48e1dee2.js"><link rel="prefetch" href="/assets/js/80.d7aadafc.js"><link rel="prefetch" href="/assets/js/81.5bb99c28.js"><link rel="prefetch" href="/assets/js/82.7b61a0c6.js"><link rel="prefetch" href="/assets/js/83.9de331f4.js"><link rel="prefetch" href="/assets/js/84.30778158.js"><link rel="prefetch" href="/assets/js/85.8a83740f.js"><link rel="prefetch" href="/assets/js/86.8e89024d.js"><link rel="prefetch" href="/assets/js/87.45080c4f.js"><link rel="prefetch" href="/assets/js/88.62fd3217.js"><link rel="prefetch" href="/assets/js/89.2cddba70.js"><link rel="prefetch" href="/assets/js/9.8a92a3f3.js"><link rel="prefetch" href="/assets/js/90.f35604f8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.89ba1847.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>小熊学Java</h3> <p class="description" data-v-59e6cb88>你的未来时刻会因为的你努力而改变</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>小熊学Java</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2022
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="小熊学Java" class="logo"> <span class="site-name">小熊学Java</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  🏠首页
</a></div><div class="nav-item"><a href="/brush/" class="nav-link"><i class="undefined"></i>
  📝码不停题
</a></div><div class="nav-item"><a href="/interview/" class="nav-link"><i class="undefined"></i>
  💸面试专栏
</a></div><div class="nav-item"><a href="/necessary/" class="nav-link"><i class="undefined"></i>
  📖开发必备
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active"><i class="undefined"></i>
  📓学习笔记
</a></div><div class="nav-item"><a href="/architecture/" class="nav-link"><i class="undefined"></i>
  🛠架构设计
</a></div><div class="nav-item"><a href="/about/me.html" class="nav-link"><i class="undefined"></i>
  👨‍关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    小熊学Java
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>58</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  🏠首页
</a></div><div class="nav-item"><a href="/brush/" class="nav-link"><i class="undefined"></i>
  📝码不停题
</a></div><div class="nav-item"><a href="/interview/" class="nav-link"><i class="undefined"></i>
  💸面试专栏
</a></div><div class="nav-item"><a href="/necessary/" class="nav-link"><i class="undefined"></i>
  📖开发必备
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active"><i class="undefined"></i>
  📓学习笔记
</a></div><div class="nav-item"><a href="/architecture/" class="nav-link"><i class="undefined"></i>
  🛠架构设计
</a></div><div class="nav-item"><a href="/about/me.html" class="nav-link"><i class="undefined"></i>
  👨‍关于
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开发工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/devTools/idea.html" class="sidebar-link">IDEA开发利器</a></li><li><a href="/notes/devTools/GitNote.html" class="sidebar-link">Git版本控制</a></li><li><a href="/notes/devTools/Linux.html" class="sidebar-link">Linux常用命令</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/basic/features.html" class="sidebar-link">Java 8新特性</a></li><li><a href="/notes/basic/dataAndAlgorithm.html" class="sidebar-link">数据结构与算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/advanced/designPatterns.html" class="sidebar-link">Java设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/database/MySQL.html" class="sidebar-link">MySQL</a></li><li><a href="/notes/frame/RedisNote.html" class="sidebar-link">Redis</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/frame/JavaWebNote.html" class="sidebar-link">Java Web</a></li><li><a href="/notes/frame/SpringMVCNote.html" class="sidebar-link">Spring MVC</a></li><li><a href="/notes/frame/MybatisNote.html" class="sidebar-link">Mybatis</a></li><li><a href="/notes/frame/MybatisPlusNote.html" class="sidebar-link">Mybatis-plus</a></li><li><a href="/notes/frame/SpringBootNote.html" class="sidebar-link">Spring Boot</a></li><li><a href="/notes/frame/SpringCloudNote.html" class="sidebar-link">Spring Cloud</a></li><li><a href="/notes/frame/Docker.html" class="sidebar-link">Docker</a></li><li><a href="/notes/frame/RabbitMQ.html" class="sidebar-link">RabbitMQ</a></li><li><a href="/notes/frame/Elasticsearch.html" aria-current="page" class="active sidebar-link">Elasticsearch</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>框架组件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/components/CAT.html" class="sidebar-link">CAT链路追踪</a></li><li><a href="/notes/components/HATEOAS.html" class="sidebar-link">HATEOAS</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>小熊学Java</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2022
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">1、Elasticsearch概述</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>小熊学Java</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="_1、elasticsearch概述"><a href="#_1、elasticsearch概述" class="header-anchor">#</a> 1、Elasticsearch概述</h2> <h3 id="_1、什么是elasticsearch"><a href="#_1、什么是elasticsearch" class="header-anchor">#</a> 1、什么是Elasticsearch</h3> <p>​		The Elastic Stack, 包括 Elasticsearch、Kibana、Beats 和 Logstash（也称为 ELK Stack）。能够安全可靠地获取任何来源、任何格式的数据，然后实时地对数据进行搜索、分析和可视化。Elaticsearch，简称为ES， ES是一个开源的高扩展的分布式全文搜索引擎，是整个Elastic Stack技术栈的核心。它可以近乎实时的存储、检索数据；本身扩展性很好，可以扩展到上百台服务器，处理PB级别的数据。</p> <h3 id="_2、全文搜索引擎"><a href="#_2、全文搜索引擎" class="header-anchor">#</a> 2、全文搜索引擎</h3> <p>​		Google，百度类的网站搜索，它们都是根据网页中的关键字生成索引，我们在搜索的时候输入关键字，它们会将该关键字即索引匹配到的所有网页返回；还有常见的项目中应用日志的搜索等等。对于这些非结构化的数据文本，关系型数据库搜索不是能很好的支持。</p> <p>​		一般传统数据库，全文检索都实现的很鸡肋，因为一般也没人用数据库存文本字段。进行全文检索需要扫描整个表，如果数据量大的话即使对SQL的语法优化，也收效甚微。建立了索引，但是维护起来也很麻烦，对于 insert 和 update 操作都会重新构建索引。</p> <p>​	基于以上原因可以分析得出，在一些生产环境中，使用常规的搜索方式，性能是非常差的：</p> <ul><li>搜索的数据对象是大量的非结构化的文本数据。</li> <li>文件记录量达到数十万或数百万个甚至更多。</li> <li>支持大量基于交互式文本的查询。</li> <li>需求非常灵活的全文搜索查询。</li> <li>对高度相关的搜索结果的有特殊需求，但是没有可用的关系数据库可以满足。</li> <li>对不同记录类型、非文本数据操作或安全事务处理的需求相对较少的情况。</li></ul> <p>为了解决结构化数据搜索和非结构化数据搜索性能问题，我们就需要专业，健壮，强大的全文搜索引擎，这里说到的全文搜索引擎指的是目前广泛应用的主流搜索引擎。它的工作原理是计算机索引程序通过扫描文章中的每一个词，对每一个词建立一个索引，指明该词在文章中出现的次数和位置，当用户查询时，检索程序就根据事先建立的索引进行查找，并将查找的结果反馈给用户的检索方式。这个过程类似于通过字典中的检索字表查字的过程。</p> <h3 id="_3、elasticsearch-and-solr"><a href="#_3、elasticsearch-and-solr" class="header-anchor">#</a> 3、Elasticsearch And Solr</h3> <p>​		Lucene是Apache软件基金会Jakarta项目组的一个子项目，提供了一个简单却强大的应用程式接口，能够做全文索引和搜寻。在Java开发环境里Lucene是一个成熟的免费开源工具。就其本身而言，Lucene是当前以及最近几年最受欢迎的免费Java信息检索程序库。但Lucene只是一个提供全文搜索功能类库的核心工具包，而真正使用它还需要一个完善的服务框架搭建起来进行应用。</p> <p>目前市面上流行的搜索引擎软件，主流的就两款：<strong>Elasticsearch</strong>和<strong>Solr</strong>,这两款都是基于Lucene搭建的，可以独立部署启动的搜索引擎服务软件。由于内核相同，所以两者除了服务器安装、部署、管理、集群以外，对于数据的操作 修改、添加、保存、查询等等都十分类似。</p> <p><img src="/assets/img/image-20210623144515756.aaefed8e.png" alt="image-20210623144515756"></p> <h3 id="_4、elasticsearch-or-solr"><a href="#_4、elasticsearch-or-solr" class="header-anchor">#</a> 4、Elasticsearch Or Solr</h3> <p>Elasticsearch和Solr都是开源搜索引擎，那么我们在使用时该如何选择呢？</p> <ul><li>Google 搜索趋势结果表明，与 Solr 相比， Elasticsearch 具有很大的吸引力，但这并不意味着 Apache Solr 已经死亡。虽然有些人可能不这么认为，但 Solr 仍然是最受欢迎的搜索引擎之一，拥有强大的社区和开源支持。</li> <li>与 Solr 相比， Elasticsearch 易于安装且非常轻巧。此外，你可以在几分钟内安装并运行Elasticsearch 。但是，如果 Elasticsearch 管理不当，这种易于部署和使用可能会成为一个问题。基于 JSON 的配置很简单，但如果要为文件中的每个配置指定注释，那么它不适合您。总的来说，如果你的应用使用 的是 JSON ，那么 Elasticsearch 是一个更好的选择。否则，请使用 Solr ，因为它的 schema.xml 和 solrconfig.xml 都有很好的文档记录。</li> <li>Solr 拥有更大，更成熟的用户，开发者和贡献者社区。 ES 虽拥有的规模较小但活跃的用户社区以及不断增长的贡献者社区。Solr贡献者和提交者来自许多不同的组织，而 Elasticsearch 提交者来自单个公司。</li> <li>Solr 更成熟，但 ES 增长迅速，更稳定。</li> <li>Solr 是一个非常有据可查的产品，具有清晰的示例和 API 用例场景。 Elasticsearch 的文档组织良好，但它缺乏好的示例和清晰的配置说明。</li></ul> <p><strong>那么，到底是Solr 还是 Elasticsearch？</strong></p> <blockquote><ul><li>由于易于使用， Elasticsearch 在新开发者中更受欢迎。一个下载和一个命令就可以启动一切。</li> <li>如果除了搜索文本之外还需要它来处理分析查询， Elasticsearch 是更好的选择</li> <li>如果需要分布式索引，则需要选择 Elasticsearch 。对于需要良好可伸缩性和 以及 性能分布式环境 Elasticsearch 是更好的选择。</li> <li>Elasticsearch 在开源日志管理用例中占据主导地位，许多组织在 Elasticsearch 中索引它们的日志以使其可搜索。</li> <li>如果你喜欢监控和指标，那么请使用Elasticsearch ，因为相对于Solr，Elasticsearch 暴露了更多的关键指标</li></ul></blockquote> <h2 id="_2、elasticsearch入门"><a href="#_2、elasticsearch入门" class="header-anchor">#</a> 2、Elasticsearch入门</h2> <h3 id="_1、elasticsearch-安装"><a href="#_1、elasticsearch-安装" class="header-anchor">#</a> 1、Elasticsearch 安装</h3> <h4 id="_1、下载"><a href="#_1、下载" class="header-anchor">#</a> 1、下载</h4> <p>Elasticsearch 的官方地址： <a href="https://www.elastic.co/cn/" target="_blank" rel="noopener noreferrer">https://www.elastic.co/cn/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>下载地址：https://www.elastic.co/cn/downloads/past-releases#elasticsearch</p> <p>Elasticsearch 分为 Linux 和 WindowWindows版本，基于我们主要学习的是 ElasticElasticsearch 的 Java客户端的使用，所以 课程 中使用的是安装较为简便的 WindowWindows版本 。</p> <h4 id="_2、安装"><a href="#_2、安装" class="header-anchor">#</a> 2、安装</h4> <p>Windows版的 ElasticElasticsearch 的安装很简单，解压即安装完毕，解压后的 ElasticElasticsearch 的 目录结构如下</p> <p><img src="/assets/img/image-20210623151121065.2de8fd11.png" alt="image-20210623151121065"></p> <table><thead><tr><th>目录</th> <th>含义</th></tr></thead> <tbody><tr><td>bin</td> <td>可执行脚本目录</td></tr> <tr><td>config</td> <td>配置目录</td></tr> <tr><td>jdk</td> <td>内置JDK 目录</td></tr> <tr><td>lib</td> <td>类库</td></tr> <tr><td>logs</td> <td>日志目录</td></tr> <tr><td>modules</td> <td>模块目录</td></tr> <tr><td>plugins</td> <td>插件目录</td></tr></tbody></table> <p>解压后，进入bin 文件目录，点击 <strong>elasticsearch.bat</strong> 文件启动 ES 服务</p> <p><img src="/assets/img/image-20210623151409087.5fab08b4.png" alt="image-20210623151409087"></p> <p><strong>注意：</strong></p> <ul><li><p><code>9300</code> 端口为 Elastic s earch 集群间组件的通信端口，</p></li> <li><p><code>9200</code> 端口为浏览器访问的 http协议 RESTful 端口。</p></li></ul> <p>打开浏览器（推荐使用谷歌浏览器），输入地址：http://localhost:9200 ，测试结果</p> <p><img src="/assets/img/image-20210623151541259.f1534e86.png" alt="image-20210623151541259"></p> <h4 id="_3、问题解决"><a href="#_3、问题解决" class="header-anchor">#</a> 3、问题解决</h4> <ul><li><p>ElasticSearch 是使用 java 开发的，且 7.13.2版本的 ES 需要 JDK 版本 1.8 以上，默认安装包带有 jdk 环境，如果系统配置 JAVA_HOME ，那么使用系统默认的 JDK ，如果没有配置使用自带的 JDK ，一般建议使用系统配置的 JDK 。</p></li> <li><p>双击启动窗口闪退，通过路径访问追踪错误，如果是“空间不足”，请修改config/jvm.options 配置文件</p> <blockquote><p>设置 JVM 初始内存为 1G 。此值可以设置与 Xmx 相同，以避免每次垃圾回收完成后 JVM 重新分配内存</p> <p>Xms represents the initial size of total heap space</p> <p>设置 JVM 最大可用内存为 1G</p> <p>Xmx represents the maximum size of total heap space</p> <p>Xms1g
Xmx1g</p></blockquote></li></ul> <h3 id="_2、基本操作"><a href="#_2、基本操作" class="header-anchor">#</a> 2、基本操作</h3> <h4 id="_1、restful"><a href="#_1、restful" class="header-anchor">#</a> 1、RESTful</h4> <p>​		REST指的是一组架构约束条件和原则。满足这些约束条件和原则的应用程序或设计就是 RESTful 。 Web 应用程序最重要的 REST 原则是，客户端和服务器之间的交互在请求之间是无状态的。从客户端到服务器的每个请求都必须包含理解请求所必需的信息。如果服务器在请求之间的任何时间点重启，客户端不会得到通知。此外，无状态请求可以由任何可用服务器回答，这十分适合云计算之类的环境。客户端可以缓存数据以改进性能。</p> <p>​		在服务器端，应用程序状态和功能可以分为各种资源。资源是一个有趣的概念实体，它向客户端公开。资源的例子有：应用程序对象、数据库记录、算法等等。每个资源都使用 URI(Universal Resource Identifier) 得到一个唯一的地址。所有资源都共享统一的接口，以便在客户端和服务器之间传输状态。使用的是标准的 HTTP 方法，比如 GET 、 PUT 、 POST 和DELETE 。</p> <p>​		在REST 样式的 Web 服务中，每个资源都有一个地址。资源本身都是方法调用的目标，方法列表对所有资源都是一样的。这些方法都是标准方法，包括 HTTP GET 、 POST 、PUT 、 DELETE ，还可能包括 HEAD 和 OPTIONS 。简单的理解就是，如果想要访问互联网上的资源，就必须向资源所在的服务器发出请求，请求体中必须包含资源的网络路径， 以及对资源进行的操作 增删改查 。</p> <h4 id="_2、postman安装"><a href="#_2、postman安装" class="header-anchor">#</a> 2、Postman安装</h4> <p>​		如果直接通过浏览器向Elasticsearch 服务器发请求，那么需要在发送的请求中包含HTTP 标准的方法，而 HTTP 的大部分特性且仅支持 GET 和 POST 方法。所以为了能方便地进行客户端的访问，可以使用 Postman 软件
​		Postman是一款强大 的 网页调试工具，提供功能强大的 Web API 和 HTTP 请求调试。软件功能强大，界面简洁明晰、操作方便快捷，设计得很人性化。 Postman 中文版能够发送任何类型的 HTTP 请求 (GET, POST, PUT..) PUT..)，不仅能够表单提交，且可以附带任意类型请求体。</p> <p>Postman官网： https://www.getpostman.com
Postman下载 https://www.getpostman.com/apps</p> <h4 id="_3、数据格式"><a href="#_3、数据格式" class="header-anchor">#</a> 3、数据格式</h4> <p>Elasticsearch是面向文档型数据库，一条数据在这里就是一个文档。 为了方便大家理解，我们将 Elastic s earch 里 存储 文档 数据和关系型数据库 MySQL 存储数据的概念进行一个类比</p> <p><img src="/assets/img/image-20210623152421482.9cc00cf8.png" alt="image-20210623152421482"></p> <p>ES里的 Index 可以看做一个库，而 Types 相当于表， Documents 则相当于表的行。这里Types 的概念已经被逐渐弱化， Elasticsearch 6.X 中，一个 index 下已经只能包含一个type Elasticsearch 7.X 中 , Type 的概念已经被删除了。</p> <h4 id="_4、http操作"><a href="#_4、http操作" class="header-anchor">#</a> 4、HTTP操作</h4> <h5 id="_1、索引操作"><a href="#_1、索引操作" class="header-anchor">#</a> 1、索引操作</h5> <h6 id="_1、创建索引"><a href="#_1、创建索引" class="header-anchor">#</a> 1、创建索引</h6> <blockquote><p>对比关系型数据库，创建索引就等同于创建数据库</p></blockquote> <p>在Postman 中，向 ES 服务器发 <strong>PUT</strong> 请求 http://127.0.0.1:9200/start</p> <p><img src="data:image/png;base64,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K0MzrVgNg+r6CFtKLxyCjv+yjbQECxWeSKcEpk2v/1Gt2ekBbGs+j6Fsl5cvaO7T7GYvcrm4XC4mTpzY4vioUaO6oTfSXm3Nm4iIiIiIiMjn1ZHKMEcq219+4GKh7eV+fWmpW0NZkctpwoQJ3d0FERERERERERGRFlQvQERERERERERERKQLKZQVERERERERERER6UIKZUVERERERERERES6kEJZERERERERERERkS6kUFZERERERERERESkCymUFREREREREREREelCCmVFREREREREREREupBCWREREREREREREZEupFBWREREREREREREpAsplBURERERERERERHpQgplRURERERERERERLpQi1DWMAxM0+yOvoiIiIiIiIiIiFyRLJb2r220x13GjsjnQou7yWKxEA6Hu6MvIiIiIiIiIiIiVxyv14thGO1uPzJbqewXyeicjs93i1DW4XAQDAaJRCKd0ikREREREREREZHPqkgkQn19PQkJCe0+Z/pI+2XskVxpHhjV8fluEcq6XC4sFgt+v59QKKRSBiIiIiIiIiIi8oXk9XqpqqoCICkpqd3nTR5mZ/a/Oy5Xt+QKMvvfHUwZ3vFQ1jDbSF09Hg9+v59IJKJgVtotLi6OUCjU3d0QEREREREREbkkFosFi8WC3W7H5XJ9qmv8bn+AlSUBSspDBBSXfGpm/ccYCand3Y0Yo3PieGCUvUOBbHV1NWlpacAFQlkRERERERERERER6RzNQ9n/B50FV1pPGXTUAAAAAElFTkSuQmCC" alt="image-20210623172541563"></p> <p>请求后，服务器返回响应</p> <p><img src="/assets/img/image-20210623172613872.9c70d5af.png" alt="image-20210623172613872"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot; 【响应结果】 : true, ## true 操作成功
&quot;shards_ 【分片结果】 : true, ## 分片操作成功
&quot; 【索引名称】 : &quot;
## 注意：创建索引库的分片数默认 1 片，在 7.0.0 之前的 Elasticsearch 版本中，默认 5 片
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果重复添加索引，会返回错误信息</p> <p><img src="/assets/img/image-20210623172711103.a457a6f5.png" alt="image-20210623172711103"></p> <h6 id="_2、查看索引"><a href="#_2、查看索引" class="header-anchor">#</a> 2、查看索引</h6> <p>在Postman 中，向 ES 服务器发 <strong>GET</strong> 请求 http://127.0.0.1:9200/_cat/indices?v</p> <p>这里请求路径中的**_cat 表示查看的意思**， <strong>indices 表示索引</strong>，所以整体含义就是查看当前 ES服务器中的所有索引，就好像 MySQL 中的 show tables 的感觉，服务器响应结果如下</p> <p><img src="/assets/img/image-20210623172849925.2bd5ab5c.png" alt="image-20210623172849925"></p> <p><img src="/assets/img/image-20210623172956299.e030e15e.png" alt="image-20210623172956299"></p> <h6 id="_3、查看单个索引"><a href="#_3、查看单个索引" class="header-anchor">#</a> 3、查看单个索引</h6> <p>在Postman 中，向 ES 服务器发 <strong>GET</strong> 请求 http://127.0.0.1:9200/start</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABVwAAAA9CAYAAABREKLlAAAbiklEQVR4nO3deVQUZ7438G9V9UYDjYii4IKiKIgo7kFj7kSNcYlec+JoMuoYJ4Ka8U0mcWZeb2IyuTe5zkTPnRmXxN1kXF5vDEnM+Oq4R+OMUTBuiLhARlxANpFueqmmu+r+waVCS4MYWtH4/ZzDOVL9VPXzUIXn8O1f/UpQVVUFERERERERERERETWZ2NwTICIiIiIiIiIiIvqxYOBKREREREREREREFCAMXImIiIiIiIiIiIgChIErERERERERERERUYAwcCUiIiIiIiIiIiIKEN3tG6xWK1wuFxRFgaqqzTEneghJkgSv19vc0yAiIiIiIiIiahJRrK5PNJvNCA0N/UHH+OS0jHWZMjKveSB7Ajm7R4vqLIcQFN7c0/DxWEcdZg404mfJxnrHCGqtVLWkpASKosBgMECSJAiCcF8mSg+/yspKhISENPc0iIiIiIiIiIiazO12w+PxQBRFtG7d+q72/bddDiz5u+sezezR8iAGrjVefdyE348y+31NaylgtVqhKApMJhN0Oh3DViIiIiIiIiIieiQZDAaYTCaoqgqr1dro/T45LTNsfUQs+bsL/++U7Pc1LXB1uVwwGAxa2TQREREREREREdGjShRFSJIEl6vxAeq6TP8BHP04rc24Q+CqKAokSbpvEyIiIiIiIiIiInqQGQyGu3rGUeY1Nmx9lBy94v98a4GrqqpsI0BERERERERERFSLoiiNHssHZBFQK3AlIiIiIiIiIiIioqZh4EpEREREREREREQUIAxciYiIiIiIiIiIiAKEgSsRERERERERERFRgDBwJSIiIiIiIiIiIgoQBq5EREREREREREREAcLAlYiIiIiIiIiIiChAGLgSERERERERERERBQgDVyIiIiIiIiIiIqIAYeBKREREREREREREFCAMXImIiIiIiIiIiIgCRNfcEyAiIiIiIiIiIqI7S4iU0CtKgiQIcFSp2J9bBZusNve06DYMXIluk5+fD7PZjNatW2vbHA4Hrl27htjYWOh0/LV5EPk7b0REREREREQ/BiPi9PiPp4KQ1FYHqdb96o4qFVtPu/F//+ZoluB1x4xQPNlFjwKrgpnpdhz8ruq+z+FBxOSIml1WVhb27NmDuXPnwmg0+h2jqioqKythMpmg1+u17bIsw+PxwGw2QxCEJs/F6XTik08+wfjx432Cu7NnzyIjIwOzZs0CALjdbmzbtg1/+9vf8PrrryMpKUkbm5+fj7Vr1yI/Px+SJGHw4MGYPHkyLBYLKioqsHDhQhQWFtZ576ioKLzxxhsICwvzWffJkyfx0UcfoaKiAiEhIXj++ecxdOjQetdbe25erxcxMTGYNWsW2rdvf8fxt6/ldmVlZVi/fj2ys7MBAAkJCZgxYwYiIyN9jrdjxw7s2LEDbrcbERERmDZtGvr06aPNubHrslqt2Lx5M44dOwYASExMRGpqKlq0aOEzr/rOW30Cfd0E+nhERERERERENUZ20+ODCcFoZxGhqtUhq1cBgvQCzHoB0/oaoZeA1M/szT1V+l8BC1ydTie2bNmCzZs3o7S0FEajEWPGjMHMmTO1oOfWrVuYO3cusrKy6uwfFRWFDz/8EC1btqx3TI1f/OIXePXVVwM1dXoIWK1WLFy4EFOnTvUJBA8dOoSsrKwGw9q7UVJSAlmW0bZtW22bqqo4f/48unXrBr1ej0uXLuHjjz9GaGgozGazz/6lpaX44IMP8Pjjj+O3v/0tnE4n0tPTsWnTJsycORMWiwULFiyAoig++2VmZuLw4cN1qmfPnj2LjRs3YsqUKejduzfOnz+PDRs2wGKxIDk5uc78vV4v0tPTkZeXh3fffRdhYWHYtWsXVq1ahddeew0tW7b0Gd/QWm5ns9mwbNkyREZG4v3334der8fu3buxbNky7diqqmLXrl3IzMzEW2+9hdatW+PMmTPYuHEjzGYz4uPjG70uWZaxfv16GAwGLF68GJIkYevWrfjoo48we/ZsBAUFNXjeGhLo6ybQxyMiIiIiIiKq8WyiAdGhIqq8wOaTMl7eVh2sDuygw4png5EQKeGpOD1GdtNjz0VWmD4IAhK4lpSUYP78+Th+/DhatWqFnj17wm6344svvsDhw4excOFCDBo0SBtvNBoRGxsLSZK0bRaLBXq9HoIgoF27dlDV6jLoGzduoLS0FJ07d0ZwcLA2ln6cnE4n3G43TCaTFlx5vV5UVlZCURTY7XbYbDaEhITA5XLB5XLB4/HAZrMBqL62ZFmGoigwmUxwOBxa5WHtytj6XLlyBZGRkQgNDdW21bQTGDJkCADgxIkTmDBhAuLi4vD73//eZ//z58+jVatWePrpp2E0GhEaGoqxY8di1apVKC8vR5s2bXyODQB2ux0ZGRkYNmyYdo0D1ZWiX331FZ588kkMGjQIgiCgT58+KCkpwa5du9C9e3ef0BEAiouLcfr0aaSlpWkfdIwfPx5XrlzBkSNH8Mwzz/iMv9Na/vrXv2Lq1KmIjo5GTk4OvF4vpk2bpq3hueeeQ0lJiXZsh8OBb7/9FpMmTUJMTAwAYNCgQTh37hzOnDmD+Pj4Rq8rLy8PRUVFmDdvHlq1agUAmDRpEv70pz8hOzsb/fv3b/C8eb1eOBwOKIric/6dTqff66ZGzTWo0+l8KlZVVYXD4YDJZILL5UJJSQk6dOgAt9vd4PGIiIiIiIiImqJjCxGCANx0Kth2zq1tz7jqwedn3fjXHgY4qlSItW64fLGfEb8cbELXCAkGCbjlUrHrQhXe3uPAdauCIZ10+GBCMKJCRWw55YbFJGBMvB4hBgEVLhX/fVrGO3udWpuCUKOABcODMKmXAZHBIuxVKv5/ThV4k6d/TQ5cPR4Ptm7diuPHjyMtLQ2pqakwGAxQVRUHDx7E22+/jb/85S9ITEzU9unWrRuWL19e57bgGu+//7727yVLlmD9+vVYsGCBT8BCjVdQUIAdO3Zg2rRpMJlMfse4XC5s3LgRY8eORXR09H2eYXU49tlnn+Gbb76BKIqwWq2YMmUKhg8fjqKiIqxatQqlpaXYsmUL2rVrhzlz5mD37t04ePAgXC4XFi1ahHHjxmHo0KE4dOgQrly5ApPJhKNHj0KSJLhcLsyYMUML+AoKCrBp0yaMHz9eq7pUVRUXL15EYmKiz4cBpaWlkCRJq56cOHEiJElCRUVFnXUMGDAAffr0gcFgaPTas7OzIcsy+vbt67O9vLwc169fx9ixY31uU+/evTv279+PsrKyOm0C8vLyEBYW5nMOjUYjEhMTkZOTA7fb7TO3htZSXl6O3Nxc2O3Vn5zdunULMTExCAkJ0cYYDAbEx8fj4sWLqKqqgtlsxq9//et6r7O7WdfZs2fRqVMnhIeHa2PCw8PRuXNn5OTkaP8f+Dtv2dnZWLlyJURRhChWN7eZO3cuunTpgh07dvi9bpxOp9a+IDw8HBUVFYiNjcXs2bMRFhYGq9WKpUuXIjExETt37kRERATeeOMN7N271+/xiIiIiIiIiAKhzFEderYyi/hFfyOyb3hx3Vp95+x/HnDiPw84fca/81QQXhligkknwKsALo+KFiYBLyQbkNRWwvStldCLAkIMAkKNAn7SRYcuLSWtN2x4kIC0gSaIAvDadgcA4I/PmPF8b6M2JsQg4KdJBlS4HtwHdvWKkrBojBmTN1fWO88wk4BPpoTgtzsdOFPoDdh7NzlwLSoqwr59+zBw4EBMnTpVC3MEQcCQIUMwb948lJWVweFw3FUIRYHTsmVLOJ1OrFmzBqmpqXXCMJfLhTVr1kBV1Tq3nN8v586dQ3JyMpYuXQoA2LdvH/bu3Ys+ffogOjoa8+bNq9NSYOLEibBYLH5v5f7mm28wefJkLFu2DABw8uRJbNy4EdHR0ejYsSPsdjtyc3NRXl6u7eNwOFBSUoIRI0b4zO3q1auIiorSbrmvHcbezmg0+sxDVVVkZGSgffv2PsFhDbvdjn379mHYsGF1Kl9dLheCgoIQERHhs71FixYQRREVFRV1AtfKykq0bdu2zjlu164dvv76a8iy7PN72NBaUlJSkJKSon1vNptx48YNOBwOrRLX6/UiLy9PqyoWBKHOOm7cuIELFy5gxowZjV5Xu3btUFlZiZiYGJ85CoKA9u3bIzs7WwuPbz9vTqcT27dvx7hx4/DUU08BAPbv34+9e/eiffv29V43R44cQVFRERYvXowWLVrAbrdjyZIlOHbsGEaOHKn9fC9fvoylS5dq10ND1yERERERERFRU206KSMlRod2FhHjexjwdDcDrlV4kXHVi0/OyD5tBH4Sq8fUPkaYdAKyi7z45TY7Mq568N7TZrycYkRCpIS0QUZ8mf39Ph1biPjLtzL+67ATLw0wYdYgI4INAp7orEeoUcCTXfQY3d0ASQQKbQre3efEZ2fdeO9pM6b1fXCzvvxyBeFBIna/ZMHT66x1Qtcwk4DdL1kgCNVjA0m885CGFRcX48qVK0hISKhzq7/BYMCECRPw0ksv+TxUx+PxoKKiArdu3dK+bDab1kaAAstkMiEtLQ2qqmLNmjVwuVzaa7XD1rS0tAYrE++l6OhopKSkQBAECIKAvn37wmg0atWVd6t9+/YYMmSIdryePXuic+fOOHnyJAAgLi4Oq1ev9gkUb9y4AUmSfB665PV6kZ2djfj4+Lt+GFLNg6GOHj2KMWPG+P3A4cSJE36rW4HqvrVOp9Pv+yqKUqcPbM0aRFH0u4/X6/W7T2PFx8fDarVi586dcLvd8Hq9OHToEM6cOVPvPg6HA1u2bEFSUhLi4uIavS63243y8nKtOtXfuNptR2qfN0VR4HQ6teBXEASMGDECs2fPbjAMHT58ON58802t8t5sNqNt27YoKCjQxuj1eowZM+aO/W6JiIiIiIiIAmXPxSrM+aI6OHV7AaMO6BIh4YVkA76YFoojL1vwROfqNnrDu+rROliE3a1iXaaMjKseAMCC3Q6cKvBCEoFBHXzrL88XezH3Szv+eVPBgt0OZN2orvQMMwno106HlI46WEwCPAqw9bQbH38rwyarWLDbgQslgQ0qA6nCpWLkWisEAdj9kgVhpu9ziNph68i1dcPYpmpyhavX64XH44EkSVqAcvXqVSxcuBBWq1UbN3/+fHTo0AEAkJOTg/Hjx/scZ/To0XjnnXeaLfD7sasJXVevXq1VugJ4IMJWAIiIiPAJJHU6XaN6rtYnOjraZz0GgwExMTE+Fa23y8vLQ8eOHX36otpsNpSXl2v9SO/G6dOnsW7dOqSmpqJTp051XrfZbNi/f7/f6lagOvAzGo1+P4iofat8beHh4SgrK4OqqnUCTUmS6g0wG6NVq1ZITU3Fxx9/jO3btwMA+vTpgylTpuDYsWN1xjudTqxatQqCIOC5557TKlUbsy6dToeQkJB6A+LaofLt5y04OBjPPvssVqxYgfT0dPTq1QtPPPEEOnXq1GBorqoqLl++jCNHjuDChQuoqKhAeXk5hg0bpo0xGo0MW4mIiIiIiOi+23epCvsuVaGdRcTk3gY8FadHn+jqIDQ5WofFY82Y+t+ViAgWoJcAURDwHyOD8O9PfZ9xGKTqv4mNOt+/jcudvn+fO6tuqwQNEqATAZusamEsUP39pVIvekfVf/dsc6sJXffMtGiVrgDuadgKBOihWUB18Oov5Kl56JUsy9q2mJgYvPLKKz69IC0WS50ntFNg3R66AnggwtZ7oaqqCoqi+NyOXvsa9Df+4sWLGDhwoM/2morRu31Q2+XLl7Fx40akpqYiOTnZ75hTp05BVVW/1a0AEBISolWD1+53bLPZIAgCwsLC6uwTERGBCxcuwO12+1RzFhcXo3Xr1k2+3T0uLg7vvfceKisrodPpEBQUhF27diEyMtLn2DU9eQFg9uzZPiF2Y9YlSRLCw8NRUFBQ5/+VoqIitGrVCgaDod7zlpycjD//+c/Izc3FiRMnsHjxYgwePBgvvPCC3zYKqqri888/x9dff41Ro0Zh2rRpiI6OxqefftqknxcRERERERFRIF23KvjjYRf+eNiFdhYRayYG418669E1QsS4hIYL19xeFW4v4KgKXMDo8jz4d6vfHroCuKdhKxCAlgJRUVGIjY1FTk6OVtHaoUMHrFixAps2bcLYsWPRsmVLn6evWywW9O/fH4899pj21aNHDwau90Ht9gI/1rAVqA7lardOkGUZV69erfeBYFar1W8l64ULF9CpUyefwPBOLl++jCVLlmD06NHo3bu33zE2mw0HDhzAiBEj/Fa3AtW/JzW9QWvLy8uDxWKp0wMVqO7VWlhY6HMbvNvtRnZ2NuLi4u6qj/L58+exaNEi7VhZWVlYvnw5HA4HQkNDERQUBLvdjlOnTiEhIUHbz+v1YsuWLcjNzcX06dPr/Owau67Y2FhcuHABN2/e1MbYbDbk5uZq71ffeZNlGSaTCUlJSZg+fTp+9atfISsrC6WlpX7X6na7cfnyZUyZMgWjR49GXFwczGZzk1owEBERERERETXVkE46nPpVGIreCseOGb75wXWrgmNXPKhSAEkUEGwQIHtUKCrg9Kj4zQ4H2rxbXudr6AprPe/mX80xjToBXSJ8o8SuEQ9udWtttdsL3OuwFQhA4NqmTRukpKQgIyMDO3fuhMfj0V67dOkSDh48iK5du9YbdNH9VxO6Pkxhq8FgQFhYGK5cueLT77dFixYoKytDcXGxTwVrYWEhtm/frvUa/eqrr1BQUKA9cKugoACLFi3C+fPnte/NZrNPxaUsyz7hXmPcvHkT69atw9ChQzFgwABYrVZUVFSgoqICVVXfN6Q+deoUAPhUv3q9Xmzfvh0bNmyALMsICgrCsGHDsHfvXmRnZ0NRFJw7dw6ff/45hgwZgqCgIMiyjA0bNmD79u3wer3o2LEjevTogfT0dJSVlcHtdmPPnj3Iz89Hv379/K69PuXl5cjNzdX66EZHR+Pq1avYv38/3G43XC4XPv30U+j1eiQmJgKorhQ9cOAAsrKyMH36dEiSpK3fbrdDVdVGrQsAEhISEBYWhi+//BJ2u117P0EQ0L1793rPW1FREd5++21kZmZCVVV4vV7k5ubCbDZrVfW3XzeiKMJoNGrVwaqq4vTp08jIyGjUea/vOiQiIiIiIiJqin9c9sDhVhFqFDCwgw7vPW1GqLH6LtARcXpMSDTAIFVXml4uV3D0igdWl4pgvYCf9jJoYxMiJWT+nzDcWBCOLT8Laegt6zhx3YtKtwqDBIxLMCAhsjpkfW2oCUltH47AFfg+dL3XYSsQgJYCOp0OkydPxtGjR/GHP/wBX375JVJSUlBYWIgDBw7AaDTizTffRFhYGG7dugWgOhBZv369T+WbwWDAuHHjfB6uRffOwxK01ggKCsIzzzyDlStXYt++fZg/fz7atGmDpKQkZGZm4q233sKYMWMwadIkAEBKSgoiIiIwa9YseL1etGnTBrNmzUJUVBQAwG63Izc3V+vp+t1336Fr164+t8VXVlZCluW7+rDg+PHjyM/PR35+PrZt2+bz2m9+8xskJSVp1a23925VFAXXrl1DcXExPB4PjEYj+vXrB6vViqVLl8LpdMJgMGDixIkYPHgwgOoH0P3zn/+E3W6HoijQ6/WYPHkyNm/ejHnz5kFRlDuuvT4pKSk+DxWLiIjAyy+/jNWrVyM9PR0A0LNnT6SlpWm/y1arFfv27UNhYSF+97vf+Ryvd+/emDt3bqPWBVT3Yp05cybWrl2LOXPmAAC6dOmCOXPmaD83f+etTZs2+PnPf46VK1di+fLlAKqr7tPS0rRKe3/XzYQJE7BixQrMnDkTADBgwAAtoL+T+q5DIiIiIiIioqZaf1zGuyMlhJkEvD7UhF+mmOBRVJj1AgQBUFXg+DUPtmW7YZNVjOiqx/O9jXgyVo9z81qgyKagfZgIi0mAy6PibK0+rI2x8YSMn/YyYHgXPXq2lfD3ORZ4VcCkE3DLqSK48TfTNrt7HbTWENT/LRUsLCz06al6t8rKyrBu3Tqkp6drFV59+/bFK6+8guTkZAiCgFu3bmHu3Ll1biUGqlsTfPjhh4iNjfXZvmTJEqxfvx7r1q1D//79f/D86N6qrKxs0vXTWKqqoqqqqs6t8W63G3q9HoIgYM+ePSgoKMCLL74IWZbhdrsREhJS7wOTZFnGihUrMGrUKMTHx2vbs7KycPjwYaSmpjbpAV6B4PV64XA4YDab/fYg9UeWZXg8HpjN5gYfFnW3VFWFw+GAKIp31WrBn8auy+l0AoDP+9V33mrPs7KyEqIo1vszqH3dBGJttx+PiIiIiIiIHn6VlZVaEdOdmBfcvPOgH+DFfka8/oQJXVpKqP0np6NKxY6cKryxy4Hr1uq2eKFGAUvGB2N8Dz3M+pq/d4Fiu4LlR1z4r69d+EmsHmsnBiPaIuKrvCqM/cimHXPHjFA82UWPAquCmel2HPyuCgmREhaPNeOJznroxOrjZV7z4FKpF1P6GH3GBpLqLIcQFB7QYwaa472WdbYFLHCt4fF4YLfbYTQaH7oqSvrh7lfg2hi1A9fGsNls+Mc//oGhQ4f69Bo+ceIE9Hp9o6sc6f6q77wRERERERERBdKDELjWSIiU0CtKgiQIuOlUsOtCwwHnqO56tAwSUWBVAhKG1rx/kU0NeLjqz8MauAb8KVU6nc7v09OJHlShoaEYNWpUne19+/ZthtlQY9V33oiIiIiIiIh+rHKKvcgpbnxLgDsFsvf6/R9VAQ9ciZrbyJEjm3sKRERERERERET0iBKbewJEREREREREREREPxYMXImIiIiIiIiIiIgChIErERERERERERERUYAwcCUiIiIiIiIiIiIKEAauRERERERERERERAHCwJWIiIiIiIiIiIgoQBi4EhEREREREREREQUIA1ciIiIiIiIiIiKiAGHgSkRERERERERERBQgDFyJiIiIiIiIiIiIAoSBKxEREREREREREVGAaIGrIAhQVbU550JERERERERERPRAEcXG1ysadfdwIvTQ0K4YURTh9Xqbcy5EREREREREREQPDLfbfVfjB7Rn4vooeayj//OtBa4mkwlutxuKoty3SRERERERERERET2IFEWBx+OB2Wxu9D4vDTDewxnRg2bmQP/nWwtcLRYLRFGEy+WCx+NhewEiIiIiIiIiInokud1uyLIMURQRGhra6P0m9zbi1cdN93Bm9KB49XETfpbsP3AV1NuSVavVCpfLBUVRGLpSo0mSxJYURERERERERPTQE0URgiDAZDLBYrH8oGN8clrGukwZmdc8kD0BnuAjRHWWQwgKb+5p+Hisow4zBxrrDVsBP4ErEREREREREREREf0wjX/MGhERERERERERERE1iIErERERERERERERUYAwcCUiIiIiIiIiIiIKEAauRERERERERERERAHyP3CghDufswgnAAAAAElFTkSuQmCC" alt="image-20210623173335617"></p> <p>查看索引向ES 服务器发送的请求路径和创建索引是一致的。但是 HTTP 方法不一致。这里可以体会一下 RESTful 的意义，请求后，服务器响应结果如下：</p> <p><img src="/assets/img/image-20210623173447796.25ae03e5.png" alt="image-20210623173447796"></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;start&quot;</span>【索引名】<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;aliases&quot;</span>【别名】<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;mappings&quot;</span>【映射】<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;settings&quot;</span>【设置】<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;index&quot;</span>【设置-索引】<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;routing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;allocation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token property">&quot;_tier_preference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data_content&quot;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token string">&quot;number_of_shards&quot;</span>【设置-索引-主分片数量】<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;provided_name&quot;</span>【名称】<span class="token operator">:</span> <span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;creation_date&quot;</span>【创建时间】<span class="token operator">:</span> <span class="token string">&quot;1624440317651&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;number_of_replicas&quot;</span>【设置-索引-副分片数量】<span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;uuid&quot;</span>【唯一标识】<span class="token operator">:</span> <span class="token string">&quot;5tI3rmvvQsKJISZ8GDR-YQ&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;version&quot;</span>【设置-索引-版本】<span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;created&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7130299&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h6 id="_4、删除索引"><a href="#_4、删除索引" class="header-anchor">#</a> 4、删除索引</h6> <p>在Postman 中，向 ES 服务器发 <strong>DELETE</strong> 请求 http://127.0.0.1:9200/start</p> <p><img src="data:image/png;base64,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CgaDKisrUygUktfrlcfjUXJysioqKmSapqqqquTxeCRJLpdLpmkqFAopISFBXq83XMF4foVtXQ4dOqS2bdtG3B81SxcMHjxYkrRlyxaNHTtW3bp10zPPPBNx/r59+5SRkaG7775bLpdLKSkpGj16tF555RWdPXtWmZmZte698vJybdq0SUOHDlVSUlL4eGVlpT755BMNHTpUAwcOlGEY6tevn06ePKk1a9bo+uuvr3WPnjhxQtu3b9cTTzwRrowdM2aMDh8+rL/97W8aPXp0RPuLzWXFihXKzc1VVlaW9u7dq2AwqEceeSQ8h3Hjxmn27Nnhvr1er/7xj39o/Pjx6tixoyRp4MCB2r17t7744gv16NGjwfP66quvVFRUpOnTpysjI0OSNH78eL3wwgvavXu3brnllnqvWzAYlNfrVSgUirj+Pp8v6n1To+YejIuLi6h8tSxLXq9XCQkJqqio0KlTp3TttdfK7/fX6g8AAAAAgKbSIc0mw5CKK0Javb8yfHzLtwH9372V+tfrnfJVWbKd9+Dmz/rG6z9+7FLnlnY57VKJaWldfpWe/cSnY56QBv4oTvNGupWZbNPynZVKcRka3s2hJKehUtPSf+/y61d/rggviZAcb2j67Qn6X72cynDb5K2y9OGBKvGwaONcllB24MCB4cpWy7L05Zdf6umnn9Yf/vAHXXfdderatWu47cSJE5ukAnX69OlRqwUl6aWXXgr/f001bH3t6/vd1e748eNau3atxo8fX2cVn2maevvtt3XXXXc1uNqwKQUCAS1fvlwbN26UzWZTaWmpcnNzNWzYMBUVFWnOnDk6deqU3njjDXXo0EFTp07VBx98oD//+c8yTVMzZ87UPffcoyFDhmj9+vU6fPiwEhIS9Omnn8put8s0TU2aNCkcAhYWFmrx4sUaM2ZMuHrTsiwdOHBAvXr1kt1uD4/t9OnTstvt4ffl/vvvl91uV0lJSa15DBgwQP369VN8fHyD57579275/X71798/4vjZs2f17bffatSoURFfavTo0UPr1q3TmTNnai1JcPDgQaWlpUVUqLtcLvXq1Ut79+6V3++PGFt9czl79qzy8/NVXl4uSSouLlbHjh2VnJwcbuN0OtWjRw8dOHBAVVVVcrvdeuaZZ5SQkFDnfBs6r507dyo7Ozuiujc9PV2dO3fW3r17w6FstOu2e/du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" alt="image-20210623174330942"></p> <p><img src="/assets/img/image-20210623174346603.92eccfe4.png" alt="image-20210623174346603"></p> <p>重新访问索引时，服务器返回响应：<strong>索引不存在</strong></p> <p><img src="/assets/img/image-20210623174428993.1bc2ccc1.png" alt="image-20210623174428993"></p> <h5 id="_2、文档操作"><a href="#_2、文档操作" class="header-anchor">#</a> 2、文档操作</h5> <h6 id="_1、创建文档"><a href="#_1、创建文档" class="header-anchor">#</a> 1、创建文档</h6> <p>索引已经创建好了，接下来我们来创建文档，并添加数据。这里的文档可以类比为关系型数据库中的表数据，添加的数据格式为 JSON 格式</p> <p>在Postman 中，向 ES 服务器发 POST 请求 http://127.0.0.1:9200/start/doc</p> <p>此处发送请求的方式必须为<strong>POST</strong> ，不能是 PUT ，否则会发生错误</p> <p><img src="/assets/img/image-20210623175109841.33219402.png" alt="image-20210623175109841"></p> <p><img src="/assets/img/image-20210623175713112.6625fbd2.png" alt="image-20210623175713112"></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;_index&quot;</span>【索引】<span class="token operator">:</span> <span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;_type&quot;</span>【类型-文档】<span class="token operator">:</span> <span class="token string">&quot;doc&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;_id&quot;</span>【唯一标识】<span class="token operator">:</span> <span class="token string">&quot;iY9GOHoBucAyibLJ1Bbq&quot;</span><span class="token punctuation">,</span>#可以类比为 MySQL 中的主键，随机生成
    <span class="token string">&quot;_version&quot;</span>【版本号】<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;result&quot;</span>【结果】<span class="token operator">:</span> <span class="token string">&quot;created&quot;</span><span class="token punctuation">,</span> #这里的 create 表示创建成功
    <span class="token string">&quot;_shards&quot;</span>【分片】<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;total&quot;</span>【分片-总数】<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string">&quot;successful&quot;</span>【分片-成功】<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">&quot;failed&quot;</span>【分片-s】<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_seq_no&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_primary_term&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>上面的数据创建后，由于没有指定数据唯一性标识（ID ），默认情况下 ES 服务器会随机生成一个 。</p> <p>如果想要自定义唯一性标识，需要在创建时指定http://127.0.0.1:9200/start/doc/1 or http://127.0.0.1:9200/start/_doc/1</p> <p><img src="/assets/img/image-20210624092812116.6bf5382f.png" alt="image-20210624092812116"></p> <p><strong>此处需要注意：如果增加数据时明确数据主键，那么请求方式也可以为PUT</strong></p> <h6 id="_2、查看文档"><a href="#_2、查看文档" class="header-anchor">#</a> 2、查看文档</h6> <p>查看文档时，需要指明文档的唯一性标识，类似于MySQL 中数据的主键查询</p> <p>在Postman 中，向 ES 服务器发 GET 请求 http://127.0.0.1:9200/start/_doc/1</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABWAAAABBCAYAAABfPw3pAAAepklEQVR4nO3deVQUV9438G919UYLjQiKgBsoKkGiGJeg0ZmoMUajrzlxYjLqJEwENeNkGTPz5k1MJu+TPJmJnmdmNIu7cVzGmJDVMeOCxsQZo2DcEFdQUQMiINDQSzVdXe8fvFQoG7BRWjB+P+d4jhS3qu+lLpzT3/7VvYKiKAqIiIiIiIiIiIiIqMXpWrsDRERERERERERERD9VDGCJiIiIiIiIiIiIAoQBLBEREREREREREVGAMIAlIiIiIiIiIiIiChAGsEREREREREREREQBwgCWiIiIiIiIiIiIKEAYwBIREREREREREREFiN6fRjabDS6XC16vF4qiBLpP9BMhiiJkWW7tbhARERERERER3RSdrraG0WKxICQk5IausemIhFXZErIveSB5WrJ3dxbFWQ4hKKy1u6Fxbzc9Zg4x4ZcDTA1+X1Cuk6iWlJTA6/XCaDRCFEUIghCQjtJPT3V1NYKDg1u7G0REREREREREN83tdsPj8UCn06Fjx47NOvf/bHVg0b9dAerZnaUtBrB1nrvPjD+Ns/gcb3IJApvNBq/XC7PZDL1ez/CViIiIiIiIiIjuSEajEWazGYqiwGaz+X3epiMSw9c7xKJ/u/CPw5LP8SYDWJfLBaPRqJZZExERERERERER3al0Oh1EUYTL5X+guirbN5Cjn66VWc0MYL1eL0RRDFiHiIiIiIiIiIiIbidGo7FZeyRlX+KCr3eSfRd873eTAayiKFx2gIiIiIiIiIiIqB6v1+t3W264RVxbgIiIiIiIiIiIiChAGMASERERERERERERBQgDWCIiIiIiIiIiIqIAYQBLREREREREREREFCAMYImIiIiIiIiIiIgChAEsERERERERERERUYAwgCUiIiIiIiIiIiIKEAawRERERERERERERAHCAJaIiIiIiIiIiIgoQBjAEhEREREREREREQUIA1giIiIiIiIiIiKiANG3dgeIiIiIiIiIiIjoxiR0EnF3lAhREOCoUbAzrwZVktLa3aJ6GMAS+aGgoAAWiwUdO3ZUjzkcDly6dAlxcXHQ6/mr1BY1dN/aAlmWcfbsWURGRsJqtbZ2dzQ4r4mIiIiIiG4PY+IN+K8HgpDUWQ+x3jPujhoFHx1x43//y9EqQeyW1BDc39OA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FcD6o34A64+qqir85z//wYgRIzRrFR88eFB9pJvansbuW1tQXFyMnJwcjBw5Uv2wQJIkzbrE9VksllsWhnJeExERERERNU9bCGDrJHQScXeUCFEQcNXpxdZTTQee4/oY0CFIh0Kbt0XC0brXL65SWjxsbQgDWKJ6bucAloiIiIiIiIioMW0pgL3T3I4BbEDWgCVqa8aOHdvaXSAiIiIiIiIiojuQrrU7QERERERERERERPRTxQCWiIiIiIiIiIiIKEAYwBIREREREREREREFCANYIiIiIiIiIiIiogBhAEtEREREREREREQUIAxgiYiIiIiIiIiIiAKEASwRERERERERERFRgDCAJSIiIiIiIiIiIgoQBrBEREREREREREREAcIAloiIiIiIiIiIiChAGMASERERERERERERBUiTAawgCFAU5Vb1hYiIiIiIiIiIqM3T6fyvaTTpA9gRui00OVt0Oh1kWb5VfSEiIiIiIiIiImrT3G53s9oP7sIE9k5ybzff+91kAGs2m+F2u+H1egPWKSIiIiIiIiIiotuB1+uFx+OBxWLx+5ynB5sC2CNqa2YO8b3fTQawVqsVOp0OLpcLHo+HyxEQEREREREREdEdye12Q5Ik6HQ6hISE+H3e1P4mPHefOYA9o7biufvM+OUA3wBWUPxIVW02G1wuF7xeL0NY8psoilzCgoiIiIiIiIhuezqdDoIgwGw2w2q13tA1Nh2RsCpbQvYlDyRPC3fwDqI4yyEEhbV2NzTu7abHzCGmBsNXwM8AloiIiIiIiIiIiIiaz/8t24iIiIiIiIiIiIioWRjAEhEREREREREREQUIA1giIiIiIiIiIiKiAGEAS0RERERERERERBQgDGCJiIiIiIiIiIiIAoQBLBEREREREREREVGA/D+GoFGgwHvo3gAAAABJRU5ErkJggg==" alt="image-20210624093007479"></p> <p>查询成功后，服务器响应结果：</p> <p><img src="/assets/img/image-20210624093027530.9d021a6c.png" alt="image-20210624093027530"></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;_index&quot;</span>【索引】<span class="token operator">:</span> <span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;_type&quot;</span>【文档类型】<span class="token operator">:</span> <span class="token string">&quot;_doc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_version&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_seq_no&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_primary_term&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;found&quot;</span>【查询结果】<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>## <span class="token boolean">true</span> 表示查找到， <span class="token boolean">false</span> 表示未查找到
    <span class="token string">&quot;_source&quot;</span>【文档源信息】<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小米手机&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小米&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;images&quot;</span><span class="token operator">:</span> <span class="token string">&quot;www.xiaobear.cn&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">3999.00</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h6 id="_3、修改文档"><a href="#_3、修改文档" class="header-anchor">#</a> 3、修改文档</h6> <p>和新增文档一样，输入相同的URL 地址请求，如果请求体变化，会将原有的数据内容覆盖
在Postman 中，向 ES 服 务器发 POST 请求 http://127.0.0.1:9200/start/_doc/1</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABWAAAABCCAYAAADZq39HAAAf2klEQVR4nO3deXRUVb4v8O+pU1OKpDKSkIEhQGQMSURAQLAFRARl6ZJJAw15jOFCK63dr5+NLbf19lsNq3sJYjOJ8Bik0bQXO6JAABVshMRmCmEyAcKQECCEqtR0KnXqvD9yc0yRSkggRYJ8P2vxR6r2ObV3nZ2w6lu/s7egKIoCIiIiIiIiIiIiImp2mpbuABEREREREREREdHPFQNYIiIiIiIiIiIiogBhAEtEREREREREREQUIAxgiYiIiIiIiIiIiAKEASwRERERERERERFRgDCAJSIiIiIiIiIiIgoQBrBEREREREREREREAaK9UwOr1QqXywWv1wtFUe5Hn+hnQBRFyLLc0t0gIiIiIiIiIronGk11/aLJZEJISMhdnWPrMQlr8yTkXfZA8jRn7x4uirMCQlB4S3fDx+MdtJjR34BXUg31thGUBlLV69evw+v1Qq/XQxRFCIIQkI7Sz4/NZkNwcHBLd4OIiIiIiIiI6J653W54PB5oNBq0bdu2Scf+nx0OLP3OFaCePVxaYwBb49UnjPi/o0x+n6t3CQKr1Qqv1wuj0QitVsvwlYiIiIiIiIiIHkp6vR5GoxGKosBqtTb6uK3HJIavD4ml37nw8VHJ73P1BrAulwt6vV4tsyYiIiIiIiIiInpYaTQaiKIIl6vxgeraPP+BHP08fZjbxADW6/VCFMWAdYiIiIiIiIiIiOhBotfrm7RHUt5lLvj6MDl40f/1rjeAVRSFyw4QERERERERERHV4vV6G92WG24R0EAAS0RERERERERERET3hgEsERERERERERERUYAwgCUiIiIiIiIiIiIKEAawRERERERERERERAHCAJaIiIiIiIiIiIgoQBjAEhEREREREREREQUIA1giIiIiIiIiIiKiAGEAS0RERERERERERBQgDGCJiIiIiIiIiIiIAoQBLBEREREREREREVGAMIAlIiIiIiIiIiIiChBtS3eAiIiIiIiIiIiImq5HtIg+sSJEQYCjSsGewipUSkpLd4tuwwCW6A6Ki4thMpnQtm1b9TGHw4HLly+jc+fO0Gr5a9Qa+bturYEsyzh37hxiYmJgNptbujs+OK+JiIiIiIgeDCOSdPjj00FIbqeFWOv+dkeVgk+OufG/v3K0SBC7PSME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6FRDkiR4PB6YTKZmrRivqc7UaDT3fAt7Y8fldDoBwOf16rtutftps9mg0WjqfQ9qz5vmGFvN+SwWC1auXImMjAzExMQAAHbt2oVNmzb5Pa4mnAd+ek+MRmOD8+5Oc7tmLAB8xt+a5jUREREREdGDwGazqUVNd2JaePPOje7CtL4G/HqoEV0iRNT+COioUrD9VBXe3OHAFWv1MnohBgFLx7bB2J46mHQ1n3eBa3Yvlh9w4S/7XPhFZx0+HNcGcWYNvi6qwph1leo5t2eE4KkuOpRYvZiRZcc356rQI1rEkjEmDE3UQaupPl/eZQ9+vCEjPc3g07Y5Kc4KCEHhzXrO5uZ4N6LOY80ewN4tl8sFSZLQpk2bBjfT8ng86i3QISEh97SLOwXO/QpgG6N2ANsYlZWV+Ne//oUhQ4b4VFYfPnxYvaWbWp/6rltrUFZWhvz8fAwdOlT9skCSJJ91iWszmUz3LQzlvCYiIiIiImqa1hDA1ugRLaJPrAhREHDT6cWOMw0HnqO66RARpEGJ1dss4WjN65dVKs0etvrDAJaolgc5gCUiIiIiIiIiqk9rCmAfNg9qANtia8AS3S8jR45s6S4QEREREREREdFDivfvExEREREREREREQUIA1giIiIiIiIiIiKiAGEAS0RERERERERERBQgDGCJiIiIiIiIiIiIAoQBLBEREREREREREVGAMIAlIiIiIiIiIiIiChAGsEREREREREREREQBwgCWiIiIiIiIiIiIKEAYwBIREREREREREREFCANYIiIiIiIiIiIiogBhAEtEREREREREREQUIPUGsIIgQFGU+9kXIiIiIiIiIiKiVk2jaXw9o0EbwI7QA6PeGaPRaCDL8v3sCxERERERERERUavldrub1L5fAhPYh8njHfxf73oDWKPRCLfbDa/XG7BOERERERERERERPQi8Xi88Hg9MJlOjj5nezxDAHlFrM6O//+tdbwBrNpuh0Wjgcrng8Xi4HAERERERERERET2U3G43JEmCRqNBSEhIo4+bmGLAq08YA9gzai1efcKIV1L9B7CCcodk1Wq1wuVywev1MoSlRhNFkUtYEBEREREREdEDT6PRQBAEGI1GmM3muzrH1mMS1uZJyLvsgeRp5g4+RBRnBYSg8Jbuho/HO2gxo7+h3vAVaEQAS0RERERERERERER3p/HbthERERERERERERFRkzCAJSIiIiIiIiIiIgoQBrBEREREREREREREAcIAloiIiIiIiIiIiChAGMASERERERERERERBQgDWCIiIiIiIiIiIqIAYQBLREREREREREREFCD/H9LL8E0z7vUoAAAAAElFTkSuQmCC" alt="image-20210624093414565"></p> <p>请求体内容为:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;华为手机&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;category&quot;</span><span class="token operator">:</span><span class="token string">&quot;小米&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;images&quot;</span><span class="token operator">:</span><span class="token string">&quot;www.xiaobear.cn&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">4999.00</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>修改成功后，服务器响应结果：</p> <p><img src="/assets/img/image-20210624093502267.1deb717a.png" alt="image-20210624093502267"></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;start&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;_doc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;_version&quot;</span>【版本】<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;result&quot;</span>【结果】<span class="token operator">:</span> <span class="token string">&quot;updated&quot;</span><span class="token punctuation">,</span>## updated 表示数据被更新
    <span class="token property">&quot;_shards&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;successful&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;failed&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_seq_no&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_primary_term&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h6 id="_4、修改字段"><a href="#_4、修改字段" class="header-anchor">#</a> 4、修改字段</h6> <blockquote><p>修改数据时，也可以只修改某一给条数据的局部信息</p></blockquote> <p>在Postman 中，向 ES 服务器发 POST 请求 http://127.0.0.1:9200/start/_update/1</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABWsAAAA+CAYAAABdq0kKAAAgAElEQVR4nO3deXQUZd4v8G/1nibpbJBACAlhERACCchuUBEjAwOjh8hiQMmVfdC5jDPOXAeVd3TmHuXMHEAddvAVHAbJ+CI5UZaAAyhComwhhCVBlpCQQAjd6a06XV33j74p09loQiCNfj/n+EcqT1U9T1cVnv7mV88jiKIoA4DVakVERASIiIiIiIiIiIiI6P5TtXUHiIiIiIiIiIiIiIhhLREREREREREREVFAYFhLREREREREREREFAAY1hIREREREREREREFAIa1RERERERERERERAFAczc7WywWOJ1OeDweyLLcWn2inzi1Wg1Jktq6G0REREREREREd0Wl8tZBGo1GhISEtOgYW0+IWJ8nIq/EDdHdmr37eZEdVRCCwtu6Gz6GxWkwa4gezyfp/d6nxWHt9evX4fF4oNPpoFarIQhCSw9FPzNWqxXBwcFt3Q0iIiIiIiIiorvmcrlgt9vhdDrRoUOHO9r3/+y0Y/nXznvUM2prhy+7cfiyG/nXJPzfsUa/9mnRNAgWiwUejwcGgwEajYZBLRERERERERER/SzpdDoYDAbIsgyLxeL3fltPiAxqfyaWf+3EP4+LfrVtUVjrdDqh0+mUUm8iIiIiIiIiIqKfK5VKBbVaDafT//B1fZ5/4R39NKzLvYdhrcfjgVqtbsmuREREREREREREPzk6ne6O1nTKK+EEtT8nhy/7d71bFNbKssypD4iIiIiIiIiIiOrweDx+t+ViYtQYzmNAREREREREREREFAAY1hIREREREREREREFAIa1RERERERERERERAGAYS0RERERERERERFRAGBYS0RERERERERERBQAGNYSERERERERERERBQCGtUREREREREREREQBgGEtERERERERERERUQBgWEtEREREREREREQUABjWEhEREREREREREQUAhrVEREREREREREREAUDT1h0gIiIiIiIiIiKi1tUnSo3+ndRQCwLsNTL2FtWgWpTbult0Gwxrie7CpUuXYDQa0aFDB2Wb3W5HSUkJunXrBo2Gj1ggauy6BQJJknDhwgVER0fDZDK1dXfuGz4zRERERERErWdMTy3+/FQQEjtqoK7zTr29RsanJ1z4w5f2NgltszNC8ER3LUotHszKtOE/F2ruex8e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9Xqf6Rp+ivjMEBERERER3VuFFRIKK/yfxuB2Ye69Pj95PRBhLdG9kpqa2tZdIGp1er0er776alt3g4iIiIiIiIjuEOcJICIiIiIiIiIiIgoADGuJiIiIiIiIiIiIAgDDWiIiIiIiIiIiIqIAwLCWiIiIiIiIiIiIKAAwrCUiIiIiIiIiIodx6eYAAAHHSURBVCIKAAxriYiIiIiIiIiIiAIAw1oiIiIiIiIiIiKiAMCwloiIiIiIiIiIiCgAMKwlIiIiIiIiIiIiCgAMa4mIiIiIiIiIiIgCAMNaIiIiIiIiIiIiogDQorBWEATIstzafSEiIiIiIiIiInpgqVT+R216zT3sCD2wWhTWqlQqSJLU2n0hIiIiIiIiIiJ6ILlcrjtqPziWae3PybA4/653i8Jag8EAl8sFj8fTkt2JiIiIiIiIiIh+MjweD9xuN4xGo9/7vDRYfw97RIFm1hD/rneLwlqTyQSVSgWn0wm3280pEYiIiIiIiIiI6GfJ5XJBFEWoVCqEhIT4vd+UAXr85lHDPewZBYrfPGrA80n+hbWCKIoyAFitVkRERNzRiSwWC5xOJzweDwNb8ptareY0GkRERERERET0wFOpVBAEAQaDASaTqUXH2HpCxPo8EXklbojuVu7gz4jsqIIQFN7W3fAxLE6DWUP0fge1wF2GtURERERERERERETUOlo0DQIRERERERERERERtS6GtUREREREREREREQBgGEtERERERERERERUQBgWEtEREREREREREQUABjWEhEREREREREREQWA/wfbWOp/+p9XHgAAAABJRU5ErkJggg==" alt="image-20210624093820945"></p> <p>请求体内容为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
<span class="token property">&quot;doc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">5000.00</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>修改成功后，服务器响应结果：</p> <p><img src="/assets/img/image-20210624093910975.a37e2dda.png" alt="image-20210624093910975"></p> <p>根据唯一性标识，查询文档数据，文档数据已经更新</p> <p><img src="/assets/img/image-20210624094030078.4eceb471.png" alt="image-20210624094030078"></p> <h6 id="_5、删除文档"><a href="#_5、删除文档" class="header-anchor">#</a> 5、删除文档</h6> <p>删除一个文档不会立即从磁盘上移除，它只是被标记成已删除（逻辑删除）。</p> <p>在Postman 中，向 ES 服务器发 DELETE 请求 http://127.0.0.1:9200/start/_doc/1</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABWkAAABACAYAAABodvWGAAAemUlEQVR4nO3deXQUZb4+8Ke6eksn6RASAlkEErZEjBAZ1IAwyiY/th8eGdEBRqMQlmHcnZnr4Hb1zqicOzPgOAIKclkGEfQiDA5LQJERJVG2EDaTQAATwpKQTtLdVemqun/kpExloxtDOsjzOcdzTOWtt9+36w3n9NPfekvQNE0DEREREREREREREbWpsrIydOzYEaZgD4SIiIiIiIiIiIjoRsaQloiIiIiIiIiIiCiIGNISERERERERERERBRFDWiIiIiIiIiIiIqIgYkhLREREREREREREFEQMaYmIiIiIiIiIiIiCiCEtERERERERERERURCZA2nscrng9Xqhqio0TbtWY6KfGFEUoShKsIdBRERERERERPSjmEy19Y4OhwPh4eFX1cfagxKW5kjIOeuD5GvN0d1YNE85hJDIYA/D4M6uZky/3YZf9rcFfK7fIe2FCxegqiqsVitEUYQgCAG/GN2YqqqqEBYWFuxhEBERERERERH9aLIsw+12w+v1olOnTgGd+x9b3Fjwb+81GhkF29enffj6tA+55xT8abQjoHP92u7A5XJBVVXY7XaYzWYGtEREREREREREdEOyWq2w2+3QNA0ul8vv89YelBjQ3iAW/NuLfxyQAjrHr5DW6/XCarXqJd1EREREREREREQ3KpPJBFEU4fX6H7ouzQkstKPr23vZ1yCkVVUVoihe1YCIiIiIiIiIiIh+aqxWa0DPbMo5yw1obyRfnw7sevsV0mqaxi0OiIiIiIiIiIiI6lFV1e+2fEgYtYT7FxAREREREREREREFEUNaIiIiIiIiIiIioiBiSEtEREREREREREQURAxpiYiIiIiIiIiIiIKIIS0RERERERERERFREDGkJSIiIiIiIiIiIgoihrREREREREREREREQcSQloiIiIiIiIiIiCiIGNISERERERERERERBRFDWiIiIiIiIiIiIqIgYkhLREREREREREREFETmYA+AiIiIiIiIiIiIfpyUGBG3xooQBQHuGg078mtQKWnBHhb5iSEtUQCKiorgcDjQqVMn/Zjb7cbZs2eRlJQEs5l/Uu1RU9etPVAUBYWFhejcuTOcTmewh2PAdU1ERERERHR9GNHLgv8cGYLULmaI9e6Zd9do+PCgjN/9yx2U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ZSW+/PJLDBkyRK+0BIB9+/bpt49T+9PcdWsPSktLkZubi6FDh+pfKEiSBK/X22R7h8PRZoEp1zUREREREVFg2kNIWyclRsStsSJEQUCZR8WW4y2HoqP7WNAxxIRil9oqAWrd65dWaq0eyDaFIS1RgK7nkJaIiIiIiIiIqDntKaS90fzUQto22ZOWqL0YNWpUsIdARERERERERERkYAr2AIiIiIiIiIiIiIhuZAxpiYiIiIiIiIiIiIKIIS0RERERERERERFREDGkJSIiIiIiIiIiIgoihrREREREREREREREQcSQloiIiIiIiIiIiCiIGNISERERERERERERBRFDWiIiIiIiIiIiIqIgYkhLREREREREREREFEQMaYmIiIiIiIiIiIiCiCEtERERERERERERURD5FdIKggBN0671WIiIiIiIiIiIiK4bJpP/9Y828zUcCF33/FpJJpMJiqJc67EQERERERERERFdF2RZDqj9wASmtDeSO7sGdr39CmntdjtkWYaqqlc1KCIiIiIiIiIiop8KVVXh8/ngcDj8PuexgbZrOCJqb6bfHtj19iukdTqdMJlM8Hq98Pl83PqAiIiIiIiIiIhuSLIsQ5IkmEwmhIeH+33e5H42PHGX/RqOjNqLJ+6y45f9AwtpBS2AxNXlcsHr9UJVVQa15DdRFLldBhERERERERFd90wmEwRBgN1uh9PpvKo+1h6UsDRHQs5ZHyRfKw/wBqJ5yiGERAZ7GAZ3djVj+u22gALasrIydOzYMbCQloiIiIiIiIiIiIhaR11I6/8j6IiIiIiIiIiIiIio1TGkJSIiIiIiIiIiIgoihrREREREREREREREQcSQloiIiIiIiIiIiCiIGNISERERERERERERBdH/Adk/advGQCnzAAAAAElFTkSuQmCC" alt="image-20210624094211809"></p> <p>删除成功，服务器响应结果：</p> <p><img src="/assets/img/image-20210624094259953.90ef250b.png" alt="image-20210624094259953"></p> <p>version：<strong>对数据的操作，都会更新版本</strong></p> <p>删除后再查询当前文档信息</p> <p><img src="/assets/img/image-20210624094427227.c6013ea9.png" alt="image-20210624094427227"></p> <p>如果删除一个并不存在的文档</p> <p><img src="/assets/img/image-20210624094459012.4159c0fc.png" alt="image-20210624094459012"></p> <h6 id="_6、条件删除文档"><a href="#_6、条件删除文档" class="header-anchor">#</a> 6、条件删除文档</h6> <blockquote><p>一般删除数据都是根据文档的唯一性标识进行删除，实际操作时，也可以根据条件对多条数据进行删除</p></blockquote> <p>首先分别增加多条数据：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;小米手机&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;category&quot;</span><span class="token operator">:</span><span class="token string">&quot;小米&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;images&quot;</span><span class="token operator">:</span><span class="token string">&quot;www.xiaobear.cn&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">3999.00</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token string">&quot;华为手机&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;category&quot;</span><span class="token operator">:</span><span class="token string">&quot;华为&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;images&quot;</span><span class="token operator">:</span><span class="token string">&quot;www.xiaobear.cn&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span><span class="token number">3999.00</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>向ES 服务器发 POST 请求 http://127.0.0.1:9200/start/_delete_by_query</p> <p><img src="/assets/img/image-20210624101012667.6e694372.png" alt="image-20210624101012667"></p> <p>请求体内容为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;query&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;match&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">3999.00</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>删除成功后，服务器响应结果：</p> <p><img src="/assets/img/image-20210624101141251.6581a160.png" alt="image-20210624101141251"></p> <h5 id="_3、映射操作"><a href="#_3、映射操作" class="header-anchor">#</a> 3、映射操作</h5> <p>有了索引库，等于有了数据库中的database 。</p> <blockquote><p>接下来就需要建索引库(index)中的映射了，类似于数据库 (database)中的表结构 (table)。创建数据库表需要设置字段名称，类型，长度，约束等；索引库也一样，需要知道这个类型下有哪些字段，每个字段有哪些约束信息，这就叫做映射 (mapping)。</p></blockquote> <h6 id="_1、创建映射"><a href="#_1、创建映射" class="header-anchor">#</a> 1、创建映射</h6> <p>在Postman 中，向 ES 服务器发 PUT 请求http://127.0.0.1:9200/user/_mapping</p> <p>请求内容为：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sex&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;phone&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;keyword&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="/assets/img/image-20210902112314138.55418a72.png" alt="image-20210902112314138"></p> <p>服务器的响应</p> <p><img src="/assets/img/image-20210902112349705.3585d6ed.png" alt="image-20210902112349705"></p> <p><strong>映射数据说明</strong></p> <blockquote><ul><li><p>字段名：任意填写，下面指定许多属性，例如： title 、 subtitle 、 images 、 price</p></li> <li><p>type ：类型 Elasticsearch 中支持的数据类型非常丰富，说几个关键的：</p> <ul><li>String 类型，又分两种：
<ul><li>text：可分词</li> <li>keyword：不可分词，数据会作为完整字段进行匹配</li></ul></li> <li>Numerical ：数值类型，分两类
<ul><li>基本数据类型：long 、 integer 、 short 、 byte 、 double 、 float 、 half_float</li> <li>浮点数的高精度类型：scaled_float</li></ul></li> <li>Date ：日期类型</li> <li>Array ：数组类型</li> <li>Object ：对象</li></ul></li> <li><p>index ：是否索引，默认为 true ，也就是说你不进行任何配置，所有字段都会被索引。</p> <ul><li>true：字段会被索引，则可以用来进行搜索</li> <li>false：字段不会被索引，不能用来搜索</li></ul></li> <li><p>store ：是否将数据进行独立存储，默认为 false</p> <p>原始的文本会存储在_source 里面，默认情况下其他提取出来的字段都不是独立存储的，是从 _source 里面提取出来的。当然你也可以独立的存储某个字段，只要设置&quot;store&quot;: true 即可，获取独立存储的字段要比从 _source 中解析快得多，但是也会占用更多的空间，所以要根据实际业务需求来设置。</p></li> <li><p>analyzer ：分词器，这里的 ik_max_word 即使用 ik 分词器</p></li></ul></blockquote> <h6 id="_2、查看映射"><a href="#_2、查看映射" class="header-anchor">#</a> 2、查看映射</h6> <p>在Postman 中，向 ES 服务器发 GET 请求http://127.0.0.1:9200/user/_mapping</p> <p><img src="/assets/img/image-20210902113234313.ca9debe6.png" alt="image-20210902113234313"></p> <h6 id="_3、索引映射关联"><a href="#_3、索引映射关联" class="header-anchor">#</a> 3、索引映射关联</h6> <p>在Postman 中，向 ES 服务器发 PUT 请求 http://127.0.0.1:9200/user1</p> <p><img src="/assets/img/image-20210902113659632.c55a3244.png" alt="image-20210902113659632"></p> <h2 id="_3、java-api"><a href="#_3、java-api" class="header-anchor">#</a> 3、Java API</h2> <h3 id="_1、环境准备"><a href="#_1、环境准备" class="header-anchor">#</a> 1、环境准备</h3> <ol><li><p>创建maven项目</p></li> <li><p>导入相关依赖</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.elasticsearch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>elasticsearch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>7.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--es的客户端--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.elasticsearch.client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>elasticsearch-rest-high-level-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>7.8.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.14.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.14.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.13.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></li> <li><p>创建测试</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticSearchTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//9200 端口为 Elastic s earch 的 Web 通信端口 localhost 为启动 ES 服务的主机名</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>没有任何输出或报错信息即是成功</p></li></ol> <h3 id="_2、索引操作"><a href="#_2、索引操作" class="header-anchor">#</a> 2、索引操作</h3> <h4 id="_1、创建索引-2"><a href="#_1、创建索引-2" class="header-anchor">#</a> 1、创建索引</h4> <blockquote><p>ES服务器正常启动后，可以通过 Java API 客户端对象对 ES 索引进行操作</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDocCreate</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建索引</span>
        <span class="token class-name">CreateIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CreateIndexResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建索引的响应状态</span>
        <span class="token keyword">boolean</span> acknowledged <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">isAcknowledged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;响应状态为：&quot;</span> <span class="token operator">+</span> acknowledged<span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902153130746.d6b2e5db.png" alt="image-20210902153130746"></p> <h4 id="_2、查看索引-2"><a href="#_2、查看索引-2" class="header-anchor">#</a> 2、查看索引</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDocSearch</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询索引</span>
        <span class="token class-name">GetIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">GetIndexResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询索引的响应状态</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getAliases</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902153825249.2b2e8856.png" alt="image-20210902153825249"></p> <h4 id="_3、删除索引"><a href="#_3、删除索引" class="header-anchor">#</a> 3、删除索引</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDocDelete</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//删除索引</span>
        <span class="token class-name">DeleteIndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteIndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">AcknowledgedResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//删除索引的响应状态</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;删除状态为：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isAcknowledged</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><img src="/assets/img/image-20210902154032166.aa6a9f2b.png" alt="image-20210902154032166"></p> <h3 id="_3、文档操作"><a href="#_3、文档操作" class="header-anchor">#</a> 3、文档操作</h3> <p>创建数据模型</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">,</span> <span class="token class-name">String</span> sex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> sex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StringJoiner</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;[&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;'&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;age=&quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;sex='&quot;</span> <span class="token operator">+</span> sex <span class="token operator">+</span> <span class="token string">&quot;'&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h4 id="_1、创建数据-添加到文档"><a href="#_1、创建数据-添加到文档" class="header-anchor">#</a> 1、创建数据，添加到文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDocInsert</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">IndexRequest</span> indexRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        indexRequest<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建数据对象</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobear&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//数据对象转为JSON</span>
        <span class="token class-name">ObjectMapper</span> mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> userJson <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        indexRequest<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>userJson<span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取响应对象</span>
        <span class="token class-name">IndexResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>indexRequest<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_index：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_id：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_result：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902161002035.6b97dd91.png" alt="image-20210902161002035"></p> <h4 id="_2、修改文档"><a href="#_2、修改文档" class="header-anchor">#</a> 2、修改文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDocUpdate</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//修改文档</span>
        <span class="token class-name">UpdateRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UpdateRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置请求体，对数据进行修改</span>
        request<span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span><span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">,</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;girl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UpdateResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_index：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_id：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_result：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902161412550.d6ab0723.png" alt="image-20210902161412550"></p> <h4 id="_3、查询文档"><a href="#_3、查询文档" class="header-anchor">#</a> 3、查询文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDocGet</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建请求对象</span>
        <span class="token class-name">GetRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建响应对象</span>
        <span class="token class-name">GetResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 打印结果信息</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_index:&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_type:&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;_id:&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;source:&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902161726974.06924f6c.png" alt="image-20210902161726974"></p> <h4 id="_4、删除文档"><a href="#_4、删除文档" class="header-anchor">#</a> 4、删除文档</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticsearchDoc_Delete</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span>
                <span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span><span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建请求对象</span>
        <span class="token class-name">DeleteRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeleteRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建响应对象</span>
        <span class="token class-name">DeleteResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//打印信息</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        client<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902162715984.1dcf8d0c.png" alt="image-20210902162715984"></p> <h4 id="_5、批量操作"><a href="#_5、批量操作" class="header-anchor">#</a> 5、批量操作</h4> <h5 id="_1、批量新增"><a href="#_1、批量新增" class="header-anchor">#</a> 1、批量新增</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticSearchBatchInsert</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建批量新增请求对象</span>
        <span class="token class-name">BulkRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BulkRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1004&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xiaohuahua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1005&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1006&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建响应对象</span>
        <span class="token class-name">BulkResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;items：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>输出结果</p> <p>查询文档：</p> <ul><li>http://127.0.0.1:9200/user/_doc/1005</li> <li>http://127.0.0.1:9200/user/_doc/1004</li> <li>http://127.0.0.1:9200/user/_doc/1006</li></ul> <p><img src="/assets/img/image-20210902165818838.d7499493.png" alt="image-20210902165818838"></p> <h5 id="_2、批量删除"><a href="#_2、批量删除" class="header-anchor">#</a> 2、批量删除</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElasticSearchBatchDelete</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建批量新增请求对象</span>
        <span class="token class-name">BulkRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BulkRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DeleteRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DeleteRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1002&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DeleteRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1003&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建响应对象</span>
        <span class="token class-name">BulkResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;items：&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;status：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;失败消息：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">buildFailureMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902170608787.b2037b4a.png" alt="image-20210902170608787"></p> <h3 id="_4、高级查询"><a href="#_4、高级查询" class="header-anchor">#</a> 4、高级查询</h3> <h4 id="_1、请求体查询"><a href="#_1、请求体查询" class="header-anchor">#</a> 1、请求体查询</h4> <h5 id="_1、查询所有索引数据"><a href="#_1、查询所有索引数据" class="header-anchor">#</a> 1、查询所有索引数据</h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestBodyQuery</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchAllQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902173544176.fba4cd2d.png" alt="image-20210902173544176"></p> <h4 id="_2、term查询"><a href="#_2、term查询" class="header-anchor">#</a> 2、term查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TremQuery</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">termQuery</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210902173918326.980bf20a.png" alt="image-20210902173918326"></p> <h4 id="_3、分页查询"><a href="#_3、分页查询" class="header-anchor">#</a> 3、分页查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageQuery</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchAllQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//分页查询 当前页其实索引 第一条数据的顺序号 from</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//每页显示多少条</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903095113038.f049f8f1.png" alt="image-20210903095113038"></p> <h4 id="_4、数据排序"><a href="#_4、数据排序" class="header-anchor">#</a> 4、数据排序</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataSorting</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchAllQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//数据排序</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SortOrder</span><span class="token punctuation">.</span><span class="token constant">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_5、过滤字段"><a href="#_5、过滤字段" class="header-anchor">#</a> 5、过滤字段</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterFiled</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchAllQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//数据排序</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SortOrder</span><span class="token punctuation">.</span><span class="token constant">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询过滤字段</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> excludes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//过滤掉name属性</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> includes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">fetchSource</span><span class="token punctuation">(</span>includes<span class="token punctuation">,</span>excludes<span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903101846203.3ef84fce.png" alt="image-20210903101846203"></p> <h4 id="_6、bool查询"><a href="#_6、bool查询" class="header-anchor">#</a> 6、Bool查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BoolSearch</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BoolQueryBuilder</span> boolQuery <span class="token operator">=</span> <span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">boolQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//必须包含</span>
        boolQuery<span class="token punctuation">.</span><span class="token function">must</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchQuery</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//一定不包含</span>
        boolQuery<span class="token punctuation">.</span><span class="token function">mustNot</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchQuery</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//可能包含</span>
        boolQuery<span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">matchQuery</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>boolQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903102649502.5c13b5a9.png" alt="image-20210903102649502"></p> <h4 id="_7、范围查询"><a href="#_7、范围查询" class="header-anchor">#</a> 7、范围查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RangeSearch</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//范围查询</span>
        <span class="token class-name">RangeQueryBuilder</span> rangeQuery <span class="token operator">=</span> <span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">rangeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//大于等于</span>
        rangeQuery<span class="token punctuation">.</span><span class="token function">gte</span><span class="token punctuation">(</span><span class="token string">&quot;19&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//小于等于</span>
        rangeQuery<span class="token punctuation">.</span><span class="token function">lte</span><span class="token punctuation">(</span><span class="token string">&quot;40&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询所有对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>rangeQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903103221740.0c4b1916.png" alt="image-20210903103221740"></p> <h4 id="_8、模糊查询"><a href="#_8、模糊查询" class="header-anchor">#</a> 8、模糊查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FuzzySearch</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询的请求体</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//模糊查询</span>
        <span class="token class-name">FuzzyQueryBuilder</span> fuzzyQuery <span class="token operator">=</span> <span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">fuzzyQuery</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fuzzyQuery<span class="token punctuation">.</span><span class="token function">fuzziness</span><span class="token punctuation">(</span><span class="token class-name">Fuzziness</span><span class="token punctuation">.</span><span class="token constant">ONE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>fuzzyQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>

        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//查询匹配</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;是否超时：&quot;</span> <span class="token operator">+</span> response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;TotalHits：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;MaxScore：&quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903104946465.eeeb4486.png" alt="image-20210903104946465"></p> <h3 id="_5、高亮查询"><a href="#_5、高亮查询" class="header-anchor">#</a> 5、高亮查询</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HighlightQuery</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//高亮查询</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建查询请求体构建器</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建查询方式，高亮查询</span>
        <span class="token class-name">TermQueryBuilder</span> termQueryBuilder <span class="token operator">=</span> <span class="token class-name">QueryBuilders</span><span class="token punctuation">.</span><span class="token function">termQuery</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置查询方式</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>termQueryBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//构建高亮字段</span>
        <span class="token class-name">HighlightBuilder</span> highlightBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HighlightBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置标签前缀</span>
        highlightBuilder<span class="token punctuation">.</span><span class="token function">preTags</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;font color='red'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置标签后缀</span>
        highlightBuilder<span class="token punctuation">.</span><span class="token function">postTags</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;/font&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置高亮字段</span>
        highlightBuilder<span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置高亮构建对象</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">highlighter</span><span class="token punctuation">(</span>highlightBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置请求体</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//客户端发送请求，获取响应对象</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 打印响应结果</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;took::&quot;</span><span class="token operator">+</span>response<span class="token punctuation">.</span><span class="token function">getTook</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;time_out::&quot;</span><span class="token operator">+</span>response<span class="token punctuation">.</span><span class="token function">isTimedOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;total::&quot;</span><span class="token operator">+</span>hits<span class="token punctuation">.</span><span class="token function">getTotalHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;max_s core::&quot;</span><span class="token operator">+</span>hits<span class="token punctuation">.</span><span class="token function">getMaxScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hits::::&gt;&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">SearchHit</span> hit <span class="token operator">:</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> sourceAsString <span class="token operator">=</span> hit<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sourceAsString<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//打印高亮结果</span>
            <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HighlightField</span><span class="token punctuation">&gt;</span></span> highlightFields <span class="token operator">=</span> hit<span class="token punctuation">.</span><span class="token function">getHighlightFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>highlightFields<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;&lt;::::&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903111108658.1774b3bd.png" alt="image-20210903111108658"></p> <h3 id="_6、聚合查询"><a href="#_6、聚合查询" class="header-anchor">#</a> 6、聚合查询</h3> <h4 id="_1、最大年龄"><a href="#_1、最大年龄" class="header-anchor">#</a> 1、最大年龄</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AggregateQuery</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchSourceBuilder</span> sourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sourceBuilder<span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token class-name">AggregationBuilders</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token string">&quot;maxAge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//设置请求体</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>sourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//打印响应结果</span>
        <span class="token class-name">SearchHits</span> hits <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hits = &quot;</span> <span class="token operator">+</span> hits<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903113336835.a65f76ce.png" alt="image-20210903113336835"></p> <h4 id="_2、分组查询"><a href="#_2、分组查询" class="header-anchor">#</a> 2、分组查询</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GroupQuery</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestHighLevelClient</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RestHighLevelClient</span><span class="token punctuation">(</span><span class="token class-name">RestClient</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HttpHost</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">9200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建搜索对象</span>
        <span class="token class-name">SearchRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indices</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchSourceBuilder</span> searchSourceBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SearchSourceBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        searchSourceBuilder<span class="token punctuation">.</span><span class="token function">aggregation</span><span class="token punctuation">(</span><span class="token class-name">AggregationBuilders</span><span class="token punctuation">.</span><span class="token function">terms</span><span class="token punctuation">(</span><span class="token string">&quot;age_groupby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置请求体</span>
        request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>searchSourceBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SearchResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getHits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>输出结果</p> <p><img src="/assets/img/image-20210903120538765.ce025e2e.png" alt="image-20210903120538765"></p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">🕣上一次更新: </span> <span class="time">2022-11-27</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/frame/RabbitMQ.html" class="prev">
          RabbitMQ
        </a></span> <span class="next"><a href="/notes/components/CAT.html">
          CAT链路追踪
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_1、elasticsearch概述" class="sidebar-link reco-side-_1、elasticsearch概述" data-v-b57cc07c>1、Elasticsearch概述</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_1、什么是elasticsearch" class="sidebar-link reco-side-_1、什么是elasticsearch" data-v-b57cc07c>1、什么是Elasticsearch</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_2、全文搜索引擎" class="sidebar-link reco-side-_2、全文搜索引擎" data-v-b57cc07c>2、全文搜索引擎</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_3、elasticsearch-and-solr" class="sidebar-link reco-side-_3、elasticsearch-and-solr" data-v-b57cc07c>3、Elasticsearch And Solr</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_4、elasticsearch-or-solr" class="sidebar-link reco-side-_4、elasticsearch-or-solr" data-v-b57cc07c>4、Elasticsearch Or Solr</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_2、elasticsearch入门" class="sidebar-link reco-side-_2、elasticsearch入门" data-v-b57cc07c>2、Elasticsearch入门</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_1、elasticsearch-安装" class="sidebar-link reco-side-_1、elasticsearch-安装" data-v-b57cc07c>1、Elasticsearch 安装</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_2、基本操作" class="sidebar-link reco-side-_2、基本操作" data-v-b57cc07c>2、基本操作</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_3、java-api" class="sidebar-link reco-side-_3、java-api" data-v-b57cc07c>3、Java API</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_1、环境准备" class="sidebar-link reco-side-_1、环境准备" data-v-b57cc07c>1、环境准备</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_2、索引操作" class="sidebar-link reco-side-_2、索引操作" data-v-b57cc07c>2、索引操作</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_3、文档操作" class="sidebar-link reco-side-_3、文档操作" data-v-b57cc07c>3、文档操作</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_4、高级查询" class="sidebar-link reco-side-_4、高级查询" data-v-b57cc07c>4、高级查询</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_5、高亮查询" class="sidebar-link reco-side-_5、高亮查询" data-v-b57cc07c>5、高亮查询</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/Elasticsearch.html#_6、聚合查询" class="sidebar-link reco-side-_6、聚合查询" data-v-b57cc07c>6、聚合查询</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/assets/js/app.48299006.js" defer></script><script src="/assets/js/12.cbdaff3b.js" defer></script><script src="/assets/js/1.7e3fec5c.js" defer></script><script src="/assets/js/10.be42bf3a.js" defer></script>
  </body>
</html>
