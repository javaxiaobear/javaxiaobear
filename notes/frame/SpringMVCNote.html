<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1ã€Springç®€ä»‹ | å°ç†Šå­¦Java</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c1b38aee20eeeb56adb65146a17e0b47";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
        </script>
    <meta name="description" content="ä½ çš„æœªæ¥æ—¶åˆ»ä¼šå› ä¸ºçš„ä½ åŠªåŠ›è€Œæ”¹å˜">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="baidu-site-verification" content="code-FVmKyJMz00">
    <meta name="360-site-verification" content="b9b356af59f019380844a85d5b887d22">
    
    <link rel="preload" href="/assets/css/0.styles.07ffb206.css" as="style"><link rel="preload" href="/assets/js/app.99216a20.js" as="script"><link rel="preload" href="/assets/js/12.7962cb97.js" as="script"><link rel="preload" href="/assets/js/1.bd1f57cf.js" as="script"><link rel="preload" href="/assets/js/21.f29af704.js" as="script"><link rel="preload" href="/assets/js/50.76611734.js" as="script"><link rel="prefetch" href="/assets/js/10.0ede3908.js"><link rel="prefetch" href="/assets/js/100.ef3e9824.js"><link rel="prefetch" href="/assets/js/11.ac1af535.js"><link rel="prefetch" href="/assets/js/13.3fe185f2.js"><link rel="prefetch" href="/assets/js/14.85b80622.js"><link rel="prefetch" href="/assets/js/15.3a22bd6b.js"><link rel="prefetch" href="/assets/js/16.1a5f7fd4.js"><link rel="prefetch" href="/assets/js/17.819c1ebe.js"><link rel="prefetch" href="/assets/js/18.dfa95d5f.js"><link rel="prefetch" href="/assets/js/19.2a07c898.js"><link rel="prefetch" href="/assets/js/20.bb9a418f.js"><link rel="prefetch" href="/assets/js/22.79f3e479.js"><link rel="prefetch" href="/assets/js/23.e0a4047d.js"><link rel="prefetch" href="/assets/js/24.8e0a906d.js"><link rel="prefetch" href="/assets/js/25.eaf1bb8f.js"><link rel="prefetch" href="/assets/js/26.244c2688.js"><link rel="prefetch" href="/assets/js/27.38f33693.js"><link rel="prefetch" href="/assets/js/28.e8a110bb.js"><link rel="prefetch" href="/assets/js/29.e3c1fe5b.js"><link rel="prefetch" href="/assets/js/3.9bcb7c06.js"><link rel="prefetch" href="/assets/js/30.1e648e1e.js"><link rel="prefetch" href="/assets/js/31.02106b30.js"><link rel="prefetch" href="/assets/js/32.c46680e2.js"><link rel="prefetch" href="/assets/js/33.c2f5356a.js"><link rel="prefetch" href="/assets/js/34.fd648581.js"><link rel="prefetch" href="/assets/js/35.f86b56da.js"><link rel="prefetch" href="/assets/js/36.d5581a77.js"><link rel="prefetch" href="/assets/js/37.60e7ac4f.js"><link rel="prefetch" href="/assets/js/38.7a7cfd68.js"><link rel="prefetch" href="/assets/js/39.493a1684.js"><link rel="prefetch" href="/assets/js/4.383c91bb.js"><link rel="prefetch" href="/assets/js/40.22dd2782.js"><link rel="prefetch" href="/assets/js/41.2a3ef6d4.js"><link rel="prefetch" href="/assets/js/42.38fb2791.js"><link rel="prefetch" href="/assets/js/43.9e037f3a.js"><link rel="prefetch" href="/assets/js/44.1c98589c.js"><link rel="prefetch" href="/assets/js/45.0612743f.js"><link rel="prefetch" href="/assets/js/46.0f751899.js"><link rel="prefetch" href="/assets/js/47.7852a37b.js"><link rel="prefetch" href="/assets/js/48.242ec43c.js"><link rel="prefetch" href="/assets/js/49.d6092d2b.js"><link rel="prefetch" href="/assets/js/5.dacda38f.js"><link rel="prefetch" href="/assets/js/51.a0078604.js"><link rel="prefetch" href="/assets/js/52.cd8be301.js"><link rel="prefetch" href="/assets/js/53.c841f440.js"><link rel="prefetch" href="/assets/js/54.025c95c4.js"><link rel="prefetch" href="/assets/js/55.016772a9.js"><link rel="prefetch" href="/assets/js/56.c7e0f50c.js"><link rel="prefetch" href="/assets/js/57.1c96ded0.js"><link rel="prefetch" href="/assets/js/58.06262998.js"><link rel="prefetch" href="/assets/js/59.e2fc6a70.js"><link rel="prefetch" href="/assets/js/6.6e77eec2.js"><link rel="prefetch" href="/assets/js/60.d08a9017.js"><link rel="prefetch" href="/assets/js/61.cf68e297.js"><link rel="prefetch" href="/assets/js/62.44320461.js"><link rel="prefetch" href="/assets/js/63.3c96ac8b.js"><link rel="prefetch" href="/assets/js/64.15d3ad6d.js"><link rel="prefetch" href="/assets/js/65.cb34118d.js"><link rel="prefetch" href="/assets/js/66.6d37f89c.js"><link rel="prefetch" href="/assets/js/67.db930c72.js"><link rel="prefetch" href="/assets/js/68.05a2eaa9.js"><link rel="prefetch" href="/assets/js/69.6da49536.js"><link rel="prefetch" href="/assets/js/7.4dffdc92.js"><link rel="prefetch" href="/assets/js/70.0ca26843.js"><link rel="prefetch" href="/assets/js/71.8d965df1.js"><link rel="prefetch" href="/assets/js/72.60ecf9db.js"><link rel="prefetch" href="/assets/js/73.fb1ef585.js"><link rel="prefetch" href="/assets/js/74.099470d8.js"><link rel="prefetch" href="/assets/js/75.b25d2605.js"><link rel="prefetch" href="/assets/js/76.9fdde824.js"><link rel="prefetch" href="/assets/js/77.11c7a276.js"><link rel="prefetch" href="/assets/js/78.9e5da314.js"><link rel="prefetch" href="/assets/js/79.4f10d658.js"><link rel="prefetch" href="/assets/js/8.4383f9a6.js"><link rel="prefetch" href="/assets/js/80.e3eb7439.js"><link rel="prefetch" href="/assets/js/81.32b99d41.js"><link rel="prefetch" href="/assets/js/82.d8a22332.js"><link rel="prefetch" href="/assets/js/83.179a2869.js"><link rel="prefetch" href="/assets/js/84.28235e5a.js"><link rel="prefetch" href="/assets/js/85.c6c35c0a.js"><link rel="prefetch" href="/assets/js/86.83f7a695.js"><link rel="prefetch" href="/assets/js/87.d863cc30.js"><link rel="prefetch" href="/assets/js/88.fe747fc9.js"><link rel="prefetch" href="/assets/js/89.3e718900.js"><link rel="prefetch" href="/assets/js/9.18a396b5.js"><link rel="prefetch" href="/assets/js/90.bee42931.js"><link rel="prefetch" href="/assets/js/91.54d91a84.js"><link rel="prefetch" href="/assets/js/92.d5c820ae.js"><link rel="prefetch" href="/assets/js/93.6662cea5.js"><link rel="prefetch" href="/assets/js/94.fda2e96d.js"><link rel="prefetch" href="/assets/js/95.fc735555.js"><link rel="prefetch" href="/assets/js/96.412cc671.js"><link rel="prefetch" href="/assets/js/97.fd9ee523.js"><link rel="prefetch" href="/assets/js/98.fb48f127.js"><link rel="prefetch" href="/assets/js/99.14db9fdb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.07ffb206.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e853f9 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e853f9>å°ç†Šå­¦Java</h3> <p class="description" data-v-59e853f9>ä½ çš„æœªæ¥æ—¶åˆ»ä¼šå› ä¸ºçš„ä½ åŠªåŠ›è€Œæ”¹å˜</p> <label id="box" class="inputBox" data-v-59e853f9><input type="password" value="" data-v-59e853f9> <span data-v-59e853f9>è¯·è¾“å…¥å¯†ç </span> <button data-v-59e853f9>OK</button></label> <div class="footer" data-v-59e853f9><span data-v-59e853f9><i class="iconfont reco-theme" data-v-59e853f9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e853f9>vuePress-theme-reco</a></span> <span data-v-59e853f9><i class="iconfont reco-copyright" data-v-59e853f9></i> <a data-v-59e853f9><span data-v-59e853f9>å°ç†Šå­¦Java</span>
        Â Â 
        <span data-v-59e853f9>2021 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="å°ç†Šå­¦Java" class="logo"> <span class="site-name">å°ç†Šå­¦Java</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  ğŸ›–é¦–é¡µ
</a></div><div class="nav-item"><a href="/brush/" class="nav-link"><i class="undefined"></i>
  ğŸ“ç ä¸åœé¢˜
</a></div><div class="nav-item"><a href="/interview/" class="nav-link"><i class="undefined"></i>
  ğŸ”¥â€é¢è¯•ä¸“æ 
</a></div><div class="nav-item"><a href="/necessary/" class="nav-link"><i class="undefined"></i>
  ğŸ§±å¼€å‘å¿…å¤‡
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active"><i class="undefined"></i>
  ğŸ“™å­¦ä¹ ç¬”è®°
</a></div><div class="nav-item"><a href="/architecture/" class="nav-link"><i class="undefined"></i>
  ğŸ› ï¸æ¶æ„è®¾è®¡
</a></div><div class="nav-item"><a href="/about/me.html" class="nav-link"><i class="undefined"></i>
  ğŸ§¸å…³äº
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    å°ç†Šå­¦Java
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>61</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  ğŸ›–é¦–é¡µ
</a></div><div class="nav-item"><a href="/brush/" class="nav-link"><i class="undefined"></i>
  ğŸ“ç ä¸åœé¢˜
</a></div><div class="nav-item"><a href="/interview/" class="nav-link"><i class="undefined"></i>
  ğŸ”¥â€é¢è¯•ä¸“æ 
</a></div><div class="nav-item"><a href="/necessary/" class="nav-link"><i class="undefined"></i>
  ğŸ§±å¼€å‘å¿…å¤‡
</a></div><div class="nav-item"><a href="/notes/" class="nav-link router-link-active"><i class="undefined"></i>
  ğŸ“™å­¦ä¹ ç¬”è®°
</a></div><div class="nav-item"><a href="/architecture/" class="nav-link"><i class="undefined"></i>
  ğŸ› ï¸æ¶æ„è®¾è®¡
</a></div><div class="nav-item"><a href="/about/me.html" class="nav-link"><i class="undefined"></i>
  ğŸ§¸å…³äº
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¼€å‘å·¥å…·</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/devTools/idea.html" class="sidebar-link">IDEAå¼€å‘åˆ©å™¨</a></li><li><a href="/notes/devTools/GitNote.html" class="sidebar-link">Gitç‰ˆæœ¬æ§åˆ¶</a></li><li><a href="/notes/devTools/Linux.html" class="sidebar-link">Linuxå¸¸ç”¨å‘½ä»¤</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaåŸºç¡€</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/basic/features.html" class="sidebar-link">Java 8æ–°ç‰¹æ€§</a></li><li><a href="/notes/basic/dataAndAlgorithm.html" class="sidebar-link">æ•°æ®ç»“æ„ä¸ç®—æ³•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Javaè¿›é˜¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/advanced/designPatterns.html" class="sidebar-link">Javaè®¾è®¡æ¨¡å¼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ•°æ®åº“</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/database/MySQL.html" class="sidebar-link">MySQL</a></li><li><a href="/notes/frame/RedisNote.html" class="sidebar-link">Redis</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>å¼€å‘æ¡†æ¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/frame/JavaWebNote.html" class="sidebar-link">Java Web</a></li><li><a href="/notes/frame/SpringMVCNote.html" aria-current="page" class="active sidebar-link">Spring MVC</a></li><li><a href="/notes/frame/MybatisNote.html" class="sidebar-link">Mybatis</a></li><li><a href="/notes/frame/MybatisPlusNote.html" class="sidebar-link">Mybatis-plus</a></li><li><a href="/notes/frame/SpringBootNote.html" class="sidebar-link">Spring Boot</a></li><li><a href="/notes/frame/SpringCloudNote.html" class="sidebar-link">Spring Cloud</a></li><li><a href="/notes/frame/Docker.html" class="sidebar-link">Docker</a></li><li><a href="/notes/frame/RabbitMQ.html" class="sidebar-link">RabbitMQ</a></li><li><a href="/notes/frame/Elasticsearch.html" class="sidebar-link">Elasticsearch</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ¡†æ¶ç»„ä»¶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/components/CAT.html" class="sidebar-link">CATé“¾è·¯è¿½è¸ª</a></li><li><a href="/notes/components/HATEOAS.html" class="sidebar-link">HATEOAS</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e853f9 data-v-7dd95ae2><h3 class="title" data-v-59e853f9></h3> <!----> <label id="box" class="inputBox" data-v-59e853f9><input type="password" value="" data-v-59e853f9> <span data-v-59e853f9>è¯·è¾“å…¥å¯†ç </span> <button data-v-59e853f9>OK</button></label> <div class="footer" data-v-59e853f9><span data-v-59e853f9><i class="iconfont reco-theme" data-v-59e853f9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e853f9>vuePress-theme-reco</a></span> <span data-v-59e853f9><i class="iconfont reco-copyright" data-v-59e853f9></i> <a data-v-59e853f9><span data-v-59e853f9>å°ç†Šå­¦Java</span>
        Â Â 
        <span data-v-59e853f9>2021 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">1ã€Springç®€ä»‹</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>å°ç†Šå­¦Java</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="_1ã€springç®€ä»‹"><a href="#_1ã€springç®€ä»‹" class="header-anchor">#</a> 1ã€Springç®€ä»‹</h2> <h3 id="_1-å¸¸ç”¨ç»„ä»¶"><a href="#_1-å¸¸ç”¨ç»„ä»¶" class="header-anchor">#</a> 1.å¸¸ç”¨ç»„ä»¶</h3> <p><strong>1</strong>ã€<strong>DispatcherServlet</strong>ï¼šå‰ç«¯æ§åˆ¶å™¨</p> <p><strong>2</strong> ã€<strong>Controller</strong>ï¼šå¤„ç†å™¨/é¡µé¢æ§åˆ¶å™¨ï¼Œåšçš„æ˜¯ MVC ä¸­çš„ C çš„äº‹æƒ…ï¼Œä½†æ§åˆ¶é€»è¾‘è½¬ç§»åˆ°å‰ç«¯æ§åˆ¶å™¨äº†ï¼Œç”¨äºå¯¹è¯·æ±‚è¿›è¡Œå¤„ç†</p> <p><strong>3</strong> ã€<strong>HandlerMapping</strong> ï¼šè¯·æ±‚æ˜ å°„åˆ°å¤„ç†å™¨ï¼Œæ‰¾è°æ¥å¤„ç†ï¼Œå¦‚æœæ˜ å°„æˆåŠŸè¿”å›ä¸€ä¸ª HandlerExecutionChain å¯¹è±¡ï¼ˆåŒ…å«ä¸€ä¸ª Handler å¤„ç†å™¨(é¡µé¢æ§åˆ¶å™¨)å¯¹è±¡ã€å¤š ä¸ª <strong>HandlerInterceptor</strong> æ‹¦æˆªå™¨å¯¹è±¡ï¼‰</p> <p><strong>4</strong> ã€<strong>View Resolver</strong> : è§†å›¾è§£æå™¨ï¼Œæ‰¾è°æ¥å¤„ç†è¿”å›çš„é¡µé¢ã€‚æŠŠé€»è¾‘è§†å›¾è§£æä¸ºå…·ä½“ çš„ View,è¿›è¡Œè¿™ç§ç­–ç•¥æ¨¡å¼ï¼Œå¾ˆå®¹æ˜“æ›´æ¢å…¶ä»–è§†å›¾æŠ€æœ¯ï¼› å¦‚ InternalResourceViewResolver å°†é€»è¾‘è§†å›¾åæ˜ å°„ä¸º JSP è§†å›¾</p> <p><strong>5</strong> ã€<strong>LocalResolver</strong>ï¼šæœ¬åœ°åŒ–ã€å›½é™…åŒ–</p> <p><strong>6</strong> ã€<strong>MultipartResolver</strong>ï¼šæ–‡ä»¶ä¸Šä¼ è§£æå™¨</p> <p><strong>7</strong> ã€<strong>HandlerExceptionResolver</strong>ï¼šå¼‚å¸¸å¤„ç†å™¨</p> <h3 id="_2ã€springmvcå’Œstrutsçš„åŒºåˆ«"><a href="#_2ã€springmvcå’Œstrutsçš„åŒºåˆ«" class="header-anchor">#</a> 2ã€SpringMVCå’ŒStrutsçš„åŒºåˆ«</h3> <h5 id="å…±åŒç‚¹"><a href="#å…±åŒç‚¹" class="header-anchor">#</a> å…±åŒç‚¹ï¼š</h5> <ul><li>éƒ½æ˜¯è¡¨ç°å±‚æ¡†æ¶ï¼ŒåŸºäºMVCæ¨¡å‹ç¼–å†™çš„</li> <li>éƒ½ç¦»ä¸å¼€åŸå§‹çš„ServletAPI</li> <li>å¤„ç†æœºåˆ¶éƒ½æ˜¯ä¸€ä¸ªæ ¸å¿ƒæ§åˆ¶å™¨--<strong>DispatcherServlet</strong></li></ul> <table><thead><tr><th>SpringMVC</th> <th>Struts</th></tr></thead> <tbody><tr><td>å…¥å£æ˜¯Servlet</td> <td>Filter</td></tr> <tr><td>åŸºäºæ–¹æ³•è®¾è®¡çš„</td> <td>åŸºäºç±»è®¾è®¡çš„</td></tr> <tr><td>ç®€æ´ï¼Œæ”¯æŒJSR303ï¼Œå¤„ç†Ajaxè¯·æ±‚æ›´æ–¹ä¾¿</td> <td></td></tr></tbody></table> <h3 id="_3ã€springmvcçš„ç‰¹ç‚¹"><a href="#_3ã€springmvcçš„ç‰¹ç‚¹" class="header-anchor">#</a> 3ã€SpringMVCçš„ç‰¹ç‚¹</h3> <ul><li>å¤©ç”Ÿä¸Spring æ¡†æ¶é›†æˆï¼Œå¦‚ï¼š(IOC,AOP)</li> <li>æ”¯æŒRestful é£æ ¼</li> <li>è¿›è¡Œæ›´ç®€æ´çš„Web å±‚å¼€å‘</li> <li>æ”¯æŒçµæ´»çš„URL åˆ°é¡µé¢æ§åˆ¶å™¨çš„æ˜ å°„</li> <li>éå¸¸å®¹æ˜“ä¸å…¶ä»–è§†å›¾æŠ€æœ¯é›†æˆï¼Œå¦‚:Velocityã€FreeMarker ç­‰ç­‰</li> <li>å› ä¸ºæ¨¡å‹æ•°æ®ä¸å­˜æ”¾åœ¨ç‰¹å®šçš„API é‡Œï¼Œè€Œæ˜¯æ”¾åœ¨ä¸€ä¸ªModel é‡Œ(Map æ•°æ®ç»“æ„å®ç°ï¼Œå› æ­¤å¾ˆå®¹æ˜“è¢«å…¶ä»–æ¡†æ¶ä½¿ç”¨)</li> <li>éå¸¸çµæ´»çš„æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–å’Œæ•°æ®ç»‘å®šæœºåˆ¶ã€èƒ½ä½¿ç”¨ä»»ä½•å¯¹è±¡è¿›è¡Œæ•°æ®ç»‘å®šï¼Œä¸å¿…å®ç°ç‰¹å®šæ¡†æ¶çš„API</li> <li>æ›´åŠ ç®€å•ã€å¼ºå¤§çš„å¼‚å¸¸å¤„ç†</li> <li>å¯¹é™æ€èµ„æºçš„æ”¯æŒ</li> <li>æ”¯æŒçµæ´»çš„æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰è§£æ</li></ul> <h3 id="_4ã€å›é¡¾servlet"><a href="#_4ã€å›é¡¾servlet" class="header-anchor">#</a> 4ã€å›é¡¾Servlet</h3> <p>1.åœ¨web.xmlä¸­é…ç½®servlet</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>ReServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.xiaobear.servlet.ReServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>ReServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/reServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--    &lt;session-config&gt;
        &lt;session-timeout&gt;15&lt;/session-timeout&gt;
    &lt;/session-config&gt;

    &lt;welcome-file-list&gt;
        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
    &lt;/welcome-file-list&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>2ã€å»ºç«‹ä¸€ä¸ªservlet</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * @author xiaobear
 * @date 2020/6/27 0027 16:39
 * @Description å›é¡¾Servlet
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;æ‰§è¡Œäº†addæ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;delete&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;æ‰§è¡Œäº†deleteæ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/jsp/test.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>3ã€è§†å›¾/WEB-INF/jsp/test.jsp</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>test.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
${msg}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>4ã€æµ‹è¯•</p> <p>http://localhost:8080/springmvc_01_servlet_war_exploded/reServlet?method=add</p> <p><img src="/assets/img/image-20200628124612075.3f9aa383.png" alt="image-20200628124612075"></p> <p>http://localhost:8080/springmvc_01_servlet_war_exploded/reServlet?method=delete</p> <p><img src="/assets/img/image-20200628124629110.f8be3fdd.png" alt="image-20200628124629110"></p> <h2 id="_2ã€æ°¸è¿œçš„helloworld"><a href="#_2ã€æ°¸è¿œçš„helloworld" class="header-anchor">#</a> 2ã€æ°¸è¿œçš„HelloWorld</h2> <p>æ–°å»ºä¸€ä¸ª<code>module</code>,æ·»åŠ Webæ¡†æ¶</p> <h3 id="_1ã€åœ¨web-xml-ä¸­é…ç½®dispatcherservlet"><a href="#_1ã€åœ¨web-xml-ä¸­é…ç½®dispatcherservlet" class="header-anchor">#</a> 1ã€åœ¨web.xml ä¸­é…ç½®DispatcherServlet</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- é…ç½®SpringMVC æ ¸å¿ƒæ§åˆ¶å™¨ï¼š --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springDispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- é…ç½®DispatcherServlet çš„åˆå§‹åŒ–åƒæ•¸ï¼šè®¾ç½®æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶åç§°--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springDispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>è§£é‡Šé…ç½®æ–‡ä»¶çš„åç§°å®šä¹‰è§„åˆ™:</p> <ul><li><p>å®é™…ä¸Šä¹Ÿå¯ä»¥ä¸é€šè¿‡<code>contextConfigLocation</code>æ¥é…ç½®SpringMVC çš„é…ç½®æ–‡ä»¶, è€Œä½¿ç”¨é»˜è®¤</p> <p>çš„.é»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸º: /WEB-INF/<servlet-name>-servlet.xml</servlet-name></p></li> <li><p>æ‰€æœ‰è¯·æ±‚éƒ½å°†è‡ªåŠ¨æ‹¦æˆªä¸‹æ¥ï¼Œæ‹¦æˆªä¸‹æ¥åï¼Œè¯·æ±‚äº¤ç»™<code>DispatcherServlet</code>å»å¤„ç†ï¼Œåœ¨åŠ è½½ DispatcherServlet æ—¶ï¼Œè¿˜éœ€è¦æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªé»˜è®¤çš„è§„åˆ™ï¼Œå¦‚æœé…ç½®æ–‡ä»¶æ”¾åœ¨ webapp/WEB-INF/ ç›®å½•ä¸‹ï¼Œå¹¶ä¸”é…ç½®æ–‡ä»¶çš„åå­—ç­‰äº <code>DispatcherServlet çš„åå­—+ -servlet</code>ï¼ˆå³è¿™é‡Œçš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ webapp/WEB-INF/springmvc-servlet.xmlï¼‰ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå¯ä»¥ä¸ç”¨æ·»åŠ  init-param å‚æ•°ï¼Œå³ä¸ç”¨æ‰‹åŠ¨é…ç½® springmvc çš„é…ç½®æ–‡ä»¶ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨åŠ è½½ã€‚</p></li></ul> <h3 id="_2ã€åŠ è½½-springmvc-é…ç½®æ–‡ä»¶"><a href="#_2ã€åŠ è½½-springmvc-é…ç½®æ–‡ä»¶" class="header-anchor">#</a> 2ã€åŠ è½½ springmvc é…ç½®æ–‡ä»¶</h3> <p>åœ¨ resources ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º spring.xml çš„ springmvc çš„é…ç½®æ–‡ä»¶</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--spring mvcä¸ºæˆ‘ä»¬åšå¥½çš„--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerAdapter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--è§†å›¾è§£æå™¨--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--å‰ç¼€--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--åç¼€--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaobear.controller.HelloController<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_3ã€controller-å¤„ç†æµè§ˆå™¨è¯·æ±‚çš„æ¥å£"><a href="#_3ã€controller-å¤„ç†æµè§ˆå™¨è¯·æ±‚çš„æ¥å£" class="header-anchor">#</a> 3ã€Controllerï¼Œå¤„ç†æµè§ˆå™¨è¯·æ±‚çš„æ¥å£</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token keyword">implements</span> <span class="token class-name">Controller</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * è¿™å°±æ˜¯ä¸€ä¸ªè¯·æ±‚å¤„ç†æ¥å£
     * @param httpServletRequest  è¿™å°±æ˜¯å‰ç«¯å‘é€æ¥çš„è¯·æ±‚
     * @param httpServletResponse è¿™å°±æ˜¯æœåŠ¡ç«¯ç»™å‰ç«¯çš„å“åº”
     * @return è¿”å›å€¼æ˜¯ä¸€ä¸ª ModelAndViewï¼ŒModel ç›¸å½“äºæ˜¯æˆ‘ä»¬çš„æ•°æ®æ¨¡å‹ View æ˜¯æˆ‘ä»¬çš„è§†å›¾
     * @throws Exception
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> httpServletRequest<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> httpServletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">ModelAndView</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        view<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello,spring mvc!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        view<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//WEB-INF/jsp/hello.jsp</span>
        <span class="token keyword">return</span> view<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_4ã€åˆ›å»ºè§†å›¾"><a href="#_4ã€åˆ›å»ºè§†å›¾" class="header-anchor">#</a> 4ã€åˆ›å»ºè§†å›¾</h3> <p>åœ¨WEB-INFä¸‹æ–°å»ºä¸€ä¸ªjspç›®å½•,æ–°å»º<code>hello.jsp</code></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
${msg}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>è®¿é—®å‡ºç°404çš„åŸå› ï¼š</strong></p> <ul><li>ä»”ç»†æ£€æŸ¥è‡ªå·±çš„è·¯å¾„</li> <li>åœ¨classesç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªlibç›®å½•ï¼Œå¯¼å…¥ç›¸å…³ä¾èµ–
<ul><li><img src="/assets/img/image-20200627213243581.54680e88.png" alt="image-20200627213243581"></li> <li><img src="/assets/img/image-20200627213319851.6d427d36.png" alt="image-20200627213319851"></li> <li><img src="/assets/img/image-20200627213350212.f2a02c3b.png" alt="image-20200627213350212"></li> <li><img src="/assets/img/image-20200627213401246.ab441bad.png" alt="image-20200627213401246"></li></ul></li></ul> <h3 id="_5ã€hello-mvcæ·±åº¦è§£æ"><a href="#_5ã€hello-mvcæ·±åº¦è§£æ" class="header-anchor">#</a> 5ã€hello MVCæ·±åº¦è§£æ</h3> <p><img src="/assets/img/image-20200627181310874.201fda1e.png" alt="image-20200627181310874"></p> <h2 id="_3ã€spring-mvcå·¥ä½œæµç¨‹"><a href="#_3ã€spring-mvcå·¥ä½œæµç¨‹" class="header-anchor">#</a> 3ã€Spring MVCå·¥ä½œæµç¨‹</h2> <p><strong>é¢è¯•99%ä¼šé—®åˆ°</strong></p> <p><img src="/assets/img/image-20200627175815855.c137ab1c.png" alt="image-20200627175815855"></p> <p><img src="/assets/img/image-20200627183122723.a744b64f.png" alt="image-20200627183122723"></p> <ol><li>å®¢æˆ·ç«¯è¯·æ±‚æäº¤åˆ°<code>DispatcherServlet</code></li> <li>ç”±<code>DispatcherServlet</code> æ§åˆ¶å™¨æŸ¥è¯¢ä¸€ä¸ªæˆ–å¤šä¸ª<code>HandlerMapping</code>ï¼Œæ‰¾åˆ°å¤„ç†è¯·æ±‚çš„<code>Controller DispatcherServlet</code></li> <li>è¯·æ±‚æäº¤åˆ°<code>Controller</code>ï¼ˆä¹Ÿç§°ä¸º<code>Handler</code>ï¼‰</li> <li><code>Controller</code>è°ƒç”¨ä¸šåŠ¡é€»è¾‘å¤„ç†åï¼Œè¿”å› <code>ModelAndView</code></li> <li><code>DispatcherServlet</code>æŸ¥è¯¢ä¸€ä¸ªæˆ–å¤šä¸ª<code>ViewResoler</code> è§†å›¾è§£æå™¨ï¼Œæ‰¾åˆ°<code>ModelAndView</code> æŒ‡å®šçš„è§†å›¾</li> <li>è§†å›¾è´Ÿè´£å°†ç»“æœæ˜¾ç¤ºåˆ°å®¢æˆ·ç«¯</li></ol> <h2 id="_4ã€åŸºäºæ³¨è§£å¼€å‘spring-mvc"><a href="#_4ã€åŸºäºæ³¨è§£å¼€å‘spring-mvc" class="header-anchor">#</a> 4ã€åŸºäºæ³¨è§£å¼€å‘Spring MVC</h2> <h3 id="_1ã€åœ¨-web-xml-ä¸­é…ç½®-dispatcherservlet"><a href="#_1ã€åœ¨-web-xml-ä¸­é…ç½®-dispatcherservlet" class="header-anchor">#</a> 1ã€åœ¨ web.xml ä¸­é…ç½® DispatcherServlet</h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--æ³¨å†ŒDispatcherServlet--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc-servlet.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--è¿™é‡Œæœ‰ä¸€ä¸ªé»˜è®¤çš„è§„åˆ™ï¼Œå¦‚æœé…ç½®æ–‡ä»¶æ”¾åœ¨ webapp/WEB-INF/ ç›®å½•ä¸‹ï¼Œå¹¶ä¸”é…ç½®æ–‡ä»¶çš„åå­—ç­‰äº DispatcherServlet çš„åå­—+ -servletï¼ˆå³è¿™é‡Œçš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ webapp/WEB-INF/springmvc-servlet.xmlï¼‰ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå¯ä»¥ä¸ç”¨æ·»åŠ  init-param å‚æ•°ï¼Œå³ä¸ç”¨æ‰‹åŠ¨é…ç½® springmvc çš„é…ç½®æ–‡ä»¶ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨åŠ è½½ã€‚--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2ã€æ–°å»ºspringé…ç½®æ–‡ä»¶-springmvc-servlet-xml"><a href="#_2ã€æ–°å»ºspringé…ç½®æ–‡ä»¶-springmvc-servlet-xml" class="header-anchor">#</a> 2ã€æ–°å»ºspringé…ç½®æ–‡ä»¶ï¼š<code>springmvc-servlet.xml</code></h3> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--è‡ªåŠ¨æ‰«æåŒ…--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaobear.controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--è¿‡æ»¤--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--è‡ªåŠ¨é…ç½® ç›¸å½“äºHandleMappingå’ŒHandleAdapet--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- é…ç½®æ˜ å°„è§£æå™¨ï¼šå¦‚ä½•å°†æ§åˆ¶å™¨è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸ºä¸€ä¸ªç‰©ç†çš„è§†å›¾æ–‡ä»¶--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>InternalResourceViewResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_3ã€controller"><a href="#_3ã€controller" class="header-anchor">#</a> 3ã€Controller</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello,spring mvc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_4ã€åœ¨-web-inf-æ–°å»ºjspç›®å½•-æ–°å»ºhello-jspè§†å›¾"><a href="#_4ã€åœ¨-web-inf-æ–°å»ºjspç›®å½•-æ–°å»ºhello-jspè§†å›¾" class="header-anchor">#</a> 4ã€åœ¨/WEB-INF/æ–°å»ºjspç›®å½•ï¼Œæ–°å»ºhello.jspè§†å›¾</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
${msg}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æ€»ç»“ï¼š</p> <ul><li><p>åç»­æˆ‘ä»¬éƒ½æ˜¯åŸºäºæ³¨è§£å¼€å‘çš„ï¼Œæ„Ÿè§‰é‚£å°±æ˜¯éå¸¸çˆ½çš„</p></li> <li><p><code>springmvc</code>å¿…é¡»é…ç½®çš„ä¸‰å¤§ç»„ä»¶</p> <ul><li><p>å¤„ç†å™¨æ˜ å°„å™¨</p></li> <li><p>å¤„ç†å™¨é€‚é…å™¨</p></li> <li><p>è§†å›¾è§£æå™¨</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--è¿‡æ»¤--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--è‡ªåŠ¨é…ç½® ç›¸å½“äºHandleMappingå’ŒHandleAdapet--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- é…ç½®æ˜ å°„è§£æå™¨ï¼šå¦‚ä½•å°†æ§åˆ¶å™¨è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸ºä¸€ä¸ªç‰©ç†çš„è§†å›¾æ–‡ä»¶--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>InternalResourceViewResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul></li> <li><p><code>Spring MVC</code>ä¸‡èƒ½æ¨¡æ¿(åŸºäºæ³¨è§£)</p> <ul><li><p>æ³¨å†Œ<code>DispatcherServlet</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--æ³¨å†ŒDispatcherServlet--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc-servlet.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>springé…ç½®æ–‡ä»¶æ¨¡æ¿</p> <p>æ³¨ï¼šå¯¼å…¥mvcå‘½ä»¤ç©ºé—´çš„æ—¶å€™è®°å¾—å…ˆå¯¼å…¥è¿‡æ»¤ï¼Œå¦‚æœå…ˆå¯¼å…¥å¤„ç†å™¨çš„å‘½ä»¤ç©ºé—´ï¼Œå°±ä¼šæŠ¥é”™</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
<span class="token comment">&lt;!--ä¸‹é¢æ˜¯é”™è¯¯çš„--&gt;</span>
xmlns:mvc=&quot;http://www.springframework.org/schema/cache&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--è‡ªåŠ¨æ‰«æåŒ…--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä½ è‡ªå·±çš„åŒ…<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--è¿‡æ»¤--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--è‡ªåŠ¨é…ç½® ç›¸å½“äºHandleMappingå’ŒHandleAdapet--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- é…ç½®æ˜ å°„è§£æå™¨ï¼šå¦‚ä½•å°†æ§åˆ¶å™¨è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸ºä¸€ä¸ªç‰©ç†çš„è§†å›¾æ–‡ä»¶--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>InternalResourceViewResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/jsp/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul></li></ul> <h2 id="_5ã€dispatcherservletä¸å¤„ç†å™¨"><a href="#_5ã€dispatcherservletä¸å¤„ç†å™¨" class="header-anchor">#</a> 5ã€<code>DispatcherServlet</code>ä¸å¤„ç†å™¨</h2> <h3 id="_1ã€dispatcherservlet"><a href="#_1ã€dispatcherservlet" class="header-anchor">#</a> 1ã€<code>DispatcherServlet</code></h3> <blockquote><p>DispatcherServlet æ˜¯å‰ç«¯æ§åˆ¶å™¨è®¾è®¡æ¨¡å¼çš„å®ç°ï¼Œæä¾› Spring Web MVC çš„é›†ä¸­è®¿é—®ç‚¹ï¼Œè€Œä¸”è´Ÿè´£èŒè´£çš„åˆ†æ´¾ï¼Œè€Œä¸”ä¸ Spring IoC å®¹å™¨æ— ç¼é›†æˆï¼Œä»è€Œå¯ä»¥è·å¾— Spring çš„æ‰€æœ‰å¥½å¤„ã€‚DispatcherServlet ä¸»è¦ç”¨ä½œèŒè´£è°ƒåº¦å·¥ä½œï¼Œæœ¬èº«ä¸»è¦ç”¨äºæ§åˆ¶æµç¨‹ï¼Œä¸»è¦èŒè´£å¦‚ä¸‹ï¼š</p> <ul><li>æ–‡ä»¶ä¸Šä¼ è§£æï¼Œå¦‚æœè¯·æ±‚ç±»å‹æ˜¯ multipart å°†é€šè¿‡ MultipartResolver è¿›è¡Œæ–‡ä»¶ä¸Šä¼ è§£æ</li> <li>é€šè¿‡ HandlerMappingï¼Œå°†è¯·æ±‚æ˜ å°„åˆ°å¤„ç†å™¨ï¼ˆè¿”å›ä¸€ä¸ª HandlerExecutionChainï¼Œå®ƒåŒ…æ‹¬ä¸€ä¸ªå¤„ç†å™¨ã€å¤šä¸ª HandlerInterceptor æ‹¦æˆªå™¨ï¼‰</li> <li>é€šè¿‡ HandlerAdapter æ”¯æŒå¤šç§ç±»å‹çš„å¤„ç†å™¨(HandlerExecutionChain ä¸­çš„å¤„ç†å™¨)</li> <li>é€šè¿‡ ViewResolver è§£æé€»è¾‘è§†å›¾ååˆ°å…·ä½“è§†å›¾å®ç°</li> <li>æœ¬åœ°åŒ–è§£æ</li> <li>æ¸²æŸ“å…·ä½“çš„è§†å›¾ç­‰</li> <li>å¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°å¼‚å¸¸å°†äº¤ç»™ HandlerExceptionResolver æ¥è§£æ</li></ul></blockquote> <h4 id="_1ã€dispatcherservleté…ç½®è¯¦è§£"><a href="#_1ã€dispatcherservleté…ç½®è¯¦è§£" class="header-anchor">#</a> 1ã€<code>DispatcherServlet</code>é…ç½®è¯¦è§£</h4> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--æ³¨å†ŒDispatcherServlet--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc-servlet.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>â€¢	<code>load-on-startup</code>ï¼šè¡¨ç¤ºå¯åŠ¨å®¹å™¨æ—¶åˆå§‹åŒ–è¯¥<code>Servlet</code></p> <p>â€¢	<code>url-pattern</code>ï¼šè¡¨ç¤ºå“ªäº›è¯·æ±‚äº¤ç»™<code>Spring Web MVC</code>å¤„ç†ï¼Œ &quot;/&quot; æ˜¯ç”¨æ¥å®šä¹‰é»˜è®¤servlet æ˜ å°„çš„ã€‚ä¹Ÿå¯ä»¥å¦‚</p> <p>*.html è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰ä»¥ html ä¸ºæ‰©å±•åçš„è¯·æ±‚</p> <p>â€¢	<code>contextConfigLocation</code>ï¼šè¡¨ç¤º SpringMVC é…ç½®æ–‡ä»¶çš„è·¯å¾„</p> <p><strong>DispatcherServletå…¶ä»–åˆå§‹åŒ–å‚æ•°</strong></p> <table><thead><tr><th style="text-align:left;">å‚æ•°</th> <th style="text-align:left;">è¯´æ˜</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>contextClass</code></td> <td style="text-align:left;">å®ç°ç±»ï¼Œ<code>ConfigurableWebApplicationContext</code>ç”±è¯¥Servletå®ä¾‹åŒ–å¹¶åœ¨æœ¬åœ°é…ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>XmlWebApplicationContext</code>ä½¿ç”¨ã€‚</td></tr> <tr><td style="text-align:left;"><code>contextConfigLocation</code></td> <td style="text-align:left;">ä¼ é€’ç»™ä¸Šä¸‹æ–‡å®ä¾‹çš„å­—ç¬¦ä¸²ï¼ˆç”±æŒ‡å®š<code>contextClass</code>ï¼‰ï¼Œä»¥æŒ‡ç¤ºå¯ä»¥åœ¨å“ªé‡Œæ‰¾åˆ°ä¸Šä¸‹æ–‡ã€‚è¯¥å­—ç¬¦ä¸²å¯èƒ½åŒ…å«å¤šä¸ªå­—ç¬¦ä¸²ï¼ˆä½¿ç”¨é€—å·ä½œä¸ºåˆ†éš”ç¬¦ï¼‰ä»¥æ”¯æŒå¤šä¸ªä¸Šä¸‹æ–‡ã€‚å¯¹äºå…·æœ‰ä¸¤æ¬¡å®šä¹‰çš„beançš„å¤šä¸ªä¸Šä¸‹æ–‡ä½ç½®ï¼Œä»¥æœ€æ–°ä½ç½®ä¸ºå‡†ã€‚</td></tr> <tr><td style="text-align:left;"><code>namespace</code></td> <td style="text-align:left;"><code>WebApplicationContext</code>å‘½åç©ºé—´ã€‚é»˜è®¤ä¸º<code>[servlet-name]-servlet</code>ã€‚</td></tr> <tr><td style="text-align:left;"><code>throwExceptionIfNoHandlerFound</code></td> <td style="text-align:left;"><code>NoHandlerFoundException</code>åœ¨æ‰¾ä¸åˆ°è¯·æ±‚çš„å¤„ç†ç¨‹åºæ—¶æ˜¯å¦æŠ›å‡ºã€‚ç„¶åå¯ä»¥ä½¿ç”¨<code>HandlerExceptionResolver</code>ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ä½¿ç”¨ <code>@ExceptionHandler</code>æ§åˆ¶å™¨æ–¹æ³•ï¼‰æ•è·è¯¥å¼‚å¸¸å¹¶å°†å…¶ä½œä¸ºå…¶ä»–ä»»ä½•å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè®¾ç½®ä¸º<code>false</code>ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>DispatcherServlet</code>å°†å“åº”çŠ¶æ€è®¾ç½®ä¸º404ï¼ˆNOT_FOUNDï¼‰ï¼Œè€Œä¸ä¼šå¼•å‘å¼‚å¸¸ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœè¿˜é…ç½®äº†<a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-default-servlet-handler" target="_blank" rel="noopener noreferrer">é»˜è®¤servletå¤„ç†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œåˆ™å§‹ç»ˆå°†æœªè§£å†³çš„è¯·æ±‚è½¬å‘åˆ°é»˜è®¤servletï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šå¼•å‘404ã€‚</td></tr></tbody></table> <h3 id="_2ã€å¤„ç†å™¨"><a href="#_2ã€å¤„ç†å™¨" class="header-anchor">#</a> 2ã€å¤„ç†å™¨</h3> <h4 id="_1ã€handlermapping"><a href="#_1ã€handlermapping" class="header-anchor">#</a> 1ã€HandlerMapping</h4> <p>HandlerMapping ï¼Œä¸­æ–‡è¯‘ä½œå¤„ç†å™¨æ˜ å°„å™¨ï¼Œåœ¨ SpringMVC ä¸­ï¼Œç³»ç»Ÿæä¾›äº†å¾ˆå¤š HandlerMapping</p> <p><img src="/assets/img/image-20200627231021051.fce0afa4.png" alt="image-20200627231021051"></p> <p><code>HandlerMapping</code> æ˜¯è´Ÿè´£æ ¹æ® <code>request</code> è¯·æ±‚æ‰¾åˆ°å¯¹åº”çš„<code>Handler</code> å¤„ç†å™¨åŠ<code>Interceptor</code> æ‹¦æˆªå™¨ï¼Œå°†å®ƒä»¬å°è£…åœ¨ <code>HandlerExecutionChain</code> å¯¹è±¡ä¸­è¿”å›ç»™å‰ç«¯æ§åˆ¶å™¨ã€‚</p> <ul><li><p><code>BeanNameUrlHandlerMapping</code></p> <blockquote><p>BeanNameUrl å¤„ç†å™¨æ˜ å°„å™¨ï¼Œæ ¹æ®è¯·æ±‚çš„ url ä¸ Spring å®¹å™¨ä¸­å®šä¹‰çš„ bean çš„ name è¿›è¡ŒåŒ¹é…ï¼Œä»è€Œä» Spring å®¹å™¨ä¸­æ‰¾åˆ° bean å®ä¾‹ï¼Œå°±æ˜¯è¯´ï¼Œè¯·æ±‚çš„ Url åœ°å€å°±æ˜¯å¤„ç†å™¨ Bean çš„åå­—ã€‚</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.BeanNameUrlHand lerMapping<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerMapping<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote></li> <li><p><code>SimpleUrlHandlerMapping</code></p></li></ul> <blockquote><p>SimpleUrlHandlerMapping æ˜¯ BeanNameUrlHandlerMapping çš„å¢å¼ºç‰ˆæœ¬ï¼Œå®ƒå¯ä»¥å°† url å’Œå¤„ç†å™¨ bean çš„ id è¿›è¡Œç»Ÿä¸€æ˜ å°„é…ç½®:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.SimpleUrlHandle rMapping<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerMapping<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappings<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myController<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myController2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span> 
<span class="token comment">&lt;!--æ³¨æ„ï¼Œåœ¨ props ä¸­ï¼Œå¯ä»¥é…ç½®å¤šä¸ªè¯·æ±‚è·¯å¾„å’Œå¤„ç†å™¨å®ä¾‹çš„æ˜ å°„å…³ç³»ã€‚--&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></blockquote> <h4 id="_2ã€handleradapter"><a href="#_2ã€handleradapter" class="header-anchor">#</a> 2ã€<code>HandlerAdapter</code></h4> <blockquote><p>HandlerAdapter ä¼šæ ¹æ®é€‚é…å™¨æ¥å£å¯¹åç«¯æ§åˆ¶å™¨è¿›è¡ŒåŒ…è£…ï¼ˆé€‚é…ï¼‰ï¼ŒåŒ…è£…åå³å¯å¯¹å¤„ç†å™¨è¿›è¡Œæ‰§è¡Œï¼Œé€šè¿‡æ‰©å±•å¤„ç†å™¨é€‚é…å™¨å¯ä»¥æ‰§è¡Œå¤šç§ç±»å‹çš„å¤„ç†å™¨ï¼Œè¿™é‡Œä½¿ç”¨äº†é€‚é…å™¨è®¾è®¡æ¨¡å¼ã€‚</p></blockquote> <p><img src="/assets/img/image-20200628102005467.319ec53a.png" alt="image-20200628102005467"></p> <ul><li><code>SimpleControllerHandlerAdapter</code></li></ul> <blockquote><p><code>SimpleControllerHandlerAdapter</code> ç®€å•æ§åˆ¶å™¨å¤„ç†å™¨é€‚é…å™¨ï¼Œæ‰€æœ‰å®ç°äº† <code>org.springframework.web.servlet.mvc.Controller</code> æ¥å£çš„ <code>Bean</code> é€šè¿‡æ­¤é€‚é…å™¨è¿›è¡Œé€‚é…ã€æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬å¼€å‘çš„æ¥å£æ˜¯é€šè¿‡å®ç° <code>Controller</code> æ¥å£æ¥å®Œæˆçš„ï¼ˆä¸æ˜¯é€šè¿‡æ³¨è§£å¼€å‘çš„æ¥å£ï¼‰ï¼Œé‚£ä¹ˆ <code>HandlerAdapter</code> å¿…é¡»æ˜¯ <code>SimpleControllerHandlerAdapter</code>ã€‚</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></blockquote> <ul><li><code>HttpRequestHandlerAdapter</code></li></ul> <blockquote><p>HttpRequestHandlerAdapterï¼Œhttp è¯·æ±‚å¤„ç†å™¨é€‚é…å™¨ï¼Œæ‰€æœ‰å®ç°äº†
org.springframework.web.HttpRequestHandler æ¥å£çš„ Bean é€šè¿‡æ­¤é€‚é…å™¨è¿›è¡Œé€‚é…ã€æ‰§è¡Œã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController2</span> <span class="token keyword">implements</span> <span class="token class-name">HttpRequestHandler</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServlet</span> <span class="token class-name">Response</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----MyController2-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.SimpleUrlHandle rMapping<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerMapping<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mappings<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myController2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.mvc.HttpRequestHandlerA dapter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlerAdapter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote> <h2 id="_6ã€-requestmapping"><a href="#_6ã€-requestmapping" class="header-anchor">#</a> 6ã€@RequestMapping</h2> <ul><li><code>@GetMapping</code> ==<code>@RequestMapping(method = RequestMethod.GET)</code></li> <li><code>@PostMapping</code> == <code>@RequestMapping(method = RequestMethod.POST)</code></li> <li><code>@PutMapping</code> == <code>@RequestMapping(method = RequestMethod.PUT)</code></li> <li><code>@DeleteMapping</code> == <code>@RequestMapping(method = RequestMethod.DELETE)</code></li> <li><code>@PatchMapping</code> == <code>@RequestMapping(method = RequestMethod.PATCH)</code></li></ul> <blockquote><p>å¯ä»¥ä½¿ç”¨<code>@RequestMapping</code>æ‰¹æ³¨å°†è¯·æ±‚æ˜ å°„åˆ°æ§åˆ¶å™¨æ–¹æ³•ã€‚å®ƒå…·æœ‰å„ç§å±æ€§ï¼Œå¯ä»¥é€šè¿‡URLï¼ŒHTTPæ–¹æ³•ï¼Œè¯·æ±‚å‚æ•°ï¼Œæ ‡å¤´å’Œåª’ä½“ç±»å‹è¿›è¡ŒåŒ¹é…ã€‚æ‚¨å¯ä»¥åœ¨ç±»çº§åˆ«ä½¿ç”¨å®ƒæ¥è¡¨ç¤ºå…±äº«çš„æ˜ å°„ï¼Œä¹Ÿå¯ä»¥åœ¨æ–¹æ³•çº§åˆ«ä½¿ç”¨å®ƒæ¥ç¼©å°åˆ°ç‰¹å®šçš„ç«¯ç‚¹æ˜ å°„ã€‚</p> <ul><li><p>SpringMVC ä½¿ç”¨@RequestMapping æ³¨è§£ä¸ºæ§åˆ¶å™¨æŒ‡å®šå¯ä»¥å¤„ç†å“ªäº› URL è¯·æ±‚</p></li> <li><p>åœ¨æ§åˆ¶å™¨çš„ç±»å®šä¹‰åŠæ–¹æ³•å®šä¹‰å¤„éƒ½å¯æ ‡æ³¨ @RequestMapping</p> <ul><li>æ ‡è®°åœ¨ç±»ä¸Šï¼šæä¾›åˆæ­¥çš„è¯·æ±‚æ˜ å°„ä¿¡æ¯ã€‚ç›¸å¯¹äº WEB åº”ç”¨çš„æ ¹ç›®å½•</li> <li>æ ‡è®°åœ¨æ–¹æ³•ä¸Šï¼šæä¾›è¿›ä¸€æ­¥çš„ç»†åˆ†æ˜ å°„ä¿¡æ¯ã€‚ç›¸å¯¹äºæ ‡è®°åœ¨ç±»ä¸Šçš„ URLã€‚</li></ul></li> <li><p>è‹¥ç±»ä¸Šæœªæ ‡æ³¨ @RequestMappingï¼Œåˆ™æ–¹æ³•å¤„æ ‡è®°çš„ URL ç›¸å¯¹äº WEB åº”ç”¨çš„æ ¹ç›®å½•</p></li> <li><p>ä½œç”¨ï¼šDispatcherServlet æˆªè·è¯·æ±‚åï¼Œå°±é€šè¿‡æ§åˆ¶å™¨ä¸Š @RequestMapping æä¾›çš„æ˜ å°„ä¿¡æ¯ç¡®å®šè¯·æ±‚æ‰€å¯¹åº”çš„å¤„ç†æ–¹æ³•ã€‚</p></li></ul></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ControllerTest3</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test3&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">/**
     * 	æ˜ å°„è¯·æ±‚çš„åç§°ï¼šç”¨äºå®¢æˆ·ç«¯è¯·æ±‚ï¼›ç±»ä¼¼Struts2 ä¸­action æ˜ å°„é…ç½®çš„ï¼Œaction åç§°
     * 	1 ä½¿ç”¨@RequestMapping æ³¨è§£æ¥æ˜ å°„è¯·æ±‚çš„ URL
     * 	2 è¿”å›å€¼ä¼šé€šè¿‡è§†å›¾è§£æå™¨è§£æä¸ºå®é™…çš„ç‰©ç†è§†å›¾,
     * 	å¯¹äº InternalResourceViewResolver è§†å›¾è§£æå™¨,
     * 	ä¼šåšå¦‚ä¸‹çš„è§£æ:
     * 	é€šè¿‡ prefix + returnVal + åç¼€ è¿™æ ·çš„æ–¹å¼å¾—åˆ°å®é™…çš„ç‰©ç†è§†å›¾, ç„¶ä¼šåšè½¬å‘æ“ä½œ.
     * 	/WEB-INF/jsp/test.jsp
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_1ã€æ˜ å°„è¯·æ±‚å‚æ•°ã€è¯·æ±‚æ–¹æ³•æˆ–è¯·æ±‚å¤´"><a href="#_1ã€æ˜ å°„è¯·æ±‚å‚æ•°ã€è¯·æ±‚æ–¹æ³•æˆ–è¯·æ±‚å¤´" class="header-anchor">#</a> 1ã€æ˜ å°„è¯·æ±‚å‚æ•°ã€è¯·æ±‚æ–¹æ³•æˆ–è¯·æ±‚å¤´</h3> <blockquote><ol><li><p>@RequestMapping é™¤äº†å¯ä»¥ä½¿ç”¨è¯·æ±‚ URL æ˜ å°„è¯·æ±‚å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å‚æ•°åŠè¯·æ±‚å¤´æ˜ å°„è¯·æ±‚</p></li> <li><p>@RequestMapping çš„ valueã€é‡ç‚¹ã€‘ã€methodã€é‡ç‚¹ã€‘ã€paramsã€äº†è§£ã€‘ åŠ heads ã€äº†è§£ã€‘ åˆ†åˆ«è¡¨ç¤ºè¯·æ±‚ URLã€è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å‚æ•°åŠè¯·æ±‚å¤´çš„æ˜ å°„æ¡ä»¶ï¼Œä»–ä»¬ä¹‹é—´æ˜¯ä¸çš„å…³ç³»ï¼Œè”åˆä½¿ç”¨å¤šä¸ªæ¡ä»¶å¯è®©è¯·æ±‚æ˜ å°„æ›´åŠ ç²¾ç¡®åŒ–ã€‚</p></li> <li><p>params å’Œ headers æ”¯æŒç®€å•çš„è¡¨è¾¾å¼ï¼š</p></li></ol> <ul><li><p>param1: è¡¨ç¤ºè¯·æ±‚å¿…é¡»åŒ…å«åä¸º param1 çš„è¯·æ±‚å‚æ•°</p></li> <li><p>!param1: è¡¨ç¤ºè¯·æ±‚ä¸èƒ½åŒ…å«åä¸º param1 çš„è¯·æ±‚å‚æ•°</p></li> <li><p>param1 != value1: è¡¨ç¤ºè¯·æ±‚åŒ…å«åä¸º param1 çš„è¯·æ±‚å‚æ•°ï¼Œä½†å…¶å€¼ä¸èƒ½ä¸º value1
{&quot;param1=value1&quot;, &quot;param2&quot;}: è¯·æ±‚å¿…é¡»åŒ…å«åä¸º param1 å’Œ param2 çš„ä¸¤ä¸ªè¯·æ±‚å‚æ•°ï¼Œä¸” param1 å‚æ•°çš„å€¼å¿…é¡»ä¸º value1</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/t1&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;getè¯·æ±‚æ–¹å¼æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p>å‘ç”Ÿé”™è¯¯</p> <p><img src="/assets/img/image-20200628115132789.032bba89.png" alt="image-20200628115132789"></p></li></ul></li></ul></blockquote> <h3 id="_2ã€urlæ¨¡å¼"><a href="#_2ã€urlæ¨¡å¼" class="header-anchor">#</a> 2ã€URLæ¨¡å¼</h3> <table><thead><tr><th style="text-align:left;">æ¨¡å¼</th> <th style="text-align:left;">æè¿°</th> <th style="text-align:left;">ä¾‹</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>?</code></td> <td style="text-align:left;">åŒ¹é…ä¸€ä¸ªå­—ç¬¦</td> <td style="text-align:left;"><code>&quot;/pages/t?st.html&quot;</code>æ¯”èµ›<code>&quot;/pages/test.html&quot;</code> å’Œ<code>&quot;/pages/t3st.html&quot;</code></td></tr> <tr><td style="text-align:left;"><code>*</code></td> <td style="text-align:left;">åŒ¹é…è·¯å¾„æ®µä¸­çš„é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</td> <td style="text-align:left;"><code>&quot;/resources/*.png&quot;</code> ç«æŸ´ <code>&quot;/resources/file.png&quot;``&quot;/projects/*/versions&quot;</code>åŒ¹é…<code>&quot;/projects/spring/versions&quot;</code>ä½†ä¸åŒ¹é…<code>&quot;/projects/spring/boot/versions&quot;</code></td></tr> <tr><td style="text-align:left;"><code>**</code></td> <td style="text-align:left;">åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªè·¯å¾„æ®µï¼Œç›´åˆ°è·¯å¾„ç»“æŸ</td> <td style="text-align:left;"><code>&quot;/resources/**&quot;</code>æ¯”èµ›<code>&quot;/resources/file.png&quot;</code>å’Œ<code>&quot;/resources/images/file.png&quot;</code></td></tr> <tr><td style="text-align:left;"><code>{name}</code></td> <td style="text-align:left;">åŒ¹é…è·¯å¾„æ®µå¹¶å°†å…¶æ•è·ä¸ºåä¸ºâ€œ nameâ€çš„å˜é‡</td> <td style="text-align:left;"><code>&quot;/projects/{project}/versions&quot;</code>æ¯”èµ›<code>&quot;/projects/spring/versions&quot;</code>å’Œæ•è·<code>project=spring</code></td></tr> <tr><td style="text-align:left;"><code>{name:[a-z]+}</code></td> <td style="text-align:left;">å°†æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…<code>&quot;[a-z]+&quot;</code>ä¸ºåä¸ºâ€œåç§°â€çš„è·¯å¾„å˜é‡</td> <td style="text-align:left;"><code>&quot;/projects/{project:[a-z]+}/versions&quot;</code>åŒ¹é…<code>&quot;/projects/spring/versions&quot;</code>ä½†ä¸åŒ¹é…<code>&quot;/projects/spring1/versions&quot;</code></td></tr></tbody></table> <div class="language-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/**
     *@RequestMapping(&quot;/t2/ab??&quot;) åŒ¹é…http://localhost:8080/springmvc_04_controller_war_exploded/t2/abcdã€‚ã€‚ã€‚
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/t2/ab??&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testUrl</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;è¯·æ±‚æˆåŠŸï¼xiaobear&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3ã€requestmapping-æ˜ å°„è¯·æ±‚å ä½ç¬¦pathvariableæ³¨è§£"><a href="#_3ã€requestmapping-æ˜ å°„è¯·æ±‚å ä½ç¬¦pathvariableæ³¨è§£" class="header-anchor">#</a> 3ã€<code>RequestMapping</code> æ˜ å°„è¯·æ±‚å ä½ç¬¦<code>PathVariable</code>æ³¨è§£</h3> <h4 id="_1ã€-pathvariable"><a href="#_1ã€-pathvariable" class="header-anchor">#</a> 1ã€<code>@PathVariable</code></h4> <p>é€šè¿‡<code>@PathVariable</code> å¯ä»¥å°† URL ä¸­å ä½ç¬¦å‚æ•°ç»‘å®šåˆ°æ§åˆ¶å™¨å¤„ç†æ–¹æ³•çš„å…¥å‚ä¸­</p> <p>URL ä¸­çš„ {xxx} å ä½ç¬¦å¯ä»¥é€šè¿‡<code>@PathVariable(&quot;xxx&quot;)</code>ç»‘å®šåˆ°æ“ä½œæ–¹æ³•çš„å…¥å‚ä¸­ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/t3/{a}/{b}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testPath</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> restPath <span class="token operator">=</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ç»“æœä¸ºï¼š&quot;</span><span class="token operator">+</span>restPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_7ã€restful"><a href="#_7ã€restful" class="header-anchor">#</a> 7ã€RestFul</h2> <h3 id="_1ã€rest-æ˜¯ä»€ä¹ˆ"><a href="#_1ã€rest-æ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> 1ã€REST æ˜¯ä»€ä¹ˆï¼Ÿ</h3> <blockquote><p>RESTï¼šå³ Representational State Transferã€‚ï¼ˆèµ„æºï¼‰è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€‚æ˜¯ç›®å‰æœ€æµè¡Œçš„ä¸€ç§äº’è”ç½‘è½¯ä»¶æ¶æ„ã€‚å®ƒç»“æ„æ¸…æ™°ã€ç¬¦åˆæ ‡å‡†ã€æ˜“äºç†è§£ã€æ‰©å±•æ–¹ä¾¿ï¼Œæ‰€ä»¥æ­£å¾—åˆ°è¶Šæ¥è¶Šå¤šç½‘ç«™çš„é‡‡ç”¨</p></blockquote> <ol><li><p>èµ„æºï¼ˆResourcesï¼‰ï¼šç½‘ç»œä¸Šçš„ä¸€ä¸ªå®ä½“ï¼Œæˆ–è€…è¯´æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå…·ä½“ä¿¡æ¯ã€‚å®ƒå¯ä»¥æ˜¯ä¸€æ®µæ–‡æœ¬ã€ä¸€å¼ å›¾ç‰‡ã€</p> <p>ä¸€é¦–æ­Œæ›²ã€ä¸€ç§æœåŠ¡ï¼Œæ€»ä¹‹å°±æ˜¯ä¸€ä¸ªå…·ä½“çš„å­˜åœ¨ã€‚å¯ä»¥ç”¨ä¸€ä¸ª URIï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æŒ‡å‘å®ƒï¼Œæ¯ç§èµ„æºå¯¹</p> <p>åº”ä¸€ä¸ªç‰¹å®šçš„ URI ã€‚è·å–è¿™ä¸ªèµ„æºï¼Œè®¿é—®å®ƒçš„ URIå°±å¯ä»¥ï¼Œå› æ­¤ URI å³ä¸ºæ¯ä¸€ä¸ªèµ„æºçš„ç‹¬ä¸€æ— äºŒçš„è¯†åˆ«ç¬¦ã€‚</p></li> <li><p>è¡¨ç°å±‚ï¼ˆRepresentationï¼‰ï¼šæŠŠèµ„æºå…·ä½“å‘ˆç°å‡ºæ¥çš„å½¢å¼ï¼Œå«åšå®ƒçš„è¡¨ç°å±‚ï¼ˆRepresentationï¼‰ã€‚æ¯”å¦‚ï¼Œæ–‡æœ¬</p> <p>å¯ä»¥ç”¨ txt æ ¼å¼è¡¨ç°ï¼Œä¹Ÿå¯ä»¥ç”¨ HTML æ ¼å¼ã€XMLæ ¼å¼ã€JSON æ ¼å¼è¡¨ç°ï¼Œç”šè‡³å¯ä»¥é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ã€‚</p></li> <li><p>çŠ¶æ€è½¬åŒ–ï¼ˆState Transferï¼‰ï¼šæ¯å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œå°±ä»£è¡¨äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ä¸€æ¬¡äº¤äº’è¿‡ç¨‹ã€‚HTTP åè®®ï¼Œæ˜¯ä¸€</p> <p>ä¸ªæ— çŠ¶æ€åè®®ï¼Œå³æ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å› æ­¤ï¼Œå¦‚æœå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œ</p> <p>è®©æœåŠ¡å™¨ç«¯å‘ç”Ÿâ€œçŠ¶æ€è½¬åŒ–â€ ï¼ˆState Transferï¼‰è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å°±æ˜¯ â€œè¡¨ç°å±‚çŠ¶æ€è½¬</p> <p>åŒ–â€ã€‚</p></li> <li><p>å…·ä½“è¯´ï¼Œå°±æ˜¯ HTTP åè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼šGETã€POSTã€PUTã€DELETEã€‚å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§</p> <p>åŸºæœ¬æ“ä½œï¼šGET ç”¨æ¥è·å–èµ„æºï¼ŒPOST ç”¨æ¥æ–°å»ºèµ„æºï¼ŒPUT ç”¨æ¥æ›´æ–°èµ„æºï¼ŒDELETE ç”¨æ¥åˆ é™¤èµ„æºã€‚</p></li></ol> <h3 id="_2ã€urlé£æ ¼"><a href="#_2ã€urlé£æ ¼" class="header-anchor">#</a> 2ã€URLé£æ ¼</h3> <p>æˆ‘ä»¬ä¼ ç»Ÿçš„ä¼ å…¥å‚æ•°æ˜¯/xiaobear/id=1?method=add</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">/</span>order<span class="token operator">/</span><span class="token number">1</span> <span class="token constant">HTTP</span> <span class="token constant">GET</span> ï¼šå¾—åˆ° id <span class="token operator">=</span> <span class="token number">1</span> çš„ order
<span class="token operator">/</span>order<span class="token operator">/</span><span class="token number">1</span> <span class="token constant">HTTP</span> <span class="token constant">DELETE</span>ï¼šåˆ é™¤ id <span class="token operator">=</span> <span class="token number">1</span> çš„ order
<span class="token operator">/</span>order <span class="token constant">HTTP</span> <span class="token constant">PUT</span>ï¼šæ›´æ–° order
<span class="token operator">/</span>order <span class="token constant">HTTP</span> <span class="token constant">POST</span>ï¼šæ–°å¢ order
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç¬¦åˆRESTè®¾è®¡é£æ ¼çš„Web APIç§°ä¸º<strong>RESTful API</strong>ã€‚å®ƒä»ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢èµ„æºè¿›è¡Œå®šä¹‰ï¼š</p> <ul><li>ç›´è§‚ç®€çŸ­çš„èµ„æºåœ°å€ï¼šURIï¼Œæ¯”å¦‚ï¼š<code>http://example.com/resources</code>ã€‚</li> <li>ä¼ è¾“çš„èµ„æºï¼šWebæœåŠ¡æ¥å—ä¸è¿”å›çš„<a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E5%AA%92%E4%BD%93%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener noreferrer">äº’è”ç½‘åª’ä½“ç±»å‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œæ¯”å¦‚ï¼š<a href="https://zh.wikipedia.org/wiki/JSON" target="_blank" rel="noopener noreferrer">JSON<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œ<a href="https://zh.wikipedia.org/wiki/XML" target="_blank" rel="noopener noreferrer">XML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œ<a href="https://zh.wikipedia.org/wiki/YAML" target="_blank" rel="noopener noreferrer">YAML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ç­‰ã€‚</li> <li>å¯¹èµ„æºçš„æ“ä½œï¼šWebæœåŠ¡åœ¨è¯¥èµ„æºä¸Šæ‰€æ”¯æŒçš„ä¸€ç³»åˆ—<a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95" target="_blank" rel="noopener noreferrer">è¯·æ±‚æ–¹æ³•<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼ˆæ¯”å¦‚ï¼šPOSTï¼ŒGETï¼ŒPUTæˆ–DELETEï¼‰ã€‚</li></ul> <table><thead><tr><th style="text-align:center;">èµ„æº</th> <th style="text-align:center;">GET</th> <th style="text-align:center;">PUT</th> <th style="text-align:center;">POST</th> <th style="text-align:center;">DELETE</th></tr></thead> <tbody><tr><td style="text-align:center;">ä¸€ç»„èµ„æºçš„URIï¼Œæ¯”å¦‚<code>https://example.com/resources</code></td> <td style="text-align:center;"><strong>åˆ—å‡º</strong>URIï¼Œä»¥åŠè¯¥èµ„æºç»„ä¸­æ¯ä¸ªèµ„æºçš„è¯¦ç»†ä¿¡æ¯ï¼ˆåè€…å¯é€‰ï¼‰ã€‚</td> <td style="text-align:center;">ä½¿ç”¨ç»™å®šçš„ä¸€ç»„èµ„æº<strong>æ›¿æ¢</strong>å½“å‰æ•´ç»„èµ„æºã€‚</td> <td style="text-align:center;">åœ¨æœ¬ç»„èµ„æºä¸­<strong>åˆ›å»º/è¿½åŠ </strong>ä¸€ä¸ªæ–°çš„èµ„æºã€‚è¯¥æ“ä½œå¾€å¾€è¿”å›æ–°èµ„æºçš„URLã€‚</td> <td style="text-align:center;"><strong>åˆ é™¤</strong>æ•´ç»„èµ„æºã€‚</td></tr> <tr><td style="text-align:center;">å•ä¸ªèµ„æºçš„URIï¼Œæ¯”å¦‚<code>https://example.com/resources/142</code></td> <td style="text-align:center;"><strong>è·å–</strong>æŒ‡å®šçš„èµ„æºçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ ¼å¼å¯ä»¥è‡ªé€‰ä¸€ä¸ªåˆé€‚çš„ç½‘ç»œåª’ä½“ç±»å‹ï¼ˆæ¯”å¦‚ï¼šXMLã€JSONç­‰ï¼‰</td> <td style="text-align:center;"><strong>æ›¿æ¢/åˆ›å»º</strong>æŒ‡å®šçš„èµ„æºã€‚å¹¶å°†å…¶è¿½åŠ åˆ°ç›¸åº”çš„èµ„æºç»„ä¸­ã€‚</td> <td style="text-align:center;">æŠŠæŒ‡å®šçš„èµ„æºå½“åšä¸€ä¸ªèµ„æºç»„ï¼Œå¹¶åœ¨å…¶ä¸‹<strong>åˆ›å»º/è¿½åŠ </strong>ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œä½¿å…¶éš¶å±äºå½“å‰èµ„æºã€‚</td> <td style="text-align:center;"><strong>åˆ é™¤</strong>æŒ‡å®šçš„å…ƒç´ </td></tr></tbody></table> <h3 id="_3ã€hiddenhttpmethodfilter"><a href="#_3ã€hiddenhttpmethodfilter" class="header-anchor">#</a> 3ã€<code>HiddenHttpMethodFilter</code></h3> <p>æµè§ˆå™¨ form è¡¨å•åªæ”¯æŒ GET ä¸ POST è¯·æ±‚ï¼Œè€Œ DELETEã€PUT ç­‰ method å¹¶ä¸æ”¯æŒï¼ŒSpring3.0 æ·»åŠ äº†ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¯ä»¥å°†è¿™äº›è¯·æ±‚è½¬æ¢ä¸ºæ ‡å‡†çš„ http æ–¹æ³•ï¼Œä½¿å¾—æ”¯æŒ GETã€POSTã€PUT ä¸ DELETE è¯·æ±‚ã€‚</p> <h5 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="header-anchor">#</a> æºç åˆ†æï¼š</h5> <p>ä¸ºä»€ä¹ˆè¯·æ±‚éšå«å‚æ•°åç§°å¿…é¡»å«åšâ€_methodâ€</p> <p><img src="/assets/img/image-20200628122311804.3017ae46.png" alt="image-20200628122311804"></p> <p>hiddenHttpMethodFilter çš„å¤„ç†è¿‡ç¨‹</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doFilterInternal</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpServletRequest</span> requestToUse <span class="token operator">=</span> request<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;javax.servlet.error.exception&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> paramValue <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>methodParam<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>paramValue<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> method <span class="token operator">=</span> paramValue<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ENGLISH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">ALLOWED_METHODS</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    requestToUse <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HiddenHttpMethodFilter<span class="token punctuation">.</span>HttpMethodRequestWrapper</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> method<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span><span class="token punctuation">)</span>requestToUse<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">HttpMethodRequestWrapper</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServletRequestWrapper</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> method<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">HttpMethodRequestWrapper</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">String</span> method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>method <span class="token operator">=</span> method<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>method<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h5 id="ä»£ç æµ‹è¯•"><a href="#ä»£ç æµ‹è¯•" class="header-anchor">#</a> ä»£ç æµ‹è¯•</h5> <p>åœ¨web.xmlä¸­é…ç½®filter</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- æ”¯æŒ REST é£æ ¼çš„è¿‡æ»¤å™¨ï¼šå¯ä»¥å°† POST è¯·æ±‚è½¬æ¢ä¸º PUT æˆ– DELETE è¯·æ±‚ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>HiddenHttpMethodFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>HiddenHttpMethodFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/testRESTGet/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testRESTGet</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ID=&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testRESTPost&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testRESTPost</span><span class="token punctuation">(</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Postæ–¹å¼è¯·æ±‚æˆåŠŸï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testRESTPut/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testRESTPut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Putæ–¹å¼è¯·æ±‚æˆåŠŸï¼id=&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testRESTDelete/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testRESTDelete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Deleteæ–¹å¼è¯·æ±‚æˆåŠŸï¼id=&quot;</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;test1&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>index.jsp</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>$Title$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- å®éªŒ 1 æµ‹è¯• REST é£æ ¼ GET è¯·æ±‚ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTGet/1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>testREST GET<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!-- å®éªŒ 2 æµ‹è¯• REST é£æ ¼ POST è¯·æ±‚ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTPost<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTPost<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- å®éªŒ 3 æµ‹è¯• REST é£æ ¼ PUT è¯·æ±‚ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTPut/1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PUT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTPut<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- å®éªŒ 4 æµ‹è¯• REST é£æ ¼ DELETE è¯·æ±‚ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTDelete/1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DELETE<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRESTDelete<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_8ã€å¤„ç†æ•°æ®"><a href="#_8ã€å¤„ç†æ•°æ®" class="header-anchor">#</a> 8ã€å¤„ç†æ•°æ®</h2> <h3 id="_1ã€å¤„ç†è¯·æ±‚æ•°æ®"><a href="#_1ã€å¤„ç†è¯·æ±‚æ•°æ®" class="header-anchor">#</a> 1ã€å¤„ç†è¯·æ±‚æ•°æ®</h3> <blockquote><ol><li>Spring MVC é€šè¿‡åˆ†æå¤„ç†æ–¹æ³•çš„ç­¾åï¼ŒHTTP è¯·æ±‚ä¿¡æ¯ç»‘å®šåˆ°å¤„ç†æ–¹æ³•çš„ç›¸åº”å‚æ•°ä¸­ã€‚</li> <li>Spring MVC å¯¹æ§åˆ¶å™¨å¤„ç†æ–¹æ³•ç­¾åçš„é™åˆ¶æ˜¯å¾ˆå®½æ¾çš„ï¼Œå‡ ä¹å¯ä»¥æŒ‰å–œæ¬¢çš„ä»»ä½•æ–¹å¼å¯¹æ–¹æ³•è¿›è¡Œç­¾åã€‚</li> <li>å¿…è¦æ—¶å¯ä»¥å¯¹æ–¹æ³•åŠæ–¹æ³•å…¥å‚æ ‡æ³¨ç›¸åº”çš„æ³¨è§£ï¼ˆ @PathVariable ã€@RequestParamã€ @RequestHeader ç­‰ï¼‰</li> <li>Spring MVC æ¡†æ¶ä¼šå°† HTTP è¯·æ±‚çš„ä¿¡æ¯ç»‘å®šåˆ°ç›¸åº”çš„æ–¹æ³•å…¥å‚ä¸­ï¼Œå¹¶æ ¹æ®æ–¹æ³•çš„è¿”å›å€¼ç±»å‹åšå‡ºç›¸åº”çš„åç»­å¤„ç†ã€‚</li></ol></blockquote> <h4 id="_1ã€-requestparam"><a href="#_1ã€-requestparam" class="header-anchor">#</a> 1ã€@RequestParam</h4> <blockquote><ol><li>åœ¨å¤„ç†æ–¹æ³•å…¥å‚å¤„ä½¿ç”¨ @RequestParam å¯ä»¥æŠŠè¯·æ±‚å‚æ•°ä¼ é€’ç»™è¯·æ±‚æ–¹æ³•</li> <li>valueï¼šå‚æ•°å</li> <li>requiredï¼šæ˜¯å¦å¿…é¡»ã€‚é»˜è®¤ä¸º true, è¡¨ç¤ºè¯·æ±‚å‚æ•°ä¸­å¿…é¡»åŒ…å«å¯¹åº”çš„å‚æ•°ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œå°†æŠ›å‡ºå¼‚å¸¸</li> <li>defaultValue: é»˜è®¤å€¼ï¼Œå½“æ²¡æœ‰ä¼ é€’ä¼ é€’ä½¿ç”¨è¯¥å€¼</li></ol></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/a1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">requestParam</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span>
                           <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span>defaultValue<span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;name=&quot;</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age=&quot;</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--æµ‹è¯• è¯·æ±‚å‚æ•° @RequestParam æ³¨è§£ä½¿ç”¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a1?name=xiaobear&amp;age=3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>testRequestParam<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2ã€-requestheader"><a href="#_2ã€-requestheader" class="header-anchor">#</a> 2ã€@RequestHeader</h4> <blockquote><ol><li><p>ä½¿ç”¨ @RequestHeader ç»‘å®šè¯·æ±‚æŠ¥å¤´çš„å±æ€§å€¼</p></li> <li><p>è¯·æ±‚å¤´åŒ…å«äº†è‹¥å¹²ä¸ªå±æ€§ï¼ŒæœåŠ¡å™¨å¯æ®æ­¤è·çŸ¥å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œé€šè¿‡ @RequestHeader å³å¯å°†è¯·æ±‚å¤´ä¸­çš„</p></li></ol> <p>å±æ€§å€¼ç»‘å®šåˆ°å¤„ç†æ–¹æ³•çš„å…¥å‚ä¸­</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/a2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testRequestHeader</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Accept-Encoding&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> encoding
                                <span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;è·å–Accept-Encodingæ ‡å¤´çš„å€¼:&quot;</span><span class="token operator">+</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- æµ‹è¯• è¯·æ±‚å¤´@RequestHeader æ³¨è§£ä½¿ç”¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>testRequestHeader<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_3ã€-cookievalue"><a href="#_3ã€-cookievalue" class="header-anchor">#</a> 3ã€@CookieValue</h4> <blockquote><ol><li>ä½¿ç”¨ @CookieValue ç»‘å®šè¯·æ±‚ä¸­çš„ Cookie å€¼</li> <li>@CookieValue å¯è®©å¤„ç†æ–¹æ³•å…¥å‚ç»‘å®šæŸä¸ª Cookie å€¼</li></ol></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/a3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testCookieValue</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> sessionId<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;cookie=&quot;</span><span class="token operator">+</span>sessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- æµ‹è¯• è¯·æ±‚å¤´@CookieValue æ³¨è§£ä½¿ç”¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>testCookieValue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_4ã€ä½¿ç”¨pojo-ä½œä¸ºå‚æ•°"><a href="#_4ã€ä½¿ç”¨pojo-ä½œä¸ºå‚æ•°" class="header-anchor">#</a> 4ã€ä½¿ç”¨POJO ä½œä¸ºå‚æ•°</h4> <blockquote><ol><li><p>ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼</p></li> <li><p>Spring MVC ä¼šæŒ‰è¯·æ±‚å‚æ•°åå’Œ POJO å±æ€§åè¿›è¡Œè‡ªåŠ¨åŒ¹é…ï¼Œè‡ªåŠ¨ä¸ºè¯¥å¯¹è±¡å¡«å……å±æ€§å€¼ã€‚æ”¯æŒçº§è”å±æ€§ã€‚</p></li></ol> <p>å¦‚ï¼šdept.deptIdã€dept.address.tel ç­‰</p></blockquote> <p>è¡¨å•</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- æµ‹è¯• POJO å¯¹è±¡ä¼ å‚ï¼Œæ”¯æŒçº§è”å±æ€§ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    username: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    password: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    email: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    age: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    city: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.city<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    province: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address.province<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/a4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testPojo</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">,</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å®ä½“ç±»</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> province<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> city<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä¸­æ–‡ä¹±ç è§£å†³ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®springMVCçš„ä¹±ç è¿‡æ»¤--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>forceEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_2ã€å¤„ç†å“åº”æ•°æ®"><a href="#_2ã€å¤„ç†å“åº”æ•°æ®" class="header-anchor">#</a> 2ã€å¤„ç†å“åº”æ•°æ®</h3> <h4 id="_1ã€springmvc-è¾“å‡ºæ¨¡å‹æ•°æ®æ¦‚è¿°"><a href="#_1ã€springmvc-è¾“å‡ºæ¨¡å‹æ•°æ®æ¦‚è¿°" class="header-anchor">#</a> 1ã€SpringMVC è¾“å‡ºæ¨¡å‹æ•°æ®æ¦‚è¿°</h4> <blockquote><ol><li><code>ModelAndView:</code> å¤„ç†æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸º ModelAndView æ—¶, æ–¹æ³•ä½“å³å¯é€šè¿‡è¯¥å¯¹è±¡æ·»åŠ æ¨¡å‹æ•°æ®</li> <li><code>Map åŠ Model:</code>å…¥å‚ä¸º org.springframework.ui.Modelã€
org.springframework.ui.ModelMap æˆ– java.uti.Map æ—¶ï¼Œå¤„ç†æ–¹æ³•è¿”å›æ—¶ï¼ŒMap ä¸­çš„æ•°æ®ä¼šè‡ªåŠ¨æ·»åŠ åˆ°æ¨¡å‹ä¸­ã€‚</li> <li><code>@SessionAttributes:</code>å°†æ¨¡å‹ä¸­çš„æŸä¸ªå±æ€§æš‚å­˜åˆ° HttpSession ä¸­ï¼Œä»¥ä¾¿å¤šä¸ªè¯·æ±‚ä¹‹é—´å¯ä»¥å…±äº«è¿™ä¸ªå±æ€§</li> <li><code>@ModelAttribute:</code>æ–¹æ³•å…¥å‚æ ‡æ³¨è¯¥æ³¨è§£å, å…¥å‚çš„å¯¹è±¡å°±ä¼šæ”¾åˆ°æ•°æ®æ¨¡å‹ä¸­</li></ol></blockquote> <ul><li><p><code>ModelAndView</code></p> <blockquote><ul><li><p>æ§åˆ¶å™¨å¤„ç†æ–¹æ³•çš„è¿”å›å€¼å¦‚æœä¸º ModelAndView, åˆ™å…¶æ—¢åŒ…å«è§†å›¾ä¿¡æ¯ï¼Œä¹ŸåŒ…å«æ¨¡å‹æ•°æ®ä¿¡æ¯ã€‚</p></li> <li><p>æ·»åŠ æ¨¡å‹æ•°æ®:</p> <ul><li>MoelAndView addObject(String attributeName, Object attributeValue)</li> <li>ModelAndView addAllObject(Map&lt;String, ?&gt; modelMap)</li></ul></li> <li><p>è®¾ç½®è§†å›¾:</p> <ul><li>void setView(View view)</li> <li>void setViewName(String viewName)</li></ul></li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/b1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">testModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token class-name">ModelAndView</span> modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></blockquote></li> <li><p><code>å¤„ç†æ¨¡å‹æ•°æ®ä¹‹ Map</code></p> <blockquote><ol><li><p>Spring MVC åœ¨å†…éƒ¨ä½¿ç”¨äº†ä¸€ä¸ª org.springframework.ui.Model æ¥å£å­˜å‚¨æ¨¡å‹æ•°æ®å…·ä½“ä½¿ç”¨æ­¥éª¤</p></li> <li><p>Spring MVC åœ¨è°ƒç”¨æ–¹æ³•å‰ä¼šåˆ›å»ºä¸€ä¸ªéšå«çš„æ¨¡å‹å¯¹è±¡ä½œä¸ºæ¨¡å‹æ•°æ®çš„å­˜å‚¨å®¹å™¨ã€‚</p></li> <li><p>å¦‚æœæ–¹æ³•çš„å…¥å‚ä¸º Map æˆ– Model ç±»å‹ï¼ŒSpring MVC ä¼šå°†éšå«æ¨¡å‹çš„å¼•ç”¨ä¼ é€’ç»™è¿™äº›å…¥å‚ã€‚</p></li> <li><p>åœ¨æ–¹æ³•ä½“å†…ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡è¿™ä¸ªå…¥å‚å¯¹è±¡è®¿é—®åˆ°æ¨¡å‹ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä¹Ÿå¯ä»¥å‘æ¨¡å‹ä¸­æ·»åŠ æ–°çš„å±</p></li></ol> <p>æ€§æ•°æ®</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/b2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobear&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xiaohua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></blockquote></li> <li><p><code>å¤„ç†æ¨¡å‹æ•°æ®ä¹‹ SessionAttributes</code></p> <blockquote><ol><li><p>è‹¥å¸Œæœ›åœ¨å¤šä¸ªè¯·æ±‚ä¹‹é—´å…±ç”¨æŸä¸ªæ¨¡å‹å±æ€§æ•°æ®ï¼Œåˆ™å¯ä»¥åœ¨æ§åˆ¶å™¨ç±»ä¸Šæ ‡æ³¨ä¸€ä¸ª@SessionAttributes, Spring MVC å°†åœ¨æ¨¡å‹ä¸­å¯¹åº”çš„å±æ€§æš‚å­˜åˆ° HttpSession ä¸­ã€‚</p></li> <li><p>@SessionAttributes é™¤äº†å¯ä»¥é€šè¿‡å±æ€§åæŒ‡å®šéœ€è¦æ”¾åˆ°ä¼šè¯ä¸­çš„å±æ€§å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡æ¨¡å‹å±æ€§çš„å¯¹è±¡</p></li></ol> <p>ç±»å‹æŒ‡å®šå“ªäº›æ¨¡å‹å±æ€§éœ€è¦æ”¾åˆ°ä¼šè¯ä¸­</p> <p>ä¾‹å¦‚ï¼š</p> <ul><li>@SessionAttributes(types=User.class) ä¼š å°† éš å« æ¨¡ å‹ ä¸­ æ‰€ æœ‰ ç±» å‹ ä¸ºUser.class çš„å±æ€§æ·»åŠ åˆ°ä¼šè¯ä¸­ã€‚</li> <li>@SessionAttributes(value={â€œuser1â€, â€œuser2â€})</li> <li>@SessionAttributes(types={User.class, Dept.class})</li> <li>@SessionAttributes(value={â€œuser1â€, â€œuser2â€}, types={Dept.class})</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/b3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testSessionAttributes</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;xiaobear&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Xxx@qq.com&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;school&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobear&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//é»˜è®¤æ˜¯è¢«å­˜æ”¾åˆ°request åŸŸï¼Œå¦‚æœè®¾ç½®äº†@SessionAttribute æ³¨è§£ï¼Œå°±åŒæ—¶å­˜æ”¾åˆ°session åŸŸä¸­</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote></li> <li><p><code>@ModelAttribute</code></p> <blockquote><ol><li><p>åœ¨æ–¹æ³•å®šä¹‰ä¸Šä½¿ç”¨ @ModelAttribute æ³¨è§£ï¼šSpring MVC åœ¨è°ƒç”¨ç›®æ ‡å¤„ç†æ–¹æ³•å‰ï¼Œä¼šå…ˆé€ä¸ªè°ƒç”¨åœ¨æ–¹æ³•çº§ä¸Šæ ‡æ³¨äº† @ModelAttribute çš„æ–¹æ³•ã€‚</p></li> <li><p>åœ¨æ–¹æ³•çš„å…¥å‚å‰ä½¿ç”¨ @ModelAttribute æ³¨è§£ï¼šå¯ä»¥ä»éšå«å¯¹è±¡ä¸­è·å–éšå«çš„æ¨¡å‹æ•°æ®ä¸­è·å–å¯¹è±¡ï¼Œå†å°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°å¯¹è±¡ä¸­ï¼Œå†ä¼ å…¥å…¥å‚ã€‚</p></li> <li><p>å°†æ–¹æ³•å…¥å‚å¯¹è±¡æ·»åŠ åˆ°æ¨¡å‹ä¸­ã€‚</p></li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/b4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@ModelAttribute</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span>
                    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//æ¨¡æ‹Ÿä»æ•°æ®åº“ä¸­è·å–åˆ°çš„user å¯¹è±¡</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;xiaobear&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xxx@qq.com&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»æ•°æ®åº“ä¸­æŸ¥è¯¢çš„å¯¹è±¡ï¼šuser=&quot;</span><span class="token operator">+</span>user <span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    username: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xiaobear<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    email: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx@qq.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    age: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></blockquote></li></ul> <h5 id="_1ã€-modelattribute-ä¹‹è¿è¡ŒåŸç†æ‰§è¡Œ"><a href="#_1ã€-modelattribute-ä¹‹è¿è¡ŒåŸç†æ‰§è¡Œ" class="header-anchor">#</a> 1ã€ @ModelAttribute ä¹‹è¿è¡ŒåŸç†æ‰§è¡Œ</h5> <ol><li>@ModelAttribute æ³¨è§£æ‰€ä¿®é¥°çš„æ–¹æ³•ï¼Œå°†ä»æ•°æ®åº“ä¸­è·å–çš„å¯¹è±¡å­˜æ”¾åˆ° Map é›†åˆä¸­ï¼Œkey ä¸º user</li> <li>SpringMVCä»Mapé›†åˆä¸­è·å– userå¯¹è±¡ï¼Œå°†è¡¨å•æ•°æ®å°è£…åˆ°ä¸å‚æ•°åç§°å¯¹åº”çš„userå¯¹è±¡å±æ€§ä¸Š</li> <li>SpringMVC å°† user å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™ç›®æ ‡æ–¹æ³•ã€‚</li> <li>æ³¨æ„ï¼š@ModelAttributeæ³¨è§£ä¿®é¥°çš„æ–¹æ³•ä¸­ï¼Œæ”¾å…¥åˆ° Map é›†åˆä¸­çš„ key å€¼ï¼Œåº”è¯¥å’Œç›®æ ‡æ–¹æ³•å‚æ•°ç±»å‹çš„ç±»åç§°é¦–å­—æ¯å°å†™ä¸€è‡´ã€‚</li></ol> <h5 id="_2ã€-modelattribute-ä¹‹æºç "><a href="#_2ã€-modelattribute-ä¹‹æºç " class="header-anchor">#</a> 2ã€@ModelAttribute ä¹‹æºç </h5> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">PARAMETER</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">ModelAttribute</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">boolean</span> <span class="token function">binding</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_3ã€é‡å®šå‘"><a href="#_3ã€é‡å®šå‘" class="header-anchor">#</a> 3ã€é‡å®šå‘</h3> <ol><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ§åˆ¶å™¨æ–¹æ³•è¿”å›å­—ç¬¦ä¸²ç±»å‹çš„å€¼ä¼šè¢«å½“æˆé€»è¾‘è§†å›¾åå¤„ç†</li> <li>å¦‚æœè¿”å›çš„å­—ç¬¦ä¸²ä¸­å¸¦ forward: æˆ– redirect: å‰ç¼€æ—¶ï¼ŒSpringMVC ä¼šå¯¹ä»–ä»¬è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼šå°† forward: å’Œ redirect: å½“æˆæŒ‡ç¤ºç¬¦ï¼Œå…¶åçš„å­—ç¬¦ä¸²ä½œä¸º URL æ¥å¤„ç†</li> <li><code>redirect:success.jsp</code>ï¼šä¼šå®Œæˆä¸€ä¸ªåˆ° success.jsp çš„<code>é‡å®šå‘</code>çš„æ“ä½œ</li> <li><code>forward:success.jsp</code>ï¼šä¼šå®Œæˆä¸€ä¸ªåˆ° success.jsp çš„<code>è½¬å‘</code>æ“ä½œ</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/b5&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sucess!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;redirect:/index.jsp&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//        return &quot;forward:/index.jsp&quot;;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_9ã€json"><a href="#_9ã€json" class="header-anchor">#</a> 9ã€JSON</h2> <p>ç›®å‰ä¸»æµçš„ JSON å¤„ç†å·¥å…·ä¸»è¦æœ‰ä¸‰ç§ï¼š</p> <ul><li><p>jackson</p></li> <li><p>gson</p></li> <li><p>fastjson</p> <blockquote><p>åœ¨ SpringMVC ä¸­ï¼Œå¯¹ jackson å’Œ gson éƒ½æä¾›äº†ç›¸åº”çš„æ”¯æŒï¼Œå°±æ˜¯å¦‚æœä½¿ç”¨è¿™ä¸¤ä¸ªä½œä¸º JSON è½¬æ¢å™¨ï¼Œåªéœ€è¦æ·»åŠ å¯¹åº”çš„ä¾èµ–å°±å¯ä»¥äº†ï¼Œè¿”å›çš„å¯¹è±¡å’Œè¿”å›çš„é›†åˆã€Map ç­‰éƒ½ä¼šè‡ªåŠ¨è½¬ä¸º JSONï¼Œä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨ fastjsonï¼Œé™¤äº†æ·»åŠ ç›¸åº”çš„ä¾èµ–ä¹‹å¤–ï¼Œè¿˜éœ€è¦è‡ªå·±æ‰‹åŠ¨é…ç½® HttpMessageConverter è½¬æ¢å™¨ã€‚å…¶å®å‰ä¸¤ä¸ªä¹Ÿæ˜¯ä½¿ç”¨ HttpMessageConverter è½¬æ¢å™¨ï¼Œä½†æ˜¯æ˜¯ SpringMVC è‡ªåŠ¨æä¾›çš„ï¼ŒSpringMVC æ²¡æœ‰ç»™ fastjson æä¾›ç›¸åº”çš„è½¬æ¢å™¨ã€‚</p></blockquote></li></ul> <h3 id="_1ã€jackson"><a href="#_1ã€jackson" class="header-anchor">#</a> 1ã€Jackson</h3> <p>jackson æ˜¯ä¸€ä¸ªä½¿ç”¨æ¯”è¾ƒå¤šï¼Œæ—¶é—´ä¹Ÿæ¯”è¾ƒé•¿çš„ JSON å¤„ç†å·¥å…·ï¼Œåœ¨ SpringMVC ä¸­ä½¿ç”¨ jackson ï¼Œåªéœ€è¦æ·»åŠ  jackson çš„ä¾èµ–å³å¯ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.11.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä¾èµ–æ·»åŠ æˆåŠŸåï¼Œå‡¡æ˜¯åœ¨æ¥å£ä¸­ç›´æ¥è¿”å›çš„å¯¹è±¡ï¼Œé›†åˆç­‰ç­‰ï¼Œéƒ½ä¼šè‡ªåŠ¨è½¬ä¸º JSON.</p> <ul><li>pojoç±»</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p>controllerå±‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/j1&quot;</span><span class="token comment">/*,produces = &quot;application/json; charset=utf-8&quot;*/</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>

        <span class="token class-name">ObjectMapper</span> mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;é„¢æ±‰é›„&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span><span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> value <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j2&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> s<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
     <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j3&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
        <span class="token comment">/**
         * ä¿®æ”¹é…ç½®æ–‡ä»¶
          Date date = new Date();
        return date;
         */</span>
      
        <span class="token comment">//æ—¶é—´æ ¼å¼ä¸€</span>
        <span class="token comment">/*SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
        return objectMapper.writeValueAsString(simpleDateFormat.format(date));*/</span>
        <span class="token comment">/**
         * æ—¶é—´æ ¼å¼ä¸‰
         */</span>
        <span class="token comment">/*ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.configure(SerializationFeature.WRITE_DATE_KEYS_AS_TIMESTAMPS,false);
        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);
        objectMapper.setDateFormat(simpleDateFormat);
        Date date = new Date();
        return objectMapper.writeValueAsString(date);*/</span>
        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">getJson</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div></li></ul> <h4 id="_1ã€jsonä¸­æ–‡å­—ç¬¦ä¸²ä¹±ç é—®é¢˜"><a href="#_1ã€jsonä¸­æ–‡å­—ç¬¦ä¸²ä¹±ç é—®é¢˜" class="header-anchor">#</a> 1ã€jsonä¸­æ–‡å­—ç¬¦ä¸²ä¹±ç é—®é¢˜</h4> <ol><li><p>è§£å†³æ–¹æ¡ˆä¸€ï¼Œè®¾ç½®ç”Ÿæˆç¯å¢ƒä¸ºUTF-8</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code> <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/j1&quot;</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">&quot;application/json; charset=utf-8&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>åœ¨<code>spring</code>é…ç½®æ–‡ä»¶ä¸­é…ç½®å±æ€§</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¤„ç†jsonå­—ç¬¦ä¸²ä¹±ç é—®é¢˜--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>message-converters</span> <span class="token attr-name">register-defaults</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.http.converter.StringHttpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.http.converter.json.MappingJackson2HttpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>objectMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>failOnEmptyBeans<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol> <h4 id="_2ã€jsonå¤„ç†æ—¶é—´æ ¼å¼é—®é¢˜"><a href="#_2ã€jsonå¤„ç†æ—¶é—´æ ¼å¼é—®é¢˜" class="header-anchor">#</a> 2ã€jsonå¤„ç†æ—¶é—´æ ¼å¼é—®é¢˜</h4> <ol><li><p>è§£å†³æ–¹æ¡ˆä¸€</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>è§£å†³æ–¹æ¡ˆäºŒ</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">SerializationFeature</span><span class="token punctuation">.</span><span class="token constant">WRITE_DATE_KEYS_AS_TIMESTAMPS</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    objectMapper<span class="token punctuation">.</span><span class="token function">setDateFormat</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>åœ¨springé…ç½®æ–‡ä»¶ä¸­é…ç½®</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--jsonæ—¥æœŸæ ¼å¼åŒ–--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>httpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.http.converter.json.MappingJackson2HttpMessageConverter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>httpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>objectMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.fasterxml.jackson.databind.ObjectMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dateFormat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.text.SimpleDateFormat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pattern<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yyyy-MM-dd HH:mm:ss<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>timeZone<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Asia/Shanghai<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">json3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
         * ä¿®æ”¹é…ç½®æ–‡ä»¶
         */</span>
    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>é’ˆå¯¹æ–¹æ¡ˆäºŒæˆ‘ä»¬å¯ä»¥è‡ªå·±å°è£…ä¸ºä¸€ä¸ªå·¥å…·ç±»JsonUtils</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonUtils</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getJson</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">getJson</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * Jsonæ—¶é—´æ ¼å¼å·¥å…·ç±»
     * @param o æ—¶é—´å¯¹è±¡
     * @param dateFormat  æ—¶é—´æ ¼å¼
     * @return jsonæ ¼å¼
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getJson</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span><span class="token class-name">String</span> dateFormat<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">SerializationFeature</span><span class="token punctuation">.</span><span class="token constant">WRITE_DATE_KEYS_AS_TIMESTAMPS</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span>dateFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        objectMapper<span class="token punctuation">.</span><span class="token function">setDateFormat</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JsonProcessingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">getJson</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <h3 id="_2ã€fastjson"><a href="#_2ã€fastjson" class="header-anchor">#</a> 2ã€fastjson</h3> <ul><li>æä¾›æœåŠ¡å™¨ç«¯ã€å®‰å“å®¢æˆ·ç«¯ä¸¤ç§è§£æå·¥å…·ï¼Œæ€§èƒ½è¡¨ç°è¾ƒå¥½ã€‚</li> <li>æä¾›äº† toJSONString() å’Œ parseObject() æ–¹æ³•æ¥å°† Java å¯¹è±¡ä¸ JSON ç›¸äº’è½¬æ¢ã€‚è°ƒç”¨toJSONStringæ–¹ æ³•å³å¯å°†å¯¹è±¡è½¬æ¢æˆ JSON å­—ç¬¦ä¸²ï¼ŒparseObject æ–¹æ³•åˆ™åè¿‡æ¥å°† JSON å­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡ã€‚</li> <li>å…è®¸è½¬æ¢é¢„å…ˆå­˜åœ¨çš„æ— æ³•ä¿®æ”¹çš„å¯¹è±¡ï¼ˆåªæœ‰classã€æ— æºä»£ç ï¼‰ã€‚</li> <li>Javaæ³›å‹çš„å¹¿æ³›æ”¯æŒã€‚</li> <li>å…è®¸å¯¹è±¡çš„è‡ªå®šä¹‰è¡¨ç¤ºã€å…è®¸è‡ªå®šä¹‰åºåˆ—åŒ–ç±»ã€‚</li> <li>æ”¯æŒä»»æ„å¤æ‚å¯¹è±¡ï¼ˆå…·æœ‰æ·±åšçš„ç»§æ‰¿å±‚æ¬¡å’Œå¹¿æ³›ä½¿ç”¨çš„æ³›å‹ç±»å‹ï¼‰ã€‚</li></ul> <p>ä½¿ç”¨ fastjsonï¼Œæˆ‘ä»¬é¦–å…ˆæ·»åŠ  fastjson ä¾èµ–</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/fastjson --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.72<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åœ¨ SpringMVC å¹¶æ²¡é’ˆå¯¹ fastjson æä¾›ç›¸åº”çš„ HttpMessageConverterï¼Œæ‰€ä»¥ï¼Œfastjson åœ¨ä½¿ç”¨æ—¶ï¼Œä¸€å®šè¦è‡ªå·±æ‰‹åŠ¨é…ç½® HttpMessageConverter</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>httpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>httpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fastJsonConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.fastjson.support.config.FastJsonConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dateFormat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yyyy-MM-dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_1ã€fastjson-é»˜è®¤ä¸­æ–‡ä¹±ç "><a href="#_1ã€fastjson-é»˜è®¤ä¸­æ–‡ä¹±ç " class="header-anchor">#</a> 1ã€fastjson é»˜è®¤ä¸­æ–‡ä¹±ç </h4> <p>æ·»åŠ å¦‚ä¸‹é…ç½®è§£å†³ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>httpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>message-converters</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>httpMessageConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fastJsonConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.fastjson.support.config.FastJsonConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dateFormat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yyyy-MM-dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>supportedMediaTypes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>application/json;charset=utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_2ã€ä½¿ç”¨"><a href="#_2ã€ä½¿ç”¨" class="header-anchor">#</a> 2ã€ä½¿ç”¨</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/j4&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">json4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;yhx&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æ³¨ï¼šè®¿é—®å‡ºç°500çš„åŸå› ï¼š<strong>è®°å¾—æŠŠfastjsonä¾èµ–å¯¼å…¥libä¸­</strong></p> <h2 id="_10ã€æ–‡ä»¶ä¸Šä¼ "><a href="#_10ã€æ–‡ä»¶ä¸Šä¼ " class="header-anchor">#</a> 10ã€æ–‡ä»¶ä¸Šä¼ </h2> <blockquote><p>SpringMVC ä¸­å¯¹æ–‡ä»¶ä¸Šä¼ åšäº†å°è£…ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„å®ç°æ–‡ä»¶ä¸Šä¼ ã€‚ä» Spring3.1 å¼€å§‹ï¼Œå¯¹äºæ–‡ä»¶ä¸Šä¼ ï¼Œæä¾›äº†ä¸¤ä¸ªå¤„ç†å™¨ï¼š</p> <ul><li><strong>CommonsMultipartResolver</strong></li> <li><strong>StandardServletMultipartResolver</strong></li> <li>ç¬¬ä¸€ä¸ªå¤„ç†å™¨å…¼å®¹æ€§è¾ƒå¥½ï¼Œå¯ä»¥å…¼å®¹ Servlet3.0 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯å®ƒä¾èµ–äº† commons-fileupload è¿™ä¸ªç¬¬ä¸‰æ–¹å·¥å…·ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨è¿™ä¸ªï¼Œä¸€å®šè¦æ·»åŠ  commons-fileupload ä¾èµ–ã€‚</li> <li>ç¬¬äºŒä¸ªå¤„ç†å™¨å…¼å®¹æ€§è¾ƒå·®ï¼Œå®ƒé€‚ç”¨äº Servlet3.0 ä¹‹åçš„ç‰ˆæœ¬ï¼Œå®ƒä¸ä¾èµ–ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œä½¿ç”¨å®ƒï¼Œå¯ä»¥ç›´æ¥åšæ–‡ä»¶ä¸Šä¼ ã€‚</li></ul></blockquote> <h3 id="_1ã€commonsmultipartresolver"><a href="#_1ã€commonsmultipartresolver" class="header-anchor">#</a> 1ã€<code>CommonsMultipartResolver</code></h3> <p>ä½¿ç”¨ CommonsMultipartResolver åšæ–‡ä»¶ä¸Šä¼ ï¼Œéœ€è¦é¦–å…ˆæ·»åŠ  commons-fileupload ä¾èµ–</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_1ã€åœ¨-springmvc-çš„é…ç½®æ–‡ä»¶ä¸­-é…ç½®-multipartresolver"><a href="#_1ã€åœ¨-springmvc-çš„é…ç½®æ–‡ä»¶ä¸­-é…ç½®-multipartresolver" class="header-anchor">#</a> 1ã€åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½® MultipartResolverï¼š</h4> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½® MultipartResolver idå¿…é¡»æ˜¯multipartResolver--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2ã€jspé¡µé¢"><a href="#_2ã€jspé¡µé¢" class="header-anchor">#</a> 2ã€Jspé¡µé¢</h4> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/upload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ä¸Šä¼ <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æ³¨æ„æ–‡ä»¶ä¸Šä¼ è¯·æ±‚æ˜¯ POST è¯·æ±‚ï¼Œenctype ä¸€å®šæ˜¯ multipart/form-data</p> <ul><li><p>upload.jsp</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
&lt;%
    Object msg = request.getAttribute(&quot;msg&quot;);
%&gt;
&lt;%=msg%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <h4 id="_3ã€controller-2"><a href="#_3ã€controller-2" class="header-anchor">#</a> 3ã€controller</h4> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UploadController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">)</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MultipartFile</span><span class="token punctuation">&gt;</span></span> files<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">/*System.out.println(&quot;OriginalFilename : &quot;+file.getOriginalFilename());
        InputStream inputStream = file.getInputStream();
        System.out.println(&quot;inputStream.available() : &quot;+inputStream.available());
        System.out.println(&quot;inputStream : &quot;+inputStream);*/</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸Šä¼ </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>files<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è®¾ç½®ä¸Šä¼ æ–‡ä»¶çš„ä¿å­˜ç›®å½•</span>
            <span class="token class-name">String</span> basePath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/upload/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>basePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// åˆ¤æ–­æ–‡ä»¶ç›®å½•æ˜¯å¦å­˜åœ¨</span>
            <span class="token class-name">File</span> uploadFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>basePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uploadFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                uploadFile<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file <span class="token operator">:</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> originalFilename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>originalFilename <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>originalFilename<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token comment">// å¯¹æ–‡ä»¶ååšåŠ UUIDå€¼å¤„ç†</span>
                        originalFilename <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> originalFilename<span class="token punctuation">;</span>
                        file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>basePath <span class="token operator">+</span> originalFilename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        msg <span class="token operator">=</span> <span class="token string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    msg <span class="token operator">=</span> <span class="token string">&quot;ä¸Šä¼ çš„æ–‡ä»¶ä¸ºç©ºï¼&quot;</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            msg <span class="token operator">=</span> <span class="token string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            msg <span class="token operator">=</span> <span class="token string">&quot;æ²¡æœ‰æ–‡ä»¶è¢«ä¸Šä¼ ï¼&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;upload&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œåœ¨ SpringMVC ä¸­ï¼Œé™æ€èµ„æºé»˜è®¤éƒ½æ˜¯è¢«è‡ªåŠ¨æ‹¦æˆªçš„ï¼Œæ— æ³•è®¿é—®ï¼Œæ„å‘³ç€ä¸Šä¼ æˆåŠŸçš„å›¾ç‰‡æ— æ³•è®¿é—®ï¼Œå› æ­¤ï¼Œè¿˜éœ€è¦æˆ‘ä»¬åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå†æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/**<span class="token punctuation">&quot;</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å½“ç„¶ï¼Œé»˜è®¤çš„é…ç½®ä¸ä¸€å®šæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå·±æ‰‹åŠ¨é…ç½®æ–‡ä»¶ä¸Šä¼ å¤§å°ç­‰ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é»˜è®¤çš„ç¼–ç --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultEncoding<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token comment">&lt;!--ä¸Šä¼ çš„æ€»æ–‡ä»¶å¤§å°--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxUploadSize<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1048576<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token comment">&lt;!--ä¸Šä¼ çš„å•ä¸ªæ–‡ä»¶å¤§å°--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxUploadSizePerFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1048576<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--å†…å­˜ä¸­æœ€å¤§çš„æ•°æ®é‡ï¼Œè¶…è¿‡è¿™ä¸ªæ•°æ®é‡ï¼Œæ•°æ®å°±è¦å¼€å§‹å¾€ç¡¬ç›˜ä¸­å†™äº†--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxInMemorySize<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4096<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token comment">&lt;!--ä¸´æ—¶ç›®å½•ï¼Œè¶…è¿‡ maxInMemorySize é…ç½®çš„å¤§å°åï¼Œæ•°æ®å¼€å§‹å¾€ä¸´æ—¶ç›®å½•å†™ï¼Œç­‰å…¨éƒ¨ä¸Šä¼ å®Œæˆåï¼Œå†å°†æ•°æ®åˆå¹¶åˆ°æ­£å¼çš„æ–‡ä»¶ä¸Šä¼ ç›®å½•--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadTempDir<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file:///E:\\tmp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2ã€standardservletmultipartresolver"><a href="#_2ã€standardservletmultipartresolver" class="header-anchor">#</a> 2ã€<code>StandardServletMultipartResolver</code></h3> <p>è¿™ç§æ–‡ä»¶ä¸Šä¼ æ–¹å¼ï¼Œä¸éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹ jarï¼ˆä¸»è¦æ˜¯ä¸éœ€è¦æ·»åŠ  commons-fileupload è¿™ä¸ªä¾èµ–ï¼‰ï¼Œä½†æ˜¯ä¹Ÿä¸æ”¯æŒ Servlet3.0 ä¹‹å‰çš„ç‰ˆæœ¬ã€‚
ä½¿ç”¨ StandardServletMultipartResolver ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆåœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®è¿™ä¸ª Beanï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.support.StandardServletMultipartResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æ³¨æ„ï¼Œè¿™é‡Œ Bean çš„åå­—ä¾ç„¶å« multipartResolver</strong></p> <ul><li><p>é…ç½®å®Œæˆåï¼Œæ³¨æ„ï¼Œè¿™ä¸ª Bean æ— æ³•ç›´æ¥é…ç½®ä¸Šä¼ æ–‡ä»¶å¤§å°ç­‰é™åˆ¶ã€‚éœ€è¦åœ¨ web.xml ä¸­è¿›è¡Œé…ç½®ï¼ˆè¿™é‡Œï¼Œå³ä½¿ä¸éœ€è¦é™åˆ¶æ–‡ä»¶ä¸Šä¼ å¤§å°ï¼Œä¹Ÿéœ€è¦åœ¨ web.xml ä¸­é…ç½® multipart-configï¼‰</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>multipart-config</span><span class="token punctuation">&gt;</span></span> 
    <span class="token comment">&lt;!--æ–‡ä»¶ä¿å­˜çš„ä¸´æ—¶ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ç³»ç»Ÿä¸ä¼šä¸»åŠ¨åˆ›å»º--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">&gt;</span></span>E:\\temp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">&gt;</span></span> 
    <span class="token comment">&lt;!--ä¸Šä¼ çš„å•ä¸ªæ–‡ä»¶å¤§å°--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>max-file-size</span><span class="token punctuation">&gt;</span></span>1048576<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>max-file-size</span><span class="token punctuation">&gt;</span></span> 
    <span class="token comment">&lt;!--ä¸Šä¼ çš„æ€»æ–‡ä»¶å¤§å°--&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>max-request-size</span><span class="token punctuation">&gt;</span></span>1048576<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>max-request-size</span><span class="token punctuation">&gt;</span></span> 
    <span class="token comment">&lt;!--è¿™ä¸ªå°±æ˜¯å†…å­˜ä¸­ä¿å­˜çš„æ–‡ä»¶æœ€å¤§å¤§å°--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file-size-threshold</span><span class="token punctuation">&gt;</span></span>4096<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file-size-threshold</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>multipart-config</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <p>é…ç½®å®Œæˆåï¼Œå°±å¯ä»¥æµ‹è¯•æ–‡ä»¶ä¸Šä¼ äº†ï¼Œæµ‹è¯•æ–¹å¼å’Œä¸Šé¢ä¸€æ ·ã€‚</p> <h3 id="_3ã€å¤šæ–‡ä»¶ä¸Šä¼ "><a href="#_3ã€å¤šæ–‡ä»¶ä¸Šä¼ " class="header-anchor">#</a> 3ã€å¤šæ–‡ä»¶ä¸Šä¼ </h3> <p>ä¸»è¦æ˜¯ input èŠ‚ç‚¹ä¸­å¤šäº† multiple å±æ€§ã€‚åç«¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥æ¥æ”¶æ–‡ä»¶å³å¯ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/upload2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> files<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file <span class="token operator">:</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;D:/&quot;</span><span class="token operator">+</span>file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">&quot;upload&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_11ã€æ‹¦æˆªå™¨"><a href="#_11ã€æ‹¦æˆªå™¨" class="header-anchor">#</a> 11ã€æ‹¦æˆªå™¨</h2> <p>SpringMVC ä¸­çš„æ‹¦æˆªå™¨ï¼Œç›¸å½“äº Jsp/Servlet ä¸­çš„è¿‡æ»¤å™¨ï¼Œåªä¸è¿‡æ‹¦æˆªå™¨çš„åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¿™ä¸ªæ˜¯è¯·æ±‚é¢„å¤„ç†çš„æ–¹æ³•ï¼Œåªæœ‰å½“è¿™ä¸ªæ–¹æ³•è¿”å›å€¼ä¸º true çš„æ—¶å€™ï¼Œåé¢çš„æ–¹æ³•æ‰ä¼šæ‰§è¡Œ</span>
    <span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>Spring MVC ä¹Ÿå¯ä»¥ä½¿ç”¨æ‹¦æˆªå™¨å¯¹è¯·æ±‚è¿›è¡Œæ‹¦æˆªå¤„ç†ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ï¼Œè‡ªå®šä¹‰çš„æ‹¦æˆªå™¨å¿…é¡»å®ç°HandlerInterceptor æ¥å£</p> <ul><li>preHandle()ï¼šè¿™ä¸ªæ–¹æ³•åœ¨ä¸šåŠ¡å¤„ç†å™¨å¤„ç†è¯·æ±‚ä¹‹å‰è¢«è°ƒç”¨ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­å¯¹ç”¨æˆ·è¯·æ±‚request è¿›è¡Œå¤„ç†ã€‚å¦‚æœç¨‹åºå‘˜å†³å®šè¯¥æ‹¦æˆªå™¨å¯¹è¯·æ±‚è¿›è¡Œæ‹¦æˆªå¤„ç†åè¿˜è¦è°ƒç”¨å…¶ä»–çš„æ‹¦æˆªå™¨ï¼Œæˆ–è€…æ˜¯ä¸šåŠ¡å¤„ç†å™¨å»è¿›è¡Œå¤„ç†ï¼Œåˆ™è¿”å›trueï¼›å¦‚æœç¨‹åºå‘˜å†³å®šä¸éœ€è¦å†è°ƒç”¨å…¶ä»–çš„ç»„ä»¶å»å¤„ç†è¯·æ±‚ï¼Œåˆ™è¿”å›falseã€‚</li> <li>postHandle()ï¼šè¿™ä¸ªæ–¹æ³•åœ¨ä¸šåŠ¡å¤„ç†å™¨å¤„ç†å®Œè¯·æ±‚åï¼Œä½†æ˜¯DispatcherServlet å‘å®¢æˆ·ç«¯è¿”å›å“åº”å‰è¢«è°ƒç”¨ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­å¯¹ç”¨æˆ·è¯·æ±‚request è¿›è¡Œå¤„ç†ã€‚</li> <li>afterCompletion()ï¼šè¿™ä¸ªæ–¹æ³•åœ¨DispatcherServlet å®Œå…¨å¤„ç†å®Œè¯·æ±‚åè¢«è°ƒç”¨ï¼Œå¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­è¿›è¡Œä¸€äº›èµ„æºæ¸…ç†çš„æ“ä½œã€‚</li></ul></blockquote> <h3 id="_1ã€å•ä¸ªæ‹¦æˆªå™¨"><a href="#_1ã€å•ä¸ªæ‹¦æˆªå™¨" class="header-anchor">#</a> 1ã€å•ä¸ªæ‹¦æˆªå™¨</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * è¿™ä¸ªæ˜¯è¯·æ±‚é¢„å¤„ç†çš„æ–¹æ³•ï¼Œåªæœ‰å½“è¿™ä¸ªæ–¹æ³•è¿”å›å€¼ä¸º true çš„æ—¶å€™ï¼Œåé¢çš„æ–¹æ³•æ‰ä¼šæ‰§è¡Œ
     * @param request
     * @param response
     * @param handler
     * @return
     * @throws Exception
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;==========å¤„ç†å‰==========&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;==========å¤„ç†å==========&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;==========æ¸…ç†==========&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>controller</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterceptorController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/t1&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>åœ¨applicationContext.xmlé…ç½®æ‹¦æˆªå™¨</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code> <span class="token comment">&lt;!--é…ç½®æ‹¦æˆªå™¨--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/**<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaobear.config.MyInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2ã€æ‹¦æˆªç™»å½•å®ä¾‹"><a href="#_2ã€æ‹¦æˆªç™»å½•å®ä¾‹" class="header-anchor">#</a> 2ã€æ‹¦æˆªç™»å½•å®ä¾‹</h3> <ul><li><p>ç™»å½•è¡¨å•login.jsp</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ç™»å½•é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${pageContext.request.contextPath}/user/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    å¯†ç ï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>index.jspå®ç°è·³è½¬</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>$Title$<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${pageContext.request.contextPath}/user/toLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç™»å½•é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${pageContext.request.contextPath}/user/main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>ç™»å½•æˆåŠŸåè¿›å…¥é¦–é¡µ</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>é¦–é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>${username}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${pageContext.request.contextPath}/user/goOut<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ³¨é”€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>ç™»å½•æ‹¦æˆªå™¨</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;toLogin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;userLoginInfo&quot;</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/jsp/login.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p>controllerå±‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;userLoginInfo&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/goOut&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">goOut</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>
        session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;userLoginInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/main&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/toLogin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">main1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li> <li><p>é…ç½®æ‹¦æˆªå™¨</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®æ‹¦æˆªå™¨--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/**<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xiaobear.config.LoginInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h2 id="_12ã€é™æ€èµ„æºè®¿é—®"><a href="#_12ã€é™æ€èµ„æºè®¿é—®" class="header-anchor">#</a> 12ã€é™æ€èµ„æºè®¿é—®</h2> <p>åœ¨ SpringMVC ä¸­ï¼Œé™æ€èµ„æºï¼Œé»˜è®¤éƒ½æ˜¯è¢«æ‹¦æˆªçš„ï¼Œä¾‹å¦‚ htmlã€jsã€cssã€jpgã€pngã€txtã€pdf ç­‰ç­‰ï¼Œéƒ½æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ã€‚å› ä¸ºæ‰€æœ‰è¯·æ±‚éƒ½è¢«æ‹¦æˆªäº†ï¼Œæ‰€ä»¥ï¼Œé’ˆå¯¹é™æ€èµ„æºï¼Œæˆ‘ä»¬è¦åšé¢å¤–å¤„ç†ï¼Œå¤„ç†æ–¹å¼å¾ˆç®€å•ï¼Œç›´æ¥åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/html/**<span class="token punctuation">&quot;</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/html/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>mapping è¡¨ç¤ºæ˜ å°„è§„åˆ™ï¼Œä¹Ÿæ˜¯æ‹¦æˆªè§„åˆ™ï¼Œå°±æ˜¯è¯´ï¼Œå¦‚æœè¯·æ±‚åœ°å€æ˜¯ /static/html è¿™æ ·çš„æ ¼å¼çš„è¯ï¼Œé‚£ä¹ˆå¯¹åº”çš„èµ„æºå°±å» /static/html/ è¿™ä¸ªç›®å½•ä¸‹æŸ¥æ‰¾ã€‚</p> <ul><li>åœ¨æ˜ å°„è·¯å¾„çš„å®šä¹‰ä¸­ï¼Œæœ€åæ˜¯ä¸¤ä¸ª *ï¼Œè¿™æ˜¯ä¸€ç§ Ant é£æ ¼çš„è·¯å¾„åŒ¹é…ç¬¦å·ï¼Œä¸€å…±æœ‰ä¸‰ä¸ªé€šé…ç¬¦ï¼š</li></ul> <table><thead><tr><th style="text-align:center;">é€šé…ç¬¦</th> <th style="text-align:center;">å«ä¹‰</th></tr></thead> <tbody><tr><td style="text-align:center;">**</td> <td style="text-align:center;">åŒ¹é…å¤šå±‚è·¯å¾„</td></tr> <tr><td style="text-align:center;">*</td> <td style="text-align:center;">åŒ¹é…ä¸€å±‚è·¯å¾„</td></tr> <tr><td style="text-align:center;">ï¼Ÿ</td> <td style="text-align:center;">åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦</td></tr></tbody></table> <p>ä¸€ä¸ªæ¯”è¾ƒåŸå§‹çš„é…ç½®æ–¹å¼å¯èƒ½å¦‚ä¸‹ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/html/**<span class="token punctuation">&quot;</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/html/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/js/**<span class="token punctuation">&quot;</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/js/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/css/**<span class="token punctuation">&quot;</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/static/css/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä½†æ˜¯ï¼Œç”±äº ** å¯ä»¥è¡¨ç¤ºå¤šçº§è·¯å¾„ï¼Œæ‰€ä»¥ï¼Œä»¥ä¸Šé…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç®€åŒ–ï¼š</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/**<span class="token punctuation">&quot;</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ğŸ•£ä¸Šä¸€æ¬¡æ›´æ–°: </span> <span class="time">2022/11/27</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/frame/JavaWebNote.html" class="prev">
          Java Web
        </a></span> <span class="next"><a href="/notes/frame/MybatisNote.html">
          Mybatis
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€springç®€ä»‹" class="sidebar-link reco-side-_1ã€springç®€ä»‹" data-v-b57cc07c>1ã€Springç®€ä»‹</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1-å¸¸ç”¨ç»„ä»¶" class="sidebar-link reco-side-_1-å¸¸ç”¨ç»„ä»¶" data-v-b57cc07c>1.å¸¸ç”¨ç»„ä»¶</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€springmvcå’Œstrutsçš„åŒºåˆ«" class="sidebar-link reco-side-_2ã€springmvcå’Œstrutsçš„åŒºåˆ«" data-v-b57cc07c>2ã€SpringMVCå’ŒStrutsçš„åŒºåˆ«</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€springmvcçš„ç‰¹ç‚¹" class="sidebar-link reco-side-_3ã€springmvcçš„ç‰¹ç‚¹" data-v-b57cc07c>3ã€SpringMVCçš„ç‰¹ç‚¹</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_4ã€å›é¡¾servlet" class="sidebar-link reco-side-_4ã€å›é¡¾servlet" data-v-b57cc07c>4ã€å›é¡¾Servlet</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€æ°¸è¿œçš„helloworld" class="sidebar-link reco-side-_2ã€æ°¸è¿œçš„helloworld" data-v-b57cc07c>2ã€æ°¸è¿œçš„HelloWorld</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€åœ¨web-xml-ä¸­é…ç½®dispatcherservlet" class="sidebar-link reco-side-_1ã€åœ¨web-xml-ä¸­é…ç½®dispatcherservlet" data-v-b57cc07c>1ã€åœ¨web.xml ä¸­é…ç½®DispatcherServlet</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€åŠ è½½-springmvc-é…ç½®æ–‡ä»¶" class="sidebar-link reco-side-_2ã€åŠ è½½-springmvc-é…ç½®æ–‡ä»¶" data-v-b57cc07c>2ã€åŠ è½½ springmvc é…ç½®æ–‡ä»¶</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€controller-å¤„ç†æµè§ˆå™¨è¯·æ±‚çš„æ¥å£" class="sidebar-link reco-side-_3ã€controller-å¤„ç†æµè§ˆå™¨è¯·æ±‚çš„æ¥å£" data-v-b57cc07c>3ã€Controllerï¼Œå¤„ç†æµè§ˆå™¨è¯·æ±‚çš„æ¥å£</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_4ã€åˆ›å»ºè§†å›¾" class="sidebar-link reco-side-_4ã€åˆ›å»ºè§†å›¾" data-v-b57cc07c>4ã€åˆ›å»ºè§†å›¾</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_5ã€hello-mvcæ·±åº¦è§£æ" class="sidebar-link reco-side-_5ã€hello-mvcæ·±åº¦è§£æ" data-v-b57cc07c>5ã€hello MVCæ·±åº¦è§£æ</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€spring-mvcå·¥ä½œæµç¨‹" class="sidebar-link reco-side-_3ã€spring-mvcå·¥ä½œæµç¨‹" data-v-b57cc07c>3ã€Spring MVCå·¥ä½œæµç¨‹</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_4ã€åŸºäºæ³¨è§£å¼€å‘spring-mvc" class="sidebar-link reco-side-_4ã€åŸºäºæ³¨è§£å¼€å‘spring-mvc" data-v-b57cc07c>4ã€åŸºäºæ³¨è§£å¼€å‘Spring MVC</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€åœ¨-web-xml-ä¸­é…ç½®-dispatcherservlet" class="sidebar-link reco-side-_1ã€åœ¨-web-xml-ä¸­é…ç½®-dispatcherservlet" data-v-b57cc07c>1ã€åœ¨ web.xml ä¸­é…ç½® DispatcherServlet</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€æ–°å»ºspringé…ç½®æ–‡ä»¶-springmvc-servlet-xml" class="sidebar-link reco-side-_2ã€æ–°å»ºspringé…ç½®æ–‡ä»¶-springmvc-servlet-xml" data-v-b57cc07c>2ã€æ–°å»ºspringé…ç½®æ–‡ä»¶ï¼šspringmvc-servlet.xml</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€controller" class="sidebar-link reco-side-_3ã€controller" data-v-b57cc07c>3ã€Controller</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_4ã€åœ¨-web-inf-æ–°å»ºjspç›®å½•-æ–°å»ºhello-jspè§†å›¾" class="sidebar-link reco-side-_4ã€åœ¨-web-inf-æ–°å»ºjspç›®å½•-æ–°å»ºhello-jspè§†å›¾" data-v-b57cc07c>4ã€åœ¨/WEB-INF/æ–°å»ºjspç›®å½•ï¼Œæ–°å»ºhello.jspè§†å›¾</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_5ã€dispatcherservletä¸å¤„ç†å™¨" class="sidebar-link reco-side-_5ã€dispatcherservletä¸å¤„ç†å™¨" data-v-b57cc07c>5ã€DispatcherServletä¸å¤„ç†å™¨</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€dispatcherservlet" class="sidebar-link reco-side-_1ã€dispatcherservlet" data-v-b57cc07c>1ã€DispatcherServlet</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€å¤„ç†å™¨" class="sidebar-link reco-side-_2ã€å¤„ç†å™¨" data-v-b57cc07c>2ã€å¤„ç†å™¨</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_6ã€-requestmapping" class="sidebar-link reco-side-_6ã€-requestmapping" data-v-b57cc07c>6ã€@RequestMapping</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€æ˜ å°„è¯·æ±‚å‚æ•°ã€è¯·æ±‚æ–¹æ³•æˆ–è¯·æ±‚å¤´" class="sidebar-link reco-side-_1ã€æ˜ å°„è¯·æ±‚å‚æ•°ã€è¯·æ±‚æ–¹æ³•æˆ–è¯·æ±‚å¤´" data-v-b57cc07c>1ã€æ˜ å°„è¯·æ±‚å‚æ•°ã€è¯·æ±‚æ–¹æ³•æˆ–è¯·æ±‚å¤´</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€urlæ¨¡å¼" class="sidebar-link reco-side-_2ã€urlæ¨¡å¼" data-v-b57cc07c>2ã€URLæ¨¡å¼</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€requestmapping-æ˜ å°„è¯·æ±‚å ä½ç¬¦pathvariableæ³¨è§£" class="sidebar-link reco-side-_3ã€requestmapping-æ˜ å°„è¯·æ±‚å ä½ç¬¦pathvariableæ³¨è§£" data-v-b57cc07c>3ã€RequestMapping æ˜ å°„è¯·æ±‚å ä½ç¬¦PathVariable æ³¨è§£</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_7ã€restful" class="sidebar-link reco-side-_7ã€restful" data-v-b57cc07c>7ã€RestFul</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€rest-æ˜¯ä»€ä¹ˆ" class="sidebar-link reco-side-_1ã€rest-æ˜¯ä»€ä¹ˆ" data-v-b57cc07c>1ã€REST æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€urlé£æ ¼" class="sidebar-link reco-side-_2ã€urlé£æ ¼" data-v-b57cc07c>2ã€URLé£æ ¼</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€hiddenhttpmethodfilter" class="sidebar-link reco-side-_3ã€hiddenhttpmethodfilter" data-v-b57cc07c>3ã€HiddenHttpMethodFilter</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_8ã€å¤„ç†æ•°æ®" class="sidebar-link reco-side-_8ã€å¤„ç†æ•°æ®" data-v-b57cc07c>8ã€å¤„ç†æ•°æ®</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€å¤„ç†è¯·æ±‚æ•°æ®" class="sidebar-link reco-side-_1ã€å¤„ç†è¯·æ±‚æ•°æ®" data-v-b57cc07c>1ã€å¤„ç†è¯·æ±‚æ•°æ®</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€å¤„ç†å“åº”æ•°æ®" class="sidebar-link reco-side-_2ã€å¤„ç†å“åº”æ•°æ®" data-v-b57cc07c>2ã€å¤„ç†å“åº”æ•°æ®</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€é‡å®šå‘" class="sidebar-link reco-side-_3ã€é‡å®šå‘" data-v-b57cc07c>3ã€é‡å®šå‘</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_9ã€json" class="sidebar-link reco-side-_9ã€json" data-v-b57cc07c>9ã€JSON</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€jackson" class="sidebar-link reco-side-_1ã€jackson" data-v-b57cc07c>1ã€Jackson</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€fastjson" class="sidebar-link reco-side-_2ã€fastjson" data-v-b57cc07c>2ã€fastjson</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_10ã€æ–‡ä»¶ä¸Šä¼ " class="sidebar-link reco-side-_10ã€æ–‡ä»¶ä¸Šä¼ " data-v-b57cc07c>10ã€æ–‡ä»¶ä¸Šä¼ </a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€commonsmultipartresolver" class="sidebar-link reco-side-_1ã€commonsmultipartresolver" data-v-b57cc07c>1ã€CommonsMultipartResolver</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€standardservletmultipartresolver" class="sidebar-link reco-side-_2ã€standardservletmultipartresolver" data-v-b57cc07c>2ã€StandardServletMultipartResolver</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_3ã€å¤šæ–‡ä»¶ä¸Šä¼ " class="sidebar-link reco-side-_3ã€å¤šæ–‡ä»¶ä¸Šä¼ " data-v-b57cc07c>3ã€å¤šæ–‡ä»¶ä¸Šä¼ </a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_11ã€æ‹¦æˆªå™¨" class="sidebar-link reco-side-_11ã€æ‹¦æˆªå™¨" data-v-b57cc07c>11ã€æ‹¦æˆªå™¨</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_1ã€å•ä¸ªæ‹¦æˆªå™¨" class="sidebar-link reco-side-_1ã€å•ä¸ªæ‹¦æˆªå™¨" data-v-b57cc07c>1ã€å•ä¸ªæ‹¦æˆªå™¨</a></li><li class="level-3" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_2ã€æ‹¦æˆªç™»å½•å®ä¾‹" class="sidebar-link reco-side-_2ã€æ‹¦æˆªç™»å½•å®ä¾‹" data-v-b57cc07c>2ã€æ‹¦æˆªç™»å½•å®ä¾‹</a></li><li class="level-2" data-v-b57cc07c><a href="/notes/frame/SpringMVCNote.html#_12ã€é™æ€èµ„æºè®¿é—®" class="sidebar-link reco-side-_12ã€é™æ€èµ„æºè®¿é—®" data-v-b57cc07c>12ã€é™æ€èµ„æºè®¿é—®</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><!----></div></div>
    <script src="/assets/js/app.99216a20.js" defer></script><script src="/assets/js/12.7962cb97.js" defer></script><script src="/assets/js/1.bd1f57cf.js" defer></script><script src="/assets/js/21.f29af704.js" defer></script><script src="/assets/js/50.76611734.js" defer></script>
  </body>
</html>
