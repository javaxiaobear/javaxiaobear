import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c as d,a as e,b as n,d as s,e as i}from"./app-f55ccf80.js";const c="/assets/image-20220430222420653-fc9f5350.png",t="/assets/image-20220510225719141-dc616d14.png",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAecAAABSCAYAAABufRwmAAALG0lEQVR4nO3dT2iUdx7H8Y+rc3sQepAEEmsk0EBW2XZZTA4bStIedqFYA9UmgaToYi9xu9BDUNoMMrYoHtotm1wqrnQKpomHZO2hHmxK0UPiFtrFVrBgiFUhkoMgc0vL7CEzZvLkeZ75PX/meZ5J3i8I7czz/H6/rzPP8/vO788k24rFYlEAACA1fpd0AAAAYL0dkrSwsJB0HAAAoGSH24GGhoY44wAAACVMawMAkDIkZwAAUobkDABAypCcAQBIGZIzAAApQ3IGACBlSM4AAKQMyRkAgJQhOQMAkDIkZwAAUobkDABAyrj+bu3t27fHGQcAAChxTc47drgeAgAANcS0NgAAKUNyBgAgZUjOAACkDMnZwPBwJvbyYduMsq4oYwEAVEdyrmJ4OKPx8ZXACSpI+XKZysdOP7VqP8ryAAD/thWLxeLCwsKGA88//3wC4aSLU5KsfFyL8n7biLr9KMsDAIKJaeS8pIn+jDKZyp+zmrMdP/LF0vpSXxxRpn9CS5LmPlwtd3a+4oT5s8+OR6k8MrUnovII0mQU6VXepEyYkWpS8QMAohHrl5l7P3+gqb5GSavJtqu/RQ8m+tVoWsEbvfr++pzU0VmT+MqJxytB2o85jSTtSbbynHKCcyoXdlSadPwAgGgk9ptGOl/NSacXtTgh8+S8r1e9P36kiYdT6m8OH8MPFzO6oBsa/9tqsncaKbpxS2r2Y07JrHIEapIcvdjrTTb+OV0Y7pLeXtHxP3iGDQDwkFByXtLEP7PS6RvyNwbeq+7XpXduLqm/zzilO7Z/LbdbXyqv0Wx0o3A/o0m3c+3J2H5eLUet4ePv1PFsXmdyGZ157YFG/xrmPQKArSvW5Dw9uFuZwdKD0ze08p7/xNjY965e6v9GS30+psMrPZ7QmdyQlv64NmKu5DYV7DVFbFJHtaRbPifsum6S8UuSGvo1Or5XF4Z3a/i/eY1mA75PALCFJbLmPPdhRl2Ba+lU974uXZrv1ym/Rf93VsOfZvXi2ysa9Zh2te9Qrva8V3knbmWjGhEnFf+aTh0ff6Brud06M7yo4+On9GKVEgCANYl8z7nzrbx6T39TsVvbZ/lXc8pe91t6Sdf+kw3YYnTqfTOVefyNamySpKy+/Crq/fQAsLkl80tImvv17umsPvrCoNPet3fjtGjHUeV/9JvcG/WX7IrGs3ktfZrR8MWgHw2C2zqJeU4XhjO68Civ0fEV1p4BwKdEd2tP//mS5vpOqVON6n69V0OD5ceSHk7oncFp5W5OOZRuVPfr3+vS9Zf8N9zQr9Hxbl3L7dZwznlNNIrv8tqnk+NMzInGX1rT12sPNE5SBoBAkvujzR1HlX9jt7o+7NbKe51q7JvSjXsZdWXWpp5zN1d0qsO5eGPfu1KmS3ojH6Dx1VF048WMzlzcu2FjmNfarGniM13frYXk4p/ThdyQGvkqFQCEwq/vNBTFyNfru83V2nLb2OWn7bjiBwCEQ3IGACBl+KtUAACkDMkZAICUITkDAJAyJGcAAFKG5AwAQMq4fs/5119/jTMOAABQ4pqcf/vttzjjAAAAJUxrAwCQMiRnAABShuQMAEDKbInkPGZZsZcP22aUdUUZS5j2TOIYsyxfP2kX1bXjpx6vc03fA/tjv6975TlJvAZbUb31E/CW3F+lismYZelEofDsv3GUt5/rdtGb1JdE/FGo/Dd7vRZOMfl5nU2ecxPn6xEn+/vt9t77uSZMrmckp177Cbjb1Mm58kILcuEFKe90TtCLPYn4w3K7yU2SRRTCJqEwgswY2OPyitXtA08cajUq8/t+mXy422rqsZ9AdbEm5+UrA/pKH2vocIPunLP0Xes9DR1uiLyd8g3slCTdjjnV4Vbeq+OIIgElFX9Ybje5vU2TOKolgzR2Hn4SrRO368d0JsZpOtpv+05l/b7WTrGbxlKOwf5BxKl89CP4ec1Yr0izBR06ELCKR1PKtx3T09LD5g11rbbxsPRo56XgfWC99hMws6lGzvYL0unmtR+r9sndT2IJezEnHX9YfmYMqrVf7x2DWzIx6SydypgkOdMPO9VGsfbrp/J4HKN3+weRukoUTUc0VDiiZ4l+gw4dKhQkPda3g626H6CJeu8nYCbekfO9q1Lrx5Iea/knaWdPiFHzoynl22a05+5lvdy0+lTY5OB0IXuN/Lzq8bpx3OJIOv7lKwOavHpIb35+RLs8o/ZmshbMTb+RU0cZxXRl2NfaKSmbjN6j6ty5VtZLup9APOJJzrfOa6wnV3rQqrGjpf+dtjSmrHoKI2oPUF/zbOFZYo6Cnwsw6JpY3Outfs7ddfiyeu5ZmrQW/b8nHnWH2aRiUn+184PUFUaY6dZqm7dMl1VM4/Ez1VytvsoYneoO+wEtknvHNu0sx/6ncur5oPZXDAAk6c45S7MfeJVPtyj6OdRePMn5wIhOFN7St4OtevL3gg4dmNeM9Ymes130JlZvjIPaf9c5MbtN8XhN/ZjUYdKx2DunIJKMX5LaTxa0q3VAk5aln32uvdUiOfpZZ/SbtGrBfg14JTbTDzGmG3bcjrlNXZr8O5JYqvC6VsK9l/OaaTumnbMFDXlc1w97PtH+uwUdair1Nyen1F6aTbpzztLsT//Wm4XVx8tXBjRpnZdiTtBJ9xOovRintRf1ZPqgnjsn6dF9PdWLesFXYl5do7mttRvDjX3NqtrzXuWd1HoUllT8ZbsOX9aJPec11mMp72PDikm7m/lm90qMbsed6qgs67Vhx16/Wyxe680m15qf+KNgep0H9XB2XjrQ4Xq8eXZt0NDek9XsB4talrRL8/r5g4Paf3et/9l1+B9qPvqKfr41ovagm8gCSrqfqDxnM9/XSYklOVdOAz1ss3S79PysldN3pp3/rc90e1pSb62iNFPvCcY4/qYW7ZT09OhnunPYfFRQ7YaOY0NRFIJ0OlGs7bo9Z4/Hb1uVid5thsfeVhpHVuHa69ChwteasV7RWKk/8rVb+tF9PdXVdX1YWXOIqNLI9INkkFkZmIklObefLKh9cEr5tkX9qTCi9lvnNfavFn8bjw6M6ERhRHfOWZq0ZjasA8Wh3i9A0/iXrwxo8uhVNVeZ/nPiVX+Q168WI6d65Jak3c6LeiNWFB+q/Ey51k55t7RK68+tmtljuHzTtEc7dXDdJtTNqN77uc0i3q9S9baE2gUslRJ9z3mNtVl64rImGkWHbjK9WCtJxr86y5FVT+FyqDW0KF6vJDuIsHsHwnD7qozTGrBpHWHjcRp5+5W6Dr9pj3b6KtChF96/um4NOklJ93Ps5q6t+JLzo0U9VYskafn+D9LvXw5+cR8Y0Ym7Lcq3Dehbh0+xXmsuphd0rde9grZdy/iXrwys2+wSRtwfaKIWRex+p4XdOjrTUXPUSwZe8dSyU67Z/bZhp3ZpWtvH7FD7yYJ0ztKkdazi2bUd2+VZp2d6LI2pYvp83TdXJE2Xvr3y/tc6cdJ9HdxJGvq5er2/68G2YrFYXFhY2HCgoSH639yVpCg72yAbn8J2nHHGHzU///Ygm6aiaNdvDHHUEVXdXtdjLTaEubUXpKxp7FhVz/0E1tsyyRkAgHqxJf5kJAAA9YTkDABAypCcAQBIGZIzAAApQ3IGACBlXL/nvH379jjjAAAAJa7JeceOeH95GAAAWMW0NgAAKUNyBgAgZUjOAACkDMkZAICUITkDAJAyJGcAAFKG5AwAQMqQnAEASBmSMwAAKUNyBgAgZUjOAACkDMkZAICUcf3rFr/88kuccQAAgJJtxWKxmHQQAABgDdPaAACkzP8BNGUdOpFHEF4AAAAASUVORK5CYII=",u="/assets/image-20220512215836552-ca552f05.png",k="/assets/image-20220512221804933-caccac47.png",v="/assets/image-20220512231336016-36679328.png",b="/assets/image-20220514161842221-41100de6.png",m="/assets/image-20220514225139910-e58f2790.png",A={},h=e("h3",{id:"_1、什么是dockerfile",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1、什么是dockerfile","aria-hidden":"true"},"#"),n(" 1、什么是DockerFile")],-1),g=e("p",null,"DockerFile是用来构建Docker镜像的文本文件，是由一条条构建镜像所需的指令和参数构成的脚本。",-1),f={href:"https://docs.docker.com/engine/reference/builder/",target:"_blank",rel:"noopener noreferrer"},x=i('<p><img src="'+c+'" alt="image-20220430222420653" loading="lazy"></p><p>构建步骤：</p><ul><li>编写Dockerfile文件</li><li>docker build命令构建镜像</li><li>docker run依镜像运行容器实例</li></ul><h3 id="_2、dockerfile构建过程解析" tabindex="-1"><a class="header-anchor" href="#_2、dockerfile构建过程解析" aria-hidden="true">#</a> 2、DockerFile构建过程解析</h3><h4 id="_1、dockerfile内容基础知识" tabindex="-1"><a class="header-anchor" href="#_1、dockerfile内容基础知识" aria-hidden="true">#</a> 1、Dockerfile内容基础知识</h4><blockquote><ol><li>每条保留字指令都必须为大写字母且后面要跟随至少一个参数</li><li>指令按照从上到下，顺序执行</li><li>表示注释</li><li>每条指令都会创建一个新的镜像层并对镜像进行提交</li></ol></blockquote><h4 id="_2、docker执行dockerfile的大致流程" tabindex="-1"><a class="header-anchor" href="#_2、docker执行dockerfile的大致流程" aria-hidden="true">#</a> 2、Docker执行Dockerfile的大致流程</h4><blockquote><ol><li>docker从基础镜像运行一个容器</li><li>执行一条指令并对容器作出修改</li><li>执行类似docker commit的操作提交一个新的镜像层</li><li>docker再基于刚提交的镜像运行一个新容器</li><li>执行dockerfile中的下一条指令直到所有指令都执行完成</li></ol></blockquote><h4 id="_3、总结" tabindex="-1"><a class="header-anchor" href="#_3、总结" aria-hidden="true">#</a> 3、总结</h4><p>从应用软件的角度来看，Dockerfile、Docker镜像与Docker容器分别代表软件的三个不同阶段，</p><ul><li>Dockerfile是软件的原材料</li><li>Docker镜像是软件的交付品</li><li>Docker容器则可以认为是软件镜像的运行态，也即依照镜像运行的容器实例</li></ul><blockquote><p>Dockerfile面向开发，Docker镜像成为交付标准，Docker容器则涉及部署与运维，三者缺一不可，合力充当Docker体系的基石。</p></blockquote><p><img src="'+t+'" alt="image-20220510225719141" loading="lazy"></p><ul><li>Dockerfile，需要定义一个Dockerfile，Dockerfile定义了进程需要的一切东西。Dockerfile涉及的内容包括执行代码或者是文件、环境变量、依赖包、运行时环境、动态链接库、操作系统的发行版、服务进程和内核进程(当应用进程需要和系统服务和内核进程打交道，这时需要考虑如何设计namespace的权限控制)等等;</li><li>Docker镜像，在用Dockerfile定义一个文件之后，docker build时会产生一个Docker镜像，当运行 Docker镜像时会真正开始提供服务;</li><li>Docker容器，容器是直接提供服务的。</li></ul><h3 id="_3、docker常用保留字指令" tabindex="-1"><a class="header-anchor" href="#_3、docker常用保留字指令" aria-hidden="true">#</a> 3、Docker常用保留字指令</h3>',15),D={href:"http://www.dockerinfo.net/dockerfile%E4%BB%8B%E7%BB%8D",target:"_blank",rel:"noopener noreferrer"},y=i('<ul><li><p><code>FROM</code>：基础镜像，当前新镜像是基于哪个镜像的，指定一个已经存在的镜像作为模板，第一条必须是from</p></li><li><p><code>MAINTAINER</code>：镜像维护者的姓名和邮箱地址</p></li><li><p><code>RUN</code>：容器构建时需要运行的命令</p><blockquote><p>RUN是在 docker build时运行</p></blockquote><ul><li><p><code>shell格式</code>：例如 <code>RUN yum -y install vim</code></p><p><img src="'+p+'" alt="image-20220512215534789" loading="lazy"></p></li><li><p><code>exec格式</code>：</p><p><img src="'+u+`" alt="image-20220512215836552" loading="lazy"></p></li></ul></li><li><p><code>EXPOSE</code>：当前容器对外暴露出的端口</p></li><li><p><code>WORKDIR</code>：指定在创建容器后，终端默认登陆的进来工作目录，一个落脚点</p></li><li><p><code>USER</code>：指定该镜像以什么样的用户去执行，如果都不指定，默认是root</p></li><li><p><code>ENV</code>：用来在构建镜像过程中设置环境变量</p><blockquote><p>ENV MY_PATH /usr/mytest 这个环境变量可以在后续的任何RUN指令中使用，这就如同在命令前面指定了环境变量前缀一样； 也可以在其它指令中直接使用这些环境变量，</p><p>比如：WORKDIR $MY_PATH</p></blockquote></li><li><p><code>ADD</code>：将宿主机目录下的文件拷贝进镜像且会自动处理URL和解压tar压缩包</p></li><li><p><code>COPY</code>：类似ADD，拷贝文件和目录到镜像中。</p><blockquote><p>将从构建上下文目录中 &lt;源路径&gt; 的文件/目录复制到新的一层的镜像内的 &lt;目标路径&gt; 位置</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>COPY src dest

COPY [&quot;src&quot;, &quot;dest&quot;]
&lt;src源路径&gt;：源文件或者源目录
&lt;dest目标路径&gt;：容器内的指定路径，该路径不用事先建好，路径不存在的话，会自动创建。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>VOLUME</code>：容器数据卷，用于数据保存和持久化工作</p></li><li><p><code>CMD</code>：指定容器启动后的要干的事情</p><p><img src="`+k+'" alt="image-20220512221804933" loading="lazy"></p><ul><li>Dockerfile 中可以有多个 CMD 指令，但只有最后一个生效，CMD 会被 docker run <strong>之后的参数替换</strong></li><li>它和前面RUN命令的区别 <ul><li>CMD是在docker run 时运行。</li><li>RUN是在 docker build时运行。</li></ul></li></ul></li><li><p><code>ENTRYPOINT</code>：也是用来指定一个容器启动时要运行的命令</p><ul><li><p>类似于 CMD 指令，但是ENTRYPOINT不会被docker run后面的命令覆盖，而且这些命令行参数会被当作参数送给 ENTRYPOINT 指令指定的程序</p><blockquote><p>命令格式： ENTRYPOINT可以和CMD一起用，一般是变参才会使用 CMD ，这里的 CMD 等于是在给 ENTRYPOINT 传参。 当指定了ENTRYPOINT后，CMD的含义就发生了变化，不再是直接运行其命令而是将CMD的内容作为参数传递给ENTRYPOINT指令，他两个组合会变成</p><p>案例如下：假设已通过 Dockerfile 构建了 nginx:test 镜像：</p><table><thead><tr><th>是否传参</th><th>按照dockerfile编写执行</th><th>传参运行</th></tr></thead><tbody><tr><td>Docker命令</td><td>docker run nginx:test</td><td>docker run nginx:test -c /etc/nginx/new.conf</td></tr><tr><td>衍生出的实际命令</td><td>nginx -c /etc/nginx/nginx.conf</td><td>nginx -c /etc/nginx/new.conf</td></tr></tbody></table></blockquote></li><li><p>优点：在执行docker run的时候可以指定 ENTRYPOINT 运行所需的参数。</p></li><li><p>注意：如果 Dockerfile 中如果存在多个 ENTRYPOINT 指令，仅最后一个生效。</p></li></ul></li></ul><p><img src="'+v+'" alt="image-20220512231336016" loading="lazy"></p><h3 id="_4、构建案例" tabindex="-1"><a class="header-anchor" href="#_4、构建案例" aria-hidden="true">#</a> 4、构建案例</h3><h4 id="_1、实现目标" tabindex="-1"><a class="header-anchor" href="#_1、实现目标" aria-hidden="true">#</a> 1、实现目标</h4><blockquote><p>Centos7镜像具备vim+ifconfig+jdk8</p></blockquote>',5),N={href:"https://www.oracle.com/java/technologies/downloads/#java8",target:"_blank",rel:"noopener noreferrer"},O=i(`<h4 id="_2、编写dockerfile" tabindex="-1"><a class="header-anchor" href="#_2、编写dockerfile" aria-hidden="true">#</a> 2、编写DockerFile</h4><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> xiaobear&lt;xiaobear@qq.com&gt;</span>
 
<span class="token instruction"><span class="token keyword">ENV</span> MYPATH /usr/local</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> <span class="token variable">$MYPATH</span></span>
 
<span class="token comment">#centos8 需加上</span>
<span class="token instruction"><span class="token keyword">RUN</span> sed -i -e <span class="token string">&quot;s|mirrorlist=|#mirrorlist=|g&quot;</span> /etc/yum.repos.d/CentOS-*</span>
<span class="token instruction"><span class="token keyword">RUN</span> sed -i -e <span class="token string">&quot;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&quot;</span> /etc/yum.repos.d/CentOS-*</span>
<span class="token comment">#安装vim编辑器</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum -y install vim</span>
<span class="token comment">#安装ifconfig命令查看网络IP</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum -y install net-tools</span>
<span class="token comment">#安装java8及lib库</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum -y install glibc.i686</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir /usr/local/java</span>
<span class="token comment">#ADD 是相对路径jar,把jdk-8u333-linux-x64.tar.gz添加到容器中,安装包必须要和Dockerfile文件在同一位置</span>
<span class="token instruction"><span class="token keyword">ADD</span> jdk-8u333-linux-x64.tar.gz /usr/local/java/</span>
<span class="token comment">#配置java环境变量</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_HOME /usr/local/java/jdk1.8.0_333</span>
<span class="token instruction"><span class="token keyword">ENV</span> JRE_HOME <span class="token variable">$JAVA_HOME</span>/jre</span>
<span class="token instruction"><span class="token keyword">ENV</span> CLASSPATH <span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar:<span class="token variable">$JRE_HOME</span>/lib:<span class="token variable">$CLASSPATH</span></span>
<span class="token instruction"><span class="token keyword">ENV</span> PATH <span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$PATH</span></span>

<span class="token comment">#对外暴露端口 80</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>
 
<span class="token instruction"><span class="token keyword">CMD</span> echo <span class="token variable">$MYPATH</span></span>
<span class="token instruction"><span class="token keyword">CMD</span> echo <span class="token string">&quot;success--------------ok&quot;</span></span>
<span class="token instruction"><span class="token keyword">CMD</span> /bin/bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、构建" tabindex="-1"><a class="header-anchor" href="#_3、构建" aria-hidden="true">#</a> 3、构建</h4><blockquote><p><code>docker build -t 新镜像名字:TAG .</code></p></blockquote><p>PS：上面TAG后面有个空格，有个点</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker build -t centos_java8:2.0 .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4、运行" tabindex="-1"><a class="header-anchor" href="#_4、运行" aria-hidden="true">#</a> 4、运行</h4><blockquote><p><code>docker run -it 新镜像名字:TAG </code></p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@docker myDockerFile]## docker run -it 1ca6615ca841 /bin/bash
[root@c73761eb0626 local]## ls
bin  etc  games  include  java	lib  lib64  libexec  sbin  share  src
[root@c73761eb0626 local]## cd java
[root@c73761eb0626 java]## ls
jdk1.8.0_333
[root@c73761eb0626 java]## java -version
java version &quot;1.8.0_333&quot;
Java(TM) SE Runtime Environment (build 1.8.0_333-b02)
Java HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)
[root@c73761eb0626 java]## vim a.txt
[root@c73761eb0626 java]## cat a.txt 
hello Dockerfile
[root@c73761eb0626 java]## 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5、体会unionfs" tabindex="-1"><a class="header-anchor" href="#_5、体会unionfs" aria-hidden="true">#</a> 5、体会<code>UnionFS</code></h4><blockquote><p>UnionFS（联合文件系统）：Union文件系统（UnionFS）是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下(unite several directories into a single virtual filesystem)。Union 文件系统是 Docker 镜像的基础。镜像可以通过分层来进行继承，基于基础镜像（没有父镜像），可以制作各种具体的应用镜像。</p><p><img src="`+b+`" alt="image-20220514161842221" loading="lazy"></p><p>特性：一次同时加载多个文件系统，但从外面看起来，只能看到一个文件系统，联合加载会把各层文件系统叠加起来，这样最终的文件系统会包含所有底层的文件和目录</p></blockquote><h3 id="_5、虚悬镜像" tabindex="-1"><a class="header-anchor" href="#_5、虚悬镜像" aria-hidden="true">#</a> 5、虚悬镜像</h3><blockquote><p>仓库名、标签都是<code>&lt;none&gt;</code>的镜像，俗称dangling image</p></blockquote><h4 id="_1、编写dockerfile" tabindex="-1"><a class="header-anchor" href="#_1、编写dockerfile" aria-hidden="true">#</a> 1、编写Dockerfile</h4><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">from</span> ubuntu</span>
<span class="token instruction"><span class="token keyword">CMD</span> echo <span class="token string">&#39;action is success&#39;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>构建</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker build .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看镜像</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker ../../images
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+m+`" alt="image-20220514225139910" loading="lazy"></p><h4 id="_2、查看" tabindex="-1"><a class="header-anchor" href="#_2、查看" aria-hidden="true">#</a> 2、查看</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker image ls -f dangling=true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3、删除" tabindex="-1"><a class="header-anchor" href="#_3、删除" aria-hidden="true">#</a> 3、删除</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker image prune
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>虚悬镜像已经失去存在价值，可以删除</p>`,25);function q(_,P){const a=o("ExternalLinkIcon");return r(),d("div",null,[h,e("blockquote",null,[g,e("p",null,[n("官网："),e("a",f,[n("https://docs.docker.com/engine/reference/builder/"),s(a)])])]),x,e("blockquote",null,[e("p",null,[e("a",D,[n("Docker中文文档 Dockerfile介绍-DockerInfo"),s(a)])])]),y,e("p",null,[n("准备JDK："),e("a",N,[n("下载地址"),s(a)])]),O])}const R=l(A,[["render",q],["__file","dockerFile.html.vue"]]);export{R as default};
