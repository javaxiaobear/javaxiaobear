import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e as t}from"./app-f55ccf80.js";const e="/assets/image-20220616153704689-7bd1e9d7.png",p="/assets/image-20220616153916706-d50f5900.png",o="/assets/image-20220616161352940-16553672344001-533ed5ba.png",c="data:image/png;base64,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",i={},l=t('<h3 id="_1、bitmap用法" tabindex="-1"><a class="header-anchor" href="#_1、bitmap用法" aria-hidden="true">#</a> 1、BitMap用法</h3><h4 id="_1、场景" tabindex="-1"><a class="header-anchor" href="#_1、场景" aria-hidden="true">#</a> 1、场景</h4><p>假如我们用一张表来存储用户签到信息，其结构应该如下：</p><p><img src="'+e+'" alt="image-20220616153704689" loading="lazy"></p><blockquote><p>假如有1000万用户，平均每人每年签到次数为10次，则这张表一年的数据量为 1亿条 每签到一次需要使用（8 + 8 + 1 + 1 + 3 + 1）共22 字节的内存，一个月则最多需要600多字节</p></blockquote><p>很显然，这种做法占用空间过大，那有没有更好的做法呢？</p><h5 id="优化版" tabindex="-1"><a class="header-anchor" href="#优化版" aria-hidden="true">#</a> 优化版</h5><blockquote><p>我们按月来统计用户签到信息，签到记录为1，未签到则记录为0.</p></blockquote><p><img src="'+p+`" alt="image-20220616153916706" loading="lazy"></p><p>例：张三2022年1月的签到记录，key为<code>张三：202201</code>，值为0或1组成的bit，那这样一个月也就2字节</p><p><strong>把每一个bit位对应当月的每一天，形成了映射关系。用0和1标示业务状态，这种思路就称为位图（BitMap）</strong></p><p>Redis中是利用string类型数据结构实现BitMap，因此最大上限是512M，转换为bit则是 2^32个bit位</p><h4 id="_2、用法" tabindex="-1"><a class="header-anchor" href="#_2、用法" aria-hidden="true">#</a> 2、用法</h4><blockquote><p>Redis中是利用string类型数据结构实现BitMap，因此最大上限是512M，转换为bit则是 2^32个bit位。</p></blockquote><p>BitMap的操作命令有：</p><ul><li>SETBIT：向指定位置（offset）存入一个0或1</li><li>GETBIT ：获取指定位置（offset）的bit值</li><li>BITCOUNT ：统计BitMap中值为1的bit位的数量</li><li>BITFIELD ：操作（查询、修改、自增）BitMap中bit数组中的指定位置（offset）的值</li><li>BITFIELD_RO ：获取BitMap中bit数组，并以十进制形式返回</li><li>BITOP ：将多个BitMap的结果做位运算（与 、或、异或）</li><li>BITPOS ：查找bit数组中指定范围内第一个0或1出现的位置</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>localhost:0&gt;setbit zs 0 1
&quot;0&quot;
localhost:0&gt;setbit zs 1 0
&quot;0&quot;
localhost:0&gt;getbit zs 1
&quot;0&quot;
localhost:0&gt;bitcount zs
&quot;1&quot;
localhost:0&gt;bitpos zs 1
&quot;0&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、签到功能" tabindex="-1"><a class="header-anchor" href="#_2、签到功能" aria-hidden="true">#</a> 2、签到功能</h3><h4 id="_1、需求" tabindex="-1"><a class="header-anchor" href="#_1、需求" aria-hidden="true">#</a> 1、需求</h4><blockquote><p>实现签到接口，将当前用户当天签到信息保存到Redis中</p></blockquote><h4 id="_2、实现" tabindex="-1"><a class="header-anchor" href="#_2、实现" aria-hidden="true">#</a> 2、实现</h4><p>提示：因为BitMap底层是基于String数据结构，因此其操作也都封装在字符串相关操作中了。</p><p><img src="`+o+`" alt="image-20220616161352940" loading="lazy"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
     * 签到
     * <span class="token keyword">@return</span>
     */</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">sign</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//获取登录用户</span>
    <span class="token class-name">Long</span> userId <span class="token operator">=</span> <span class="token class-name">UserHolder</span><span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//获取日期，获取today是当前月的第几天</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> keySuffix <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;:yyyyMM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> dayOfMonth <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//存入redis</span>
    <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token class-name">RedisConstants</span><span class="token punctuation">.</span><span class="token constant">USER_SIGN_KEY</span> <span class="token operator">+</span> userId <span class="token operator">+</span> keySuffix<span class="token punctuation">;</span>
    stringRedisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setBit</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> dayOfMonth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、签到统计" tabindex="-1"><a class="header-anchor" href="#_3、签到统计" aria-hidden="true">#</a> 3、签到统计</h3><p>Q1：什么叫做连续签到天数？</p><blockquote><p>从最后一次签到开始向前统计，直到遇到第一次未签到为止，计算总的签到次数，就是连续签到天数。</p></blockquote><p><img src="`+c+`" alt="image-20220616161526309" loading="lazy"></p><p>Q2：如何得到本月到今天为止的所有签到数据？</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>BITFIELD key GET u[dayOfMonth] 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Q3：如何从后向前遍历每个bit位？</p><blockquote><p>与 1 做与运算，就能得到最后一个bit位。 随后右移1位，下一个bit位就成为了最后一个bit位。</p></blockquote><h4 id="实现签到统计功能" tabindex="-1"><a class="header-anchor" href="#实现签到统计功能" aria-hidden="true">#</a> 实现签到统计功能</h4><h5 id="_1、需求-1" tabindex="-1"><a class="header-anchor" href="#_1、需求-1" aria-hidden="true">#</a> 1、需求</h5><blockquote><p>统计当前用户截止当前时间在本月的连续签到天数</p></blockquote><h5 id="_2、实现-1" tabindex="-1"><a class="header-anchor" href="#_2、实现-1" aria-hidden="true">#</a> 2、实现</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">signCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//获取登录用户</span>
    <span class="token class-name">Long</span> userId <span class="token operator">=</span> <span class="token class-name">UserHolder</span><span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//获取日期，获取today是当前月的第几天</span>
    <span class="token class-name">LocalDateTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> keySuffix <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;:yyyyMM&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> dayOfMonth <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//存入redis</span>
    <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token class-name">RedisConstants</span><span class="token punctuation">.</span><span class="token constant">USER_SIGN_KEY</span> <span class="token operator">+</span> userId <span class="token operator">+</span> keySuffix<span class="token punctuation">;</span>
    <span class="token comment">//获取本月截止 今天为止的所有签到记录，返回一个十进制的数字</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> stringRedisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bitField</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>
                                                                   <span class="token class-name">BitFieldSubCommands</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">BitFieldSubCommands<span class="token punctuation">.</span>BitFieldType</span><span class="token punctuation">.</span><span class="token function">unsigned</span><span class="token punctuation">(</span>dayOfMonth<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//循环遍历</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> result <span class="token operator">||</span> result<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Long</span> num <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> num <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//让这个数字与1做与运算，得到数字的最后一个bit位</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//判断是否为0，如果为0，则表示未签到，结束，不为0，已签到，计数器+1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token punctuation">(</span>num <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//把数字右移一位，抛弃最后一个bit位，继续下一个bit位</span>
        num <span class="token operator">&gt;&gt;&gt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,37),u=[l];function r(d,k){return s(),a("div",null,u)}const v=n(i,[["render",r],["__file","user_sign.html.vue"]]);export{v as default};
